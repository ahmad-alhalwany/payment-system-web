[2025-05-20 07:10:17,543] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 07:11:42,368] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.013s
[2025-05-20 07:11:42,368] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.016s
[2025-05-20 07:11:42,499] INFO in server_improved: GET /check-initialization/ - 200 - 0.096s
[2025-05-20 07:11:42,520] INFO in server_improved: GET /check-initialization/ - 200 - 0.021s
[2025-05-20 07:11:46,353] INFO in server_improved: OPTIONS /login/ - 200 - 0.002s
[2025-05-20 07:11:47,090] INFO in server_improved: POST /login/ - 200 - 0.733s
[2025-05-20 07:11:50,118] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 07:11:50,125] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-05-20 07:11:50,128] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.006s
[2025-05-20 07:11:50,131] INFO in server_improved: OPTIONS /activity/ - 200 - 0.008s
[2025-05-20 07:11:50,137] INFO in server_improved: OPTIONS /branches/ - 200 - 0.014s
[2025-05-20 07:11:50,137] INFO in server_improved: OPTIONS /users/ - 200 - 0.013s
[2025-05-20 07:11:50,137] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.012s
[2025-05-20 07:11:50,147] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-05-20 07:11:50,253] INFO in server_improved: GET /branches/ - 200 - 0.098s
[2025-05-20 07:11:50,257] INFO in server_improved: GET /users/ - 200 - 0.102s
[2025-05-20 07:11:50,304] INFO in server_improved: GET /financial/total/ - 200 - 0.149s
[2025-05-20 07:11:50,318] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 07:11:50,334] INFO in server_improved: GET /activity/ - 200 - 0.179s
[2025-05-20 07:11:50,338] INFO in server_improved: GET /financial/total/ - 200 - 0.035s
[2025-05-20 07:11:50,338] INFO in server_improved: GET /users/ - 200 - 0.053s
[2025-05-20 07:11:50,425] INFO in server_improved: GET /activity/ - 200 - 0.087s
[2025-05-20 07:17:23,129] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.002s
[2025-05-20 07:17:23,330] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.202s
[2025-05-20 07:17:23,571] INFO in server_improved: GET /branches/ - 200 - 0.150s
[2025-05-20 07:17:23,650] INFO in server_improved: GET /branches/ - 200 - 0.048s
[2025-05-20 07:17:23,669] INFO in server_improved: GET /transactions/ - 200 - 0.233s
[2025-05-20 07:17:23,733] INFO in server_improved: GET /transactions/ - 200 - 0.035s
[2025-05-20 07:17:23,774] INFO in server_improved: GET /branches/1 - 200 - 0.236s
[2025-05-20 07:17:23,798] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 07:17:23,825] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-05-20 07:17:23,862] INFO in server_improved: GET /transactions/ - 200 - 0.063s
[2025-05-20 07:17:23,884] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-20 07:17:24,087] INFO in server_improved: GET /transactions/ - 200 - 0.213s
[2025-05-20 07:17:25,442] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 07:17:25,453] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 07:17:25,649] INFO in server_improved: GET /branches/1 - 200 - 0.010s
[2025-05-20 07:17:52,238] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-05-20 07:17:52,243] INFO in server_improved: OPTIONS /branches/ - 200 - 0.007s
[2025-05-20 07:17:52,266] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 07:17:52,288] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 07:18:00,854] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 07:18:00,900] INFO in server_improved: POST /branches/ - 200 - 0.041s
[2025-05-20 07:18:00,929] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-05-20 07:18:05,514] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 07:18:05,550] INFO in server_improved: GET /branches/1 - 200 - 0.037s
[2025-05-20 07:18:05,550] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 07:18:05,550] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:18:05,601] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:18:05,622] INFO in server_improved: GET /branches/ - 200 - 0.050s
[2025-05-20 07:18:05,623] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-05-20 07:18:05,662] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-20 07:18:05,690] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:18:10,031] INFO in server_improved: GET /branches/1 - 200 - 0.003s
[2025-05-20 07:18:10,031] INFO in server_improved: GET /branches/1 - 200 - 0.000s
[2025-05-20 07:18:10,180] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 07:18:48,310] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 07:18:48,328] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 07:18:54,901] INFO in server_improved: OPTIONS /branches/1/allocate-funds/ - 200 - 0.001s
[2025-05-20 07:18:54,953] INFO in server_improved: POST /branches/1/allocate-funds/ - 200 - 0.046s
[2025-05-20 07:18:54,985] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 07:18:57,007] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 07:18:57,024] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-20 07:18:57,057] INFO in server_improved: GET /branches/1 - 200 - 0.026s
[2025-05-20 07:18:57,069] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 07:18:57,126] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 07:18:57,126] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 07:18:57,146] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-05-20 07:18:57,172] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 07:18:57,193] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-05-20 07:18:58,274] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 07:18:58,283] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 07:18:58,358] INFO in server_improved: GET /branches/1 - 200 - 0.009s
[2025-05-20 07:19:54,632] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-20 07:19:54,647] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 07:19:54,693] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-20 07:19:54,709] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:19:54,759] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-05-20 07:19:54,762] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 07:19:54,774] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-05-20 07:19:54,803] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 07:19:55,054] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-20 07:19:55,062] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-20 07:19:55,154] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 07:19:55,324] INFO in server_improved: GET /branches/1 - 200 - 0.027s
[2025-05-20 07:20:19,171] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 07:20:19,224] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 07:20:26,436] INFO in server_improved: OPTIONS /branches/2/allocate-funds/ - 200 - 0.002s
[2025-05-20 07:20:26,483] INFO in server_improved: POST /branches/2/allocate-funds/ - 200 - 0.040s
[2025-05-20 07:20:26,514] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 07:20:32,873] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-05-20 07:20:32,896] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 07:20:34,580] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-05-20 07:20:34,601] INFO in server_improved: GET /branches/1 - 200 - 0.016s
[2025-05-20 07:20:34,729] INFO in server_improved: GET /branches/ - 200 - 0.141s
[2025-05-20 07:20:34,733] INFO in server_improved: GET /transactions/ - 200 - 0.129s
[2025-05-20 07:20:34,748] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 07:20:34,763] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 07:20:34,779] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:20:34,806] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:20:34,816] INFO in server_improved: GET /transactions/ - 200 - 0.007s
[2025-05-20 07:20:36,339] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-20 07:20:36,345] INFO in server_improved: GET /branches/1 - 200 - 0.004s
[2025-05-20 07:20:36,426] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-20 07:21:33,335] INFO in server_improved: GET /branches/ - 200 - 0.014s
[2025-05-20 07:21:33,366] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 07:21:33,792] INFO in server_improved: GET /branches/1 - 200 - 0.017s
[2025-05-20 07:21:33,819] INFO in server_improved: GET /transactions/ - 200 - 0.004s
[2025-05-20 07:21:33,965] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-05-20 07:21:33,996] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-05-20 07:21:33,996] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 07:21:34,011] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:21:34,113] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:22:23,985] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 07:22:23,990] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-05-20 07:22:23,993] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 07:22:24,124] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-05-20 07:22:24,124] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:22:24,124] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 07:22:24,152] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-05-20 07:22:24,159] INFO in server_improved: GET /branches/ - 200 - 0.053s
[2025-05-20 07:22:24,198] INFO in server_improved: GET /transactions/ - 200 - 0.074s
[2025-05-20 07:22:24,203] INFO in server_improved: GET /branches/1 - 200 - 0.079s
[2025-05-20 07:22:24,238] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 07:22:24,325] INFO in server_improved: GET /transactions/ - 200 - 0.093s
[2025-05-20 07:22:24,328] INFO in server_improved: GET /branches/ - 200 - 0.096s
[2025-05-20 07:22:24,354] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-20 07:22:24,360] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:22:24,372] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-20 07:22:24,503] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:22:24,575] INFO in server_improved: GET /branches/1 - 200 - 0.000s
[2025-05-20 07:22:49,038] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:22:49,155] INFO in server_improved: POST /transactions/ - 201 - 0.113s
[2025-05-20 07:22:49,180] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 07:22:49,203] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:23:00,193] INFO in server_improved: GET /branches/ - 200 - 0.033s
[2025-05-20 07:23:00,214] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-05-20 07:23:00,350] INFO in server_improved: GET /branches/1 - 200 - 0.026s
[2025-05-20 07:23:00,378] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-05-20 07:23:00,451] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-05-20 07:23:00,674] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-20 07:23:00,676] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-05-20 07:23:00,689] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 07:23:00,755] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 07:23:03,210] INFO in server_improved: GET /transactions/ - 200 - 0.024s
[2025-05-20 07:25:27,818] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 07:25:27,831] INFO in server_improved: GET /branches/ - 200 - 0.010s
[2025-05-20 07:25:27,881] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-20 07:25:27,881] INFO in server_improved: GET /transactions/ - 200 - 0.018s
[2025-05-20 07:25:27,955] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-05-20 07:25:27,957] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 07:25:27,960] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-20 07:25:27,981] INFO in server_improved: GET /transactions/ - 200 - 0.018s
[2025-05-20 07:25:28,109] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:25:55,230] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 07:25:55,230] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 07:25:55,243] INFO in server_improved: OPTIONS /activity/ - 200 - 0.012s
[2025-05-20 07:25:55,246] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 07:25:55,247] INFO in server_improved: OPTIONS /users/ - 200 - 0.016s
[2025-05-20 07:25:55,247] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.016s
[2025-05-20 07:25:55,247] INFO in server_improved: OPTIONS /activity/ - 200 - 0.005s
[2025-05-20 07:25:55,576] INFO in server_improved: GET /branches/ - 200 - 0.316s
[2025-05-20 07:25:55,576] INFO in server_improved: GET /financial/total/ - 200 - 0.316s
[2025-05-20 07:25:55,595] INFO in server_improved: GET /users/ - 200 - 0.219s
[2025-05-20 07:25:55,595] INFO in server_improved: GET /activity/ - 200 - 0.219s
[2025-05-20 07:25:55,613] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-05-20 07:25:55,660] INFO in server_improved: GET /financial/total/ - 200 - 0.024s
[2025-05-20 07:25:55,660] INFO in server_improved: GET /activity/ - 200 - 0.020s
[2025-05-20 07:25:55,660] INFO in server_improved: GET /users/ - 200 - 0.022s
[2025-05-20 07:26:02,152] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 07:26:02,173] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 07:26:12,416] INFO in server_improved: GET /branches/ - 200 - 0.006s
[2025-05-20 07:26:12,510] INFO in server_improved: GET /financial/total/ - 200 - 0.049s
[2025-05-20 07:26:12,512] INFO in server_improved: GET /branches/ - 200 - 0.051s
[2025-05-20 07:26:12,525] INFO in server_improved: GET /users/ - 200 - 0.064s
[2025-05-20 07:26:12,525] INFO in server_improved: GET /activity/ - 200 - 0.042s
[2025-05-20 07:26:12,542] INFO in server_improved: GET /financial/total/ - 200 - 0.018s
[2025-05-20 07:26:12,566] INFO in server_improved: GET /activity/ - 200 - 0.028s
[2025-05-20 07:26:12,599] INFO in server_improved: GET /users/ - 200 - 0.074s
[2025-05-20 07:26:22,558] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 07:26:22,565] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 07:26:22,575] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 07:26:22,601] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 07:27:45,035] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-05-20 07:27:45,077] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-20 07:27:45,100] INFO in server_improved: GET /transactions/ - 200 - 0.074s
[2025-05-20 07:27:45,108] INFO in server_improved: GET /branches/1 - 200 - 0.084s
[2025-05-20 07:27:45,133] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:27:45,163] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-20 07:27:45,171] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-05-20 07:27:45,183] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-05-20 07:27:45,805] INFO in server_improved: GET /transactions/ - 200 - 0.628s
[2025-05-20 07:27:45,852] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 07:27:57,316] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-05-20 07:28:37,955] INFO in server_improved: GET /branches/ - 200 - 0.007s
[2025-05-20 07:28:38,119] INFO in server_improved: GET /branches/1 - 200 - 0.122s
[2025-05-20 07:28:38,135] INFO in server_improved: GET /branches/ - 200 - 0.091s
[2025-05-20 07:28:38,148] INFO in server_improved: GET /transactions/ - 200 - 0.151s
[2025-05-20 07:28:39,147] INFO in server_improved: GET /transactions/ - 200 - 0.058s
[2025-05-20 07:28:39,149] INFO in server_improved: GET /transactions/ - 200 - 0.106s
[2025-05-20 07:28:39,256] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-05-20 07:28:39,272] INFO in server_improved: GET /branches/ - 200 - 0.050s
[2025-05-20 07:28:39,275] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2025-05-20 07:28:39,277] INFO in server_improved: GET /transactions/ - 200 - 0.048s
[2025-05-20 07:28:39,336] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 07:28:39,600] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:41:42,054] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 07:41:42,059] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-05-20 07:41:42,102] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-20 07:41:42,350] INFO in server_improved: GET /branches/ - 200 - 0.243s
[2025-05-20 07:41:42,550] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-05-20 07:41:42,550] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:41:42,598] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 07:41:42,598] INFO in server_improved: GET /branches/1 - 200 - 0.047s
[2025-05-20 07:41:42,895] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-05-20 07:41:43,240] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:41:43,271] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 07:41:43,287] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-05-20 07:41:43,302] INFO in server_improved: GET /transactions/ - 200 - 0.047s
[2025-05-20 07:41:43,475] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-05-20 07:43:51,231] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:43:51,664] INFO in server_improved: GET /transactions/ - 200 - 0.419s
[2025-05-20 07:45:43,424] INFO in server_improved: GET /branches/ - 200 - 0.228s
[2025-05-20 07:45:43,479] INFO in server_improved: GET /transactions/ - 200 - 0.284s
[2025-05-20 07:45:43,508] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 07:45:43,597] INFO in server_improved: GET /branches/ - 200 - 0.163s
[2025-05-20 07:47:45,457] INFO in server_improved: GET /branches/ - 200 - 0.074s
[2025-05-20 07:47:45,483] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-05-20 07:47:45,495] INFO in server_improved: GET /transactions/ - 200 - 0.097s
[2025-05-20 07:47:45,505] INFO in server_improved: GET /branches/1 - 200 - 0.109s
[2025-05-20 07:47:45,576] INFO in server_improved: GET /transactions/ - 200 - 0.068s
[2025-05-20 07:47:45,576] INFO in server_improved: GET /branches/ - 200 - 0.041s
[2025-05-20 07:47:45,596] INFO in server_improved: GET /transactions/ - 200 - 0.072s
[2025-05-20 07:47:45,619] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 07:47:45,651] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 07:47:47,789] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 07:49:30,891] INFO in server_improved: GET /branches/1 - 200 - 0.037s
[2025-05-20 07:49:30,903] INFO in server_improved: GET /branches/ - 200 - 0.057s
[2025-05-20 07:49:30,944] INFO in server_improved: GET /transactions/ - 200 - 0.095s
[2025-05-20 07:49:30,955] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 07:49:30,972] INFO in server_improved: GET /transactions/ - 200 - 0.117s
[2025-05-20 07:49:31,241] INFO in server_improved: GET /transactions/ - 200 - 0.123s
[2025-05-20 07:49:31,397] INFO in server_improved: GET /transactions/ - 200 - 0.062s
[2025-05-20 07:49:31,401] INFO in server_improved: GET /branches/ - 200 - 0.061s
[2025-05-20 07:49:31,427] INFO in server_improved: GET /transactions/ - 200 - 0.088s
[2025-05-20 07:49:31,498] INFO in server_improved: GET /transactions/ - 200 - 0.154s
[2025-05-20 07:49:31,690] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:49:33,254] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-20 07:50:27,741] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 07:50:27,757] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-20 07:50:27,815] INFO in server_improved: GET /branches/1 - 200 - 0.027s
[2025-05-20 07:50:27,822] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 07:50:27,826] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-05-20 07:50:28,149] INFO in server_improved: GET /transactions/ - 200 - 0.050s
[2025-05-20 07:50:28,253] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 07:50:28,262] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-20 07:50:28,270] INFO in server_improved: GET /transactions/ - 200 - 0.061s
[2025-05-20 07:50:28,290] INFO in server_improved: GET /transactions/ - 200 - 0.082s
[2025-05-20 07:50:28,393] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:51:33,767] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-20 07:51:33,871] INFO in server_improved: GET /branches/1 - 200 - 0.061s
[2025-05-20 07:51:33,883] INFO in server_improved: GET /branches/ - 200 - 0.072s
[2025-05-20 07:51:33,916] INFO in server_improved: GET /transactions/ - 200 - 0.105s
[2025-05-20 07:51:34,168] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 07:51:34,276] INFO in server_improved: GET /branches/ - 200 - 0.069s
[2025-05-20 07:51:34,281] INFO in server_improved: GET /transactions/ - 200 - 0.076s
[2025-05-20 07:51:34,285] INFO in server_improved: GET /transactions/ - 200 - 0.078s
[2025-05-20 07:51:34,289] INFO in server_improved: GET /transactions/ - 200 - 0.081s
[2025-05-20 07:51:34,350] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:51:36,152] INFO in server_improved: GET /transactions/ - 200 - 0.024s
[2025-05-20 07:51:44,581] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 07:51:44,587] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 07:51:44,617] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:51:44,622] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-05-20 07:51:44,639] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-05-20 07:51:44,655] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 07:51:45,666] INFO in server_improved: OPTIONS /users/ - 200 - 0.002s
[2025-05-20 07:51:45,672] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.007s
[2025-05-20 07:51:45,679] INFO in server_improved: OPTIONS /activity/ - 200 - 0.006s
[2025-05-20 07:51:45,679] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-05-20 07:51:45,679] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 07:51:45,679] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 07:51:45,704] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 07:51:45,719] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-05-20 07:51:45,735] INFO in server_improved: GET /activity/ - 200 - 0.031s
[2025-05-20 07:51:45,735] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 07:51:45,751] INFO in server_improved: GET /users/ - 200 - 0.047s
[2025-05-20 07:51:45,773] INFO in server_improved: GET /activity/ - 200 - 0.022s
[2025-05-20 07:51:45,773] INFO in server_improved: GET /financial/total/ - 200 - 0.038s
[2025-05-20 07:51:45,792] INFO in server_improved: GET /users/ - 200 - 0.035s
[2025-05-20 07:51:47,599] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 07:51:47,600] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-05-20 07:51:47,628] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-05-20 07:51:47,631] INFO in server_improved: GET /transactions/ - 200 - 0.024s
[2025-05-20 07:51:59,797] INFO in server_improved: GET /branches/ - 200 - 0.006s
[2025-05-20 07:51:59,888] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 07:51:59,925] INFO in server_improved: GET /financial/total/ - 200 - 0.064s
[2025-05-20 07:51:59,942] INFO in server_improved: GET /users/ - 200 - 0.083s
[2025-05-20 07:51:59,943] INFO in server_improved: GET /activity/ - 200 - 0.082s
[2025-05-20 07:51:59,979] INFO in server_improved: GET /financial/total/ - 200 - 0.036s
[2025-05-20 07:51:59,984] INFO in server_improved: GET /users/ - 200 - 0.041s
[2025-05-20 07:51:59,990] INFO in server_improved: GET /activity/ - 200 - 0.036s
[2025-05-20 07:52:02,074] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-05-20 07:52:02,138] INFO in server_improved: GET /transactions/ - 200 - 0.085s
[2025-05-20 07:52:02,195] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-05-20 07:52:02,201] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 07:53:30,446] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 07:53:30,456] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-05-20 07:53:30,484] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-05-20 07:53:30,496] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 07:53:36,425] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-20 07:53:36,428] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 07:53:36,435] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-05-20 07:53:36,474] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 07:53:36,478] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-05-20 07:53:36,500] INFO in server_improved: GET /branches/1 - 200 - 0.057s
[2025-05-20 07:53:36,520] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:53:36,529] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:53:36,550] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 07:53:36,569] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:53:36,599] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 07:53:36,603] INFO in server_improved: GET /transactions/ - 200 - 0.077s
[2025-05-20 07:53:38,201] INFO in server_improved: GET /transactions/ - 200 - 0.018s
[2025-05-20 07:53:58,883] INFO in server_improved: GET /branches/1 - 200 - 0.016s
[2025-05-20 07:53:58,883] INFO in server_improved: GET /branches/1 - 200 - 0.000s
[2025-05-20 07:53:58,963] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 07:54:22,084] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 07:54:22,244] INFO in server_improved: POST /transactions/ - 201 - 0.155s
[2025-05-20 07:54:22,254] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 07:54:22,283] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 07:57:03,100] INFO in server_improved: GET /branches/ - 200 - 0.055s
[2025-05-20 07:57:03,471] INFO in server_improved: GET /branches/1 - 200 - 0.326s
[2025-05-20 07:57:03,479] INFO in server_improved: GET /transactions/ - 200 - 0.334s
[2025-05-20 07:57:03,481] INFO in server_improved: GET /transactions/ - 200 - 0.341s
[2025-05-20 07:57:03,511] INFO in server_improved: GET /branches/ - 200 - 0.174s
[2025-05-20 07:57:03,858] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:57:04,739] INFO in server_improved: GET /transactions/ - 200 - 0.050s
[2025-05-20 07:57:04,741] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 07:57:04,745] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 07:57:04,756] INFO in server_improved: GET /transactions/ - 200 - 0.054s
[2025-05-20 07:57:04,795] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 07:57:05,759] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 07:59:17,289] INFO in server_improved: GET /branches/ - 200 - 0.117s
[2025-05-20 07:59:17,583] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2025-05-20 07:59:17,588] INFO in server_improved: GET /transactions/ - 200 - 0.231s
[2025-05-20 07:59:17,623] INFO in server_improved: GET /branches/1 - 200 - 0.264s
[2025-05-20 07:59:17,630] INFO in server_improved: GET /branches/ - 200 - 0.069s
[2025-05-20 07:59:17,765] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 07:59:17,919] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-20 07:59:17,922] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-05-20 07:59:17,927] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-05-20 07:59:17,931] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 07:59:17,965] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-05-20 07:59:22,338] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-05-20 08:09:19,253] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 08:10:03,799] INFO in server_improved: OPTIONS /branches/ - 200 - 0.009s
[2025-05-20 08:10:03,803] INFO in server_improved: OPTIONS /branches/ - 200 - 0.017s
[2025-05-20 08:10:03,821] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.014s
[2025-05-20 08:10:03,858] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.050s
[2025-05-20 08:10:04,168] INFO in server_improved: GET /branches/ - 200 - 0.285s
[2025-05-20 08:10:04,208] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 08:10:04,289] INFO in server_improved: GET /transactions/ - 200 - 0.369s
[2025-05-20 08:10:04,334] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-05-20 08:10:04,336] INFO in server_improved: GET /branches/1 - 200 - 0.416s
[2025-05-20 08:10:04,359] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 08:10:04,393] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-20 08:10:04,399] INFO in server_improved: GET /transactions/ - 200 - 0.035s
[2025-05-20 08:10:04,473] INFO in server_improved: GET /transactions/ - 200 - 0.052s
[2025-05-20 08:10:04,513] INFO in server_improved: GET /transactions/ - 200 - 0.146s
[2025-05-20 08:10:06,708] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 08:10:06,746] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 08:10:17,196] INFO in server_improved: GET /check-initialization/ - 200 - 0.020s
[2025-05-20 08:10:17,216] INFO in server_improved: GET /check-initialization/ - 200 - 0.015s
[2025-05-20 08:10:22,779] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-05-20 08:10:23,881] INFO in server_improved: POST /login/ - 200 - 1.098s
[2025-05-20 08:10:27,633] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 08:10:27,648] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.015s
[2025-05-20 08:10:27,651] INFO in server_improved: OPTIONS /activity/ - 200 - 0.017s
[2025-05-20 08:10:27,651] INFO in server_improved: OPTIONS /users/ - 200 - 0.002s
[2025-05-20 08:10:27,651] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 08:10:27,651] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-05-20 08:10:27,717] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 08:10:27,751] INFO in server_improved: GET /financial/total/ - 200 - 0.051s
[2025-05-20 08:10:27,751] INFO in server_improved: GET /activity/ - 200 - 0.062s
[2025-05-20 08:10:27,784] INFO in server_improved: GET /users/ - 200 - 0.084s
[2025-05-20 08:10:27,800] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-20 08:10:27,800] INFO in server_improved: GET /activity/ - 200 - 0.030s
[2025-05-20 08:10:27,903] INFO in server_improved: GET /financial/total/ - 200 - 0.132s
[2025-05-20 08:10:28,180] INFO in server_improved: GET /users/ - 200 - 0.396s
[2025-05-20 08:10:30,196] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 08:10:30,207] INFO in server_improved: GET /branches/1 - 200 - 0.034s
[2025-05-20 08:10:30,240] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 08:10:30,252] INFO in server_improved: GET /transactions/ - 200 - 0.078s
[2025-05-20 08:10:30,285] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-05-20 08:10:33,804] INFO in server_improved: GET /transactions/ - 200 - 3.535s
[2025-05-20 08:10:33,804] INFO in server_improved: GET /branches/1 - 200 - 2.099s
[2025-05-20 08:10:33,819] INFO in server_improved: GET /transactions/ - 200 - 3.559s
[2025-05-20 08:10:33,934] INFO in server_improved: GET /branches/1 - 200 - 0.050s
[2025-05-20 08:10:33,949] INFO in server_improved: GET /branches/1 - 200 - 0.000s
[2025-05-20 08:10:33,980] INFO in server_improved: GET /transactions/ - 200 - 0.097s
[2025-05-20 08:10:34,016] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-20 08:11:13,366] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 08:11:13,567] INFO in server_improved: POST /transactions/ - 201 - 0.198s
[2025-05-20 08:11:13,597] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 08:12:03,143] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 08:12:03,158] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 08:12:03,344] INFO in server_improved: GET /branches/ - 200 - 0.023s
[2025-05-20 08:12:03,477] INFO in server_improved: GET /branches/ - 200 - 0.077s
[2025-05-20 08:12:28,709] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-05-20 08:12:28,711] INFO in server_improved: GET /branches/1 - 200 - 0.038s
[2025-05-20 08:12:28,727] INFO in server_improved: GET /transactions/ - 200 - 0.054s
[2025-05-20 08:12:28,727] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 08:12:28,782] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 08:12:28,784] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-05-20 08:12:28,789] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-05-20 08:12:28,815] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 08:12:28,840] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 09:31:13,650] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 09:31:13,668] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 09:31:13,718] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-20 09:31:13,767] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 09:31:13,967] INFO in server_improved: GET /branches/ - 200 - 0.289s
[2025-05-20 09:31:13,999] INFO in server_improved: GET /transactions/ - 200 - 0.219s
[2025-05-20 09:31:14,076] INFO in server_improved: GET /branches/1 - 200 - 0.298s
[2025-05-20 09:31:14,121] INFO in server_improved: GET /branches/ - 200 - 0.148s
[2025-05-20 09:31:14,868] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.669s
[2025-05-20 09:31:14,868] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 09:31:14,920] INFO in server_improved: GET /transactions/ - 200 - 0.755s
[2025-05-20 09:31:14,949] INFO in server_improved: GET /branches/ - 200 - 0.080s
[2025-05-20 09:31:14,979] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-20 09:31:14,986] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2025-05-20 09:31:15,017] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 09:33:21,125] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 09:33:21,161] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 09:33:23,959] INFO in server_improved: OPTIONS /transactions/5b740541-2ae2-4cad-8eb5-12d82ce6de5c - 200 - 0.000s
[2025-05-20 09:33:23,963] INFO in server_improved: GET /transactions/5b740541-2ae2-4cad-8eb5-12d82ce6de5c - 307 - 0.001s
[2025-05-20 09:33:23,999] INFO in server_improved: OPTIONS /transactions/5b740541-2ae2-4cad-8eb5-12d82ce6de5c/ - 200 - 0.001s
[2025-05-20 09:33:24,023] INFO in server_improved: GET /transactions/5b740541-2ae2-4cad-8eb5-12d82ce6de5c/ - 200 - 0.021s
[2025-05-20 09:33:31,351] INFO in server_improved: GET /transactions/5b740541-2ae2-4cad-8eb5-12d82ce6de5c - 307 - 0.001s
[2025-05-20 09:33:31,635] INFO in server_improved: GET /transactions/5b740541-2ae2-4cad-8eb5-12d82ce6de5c/ - 200 - 0.279s
[2025-05-20 09:33:45,390] INFO in server_improved: GET /branches/1 - 200 - 0.016s
[2025-05-20 09:33:45,390] INFO in server_improved: GET /branches/1 - 200 - 0.000s
[2025-05-20 09:33:45,509] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 09:34:09,258] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 09:34:09,336] INFO in server_improved: POST /transactions/ - 201 - 0.073s
[2025-05-20 09:34:09,414] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 09:34:11,320] INFO in server_improved: OPTIONS /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 200 - 0.000s
[2025-05-20 09:34:11,323] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 307 - 0.000s
[2025-05-20 09:34:11,330] INFO in server_improved: OPTIONS /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.000s
[2025-05-20 09:34:11,346] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.012s
[2025-05-20 09:34:28,636] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 09:34:28,655] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 09:34:28,711] INFO in server_improved: GET /branches/1 - 200 - 0.020s
[2025-05-20 09:34:28,724] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-05-20 09:34:28,821] INFO in server_improved: GET /transactions/ - 200 - 0.068s
[2025-05-20 09:34:28,823] INFO in server_improved: GET /branches/ - 200 - 0.041s
[2025-05-20 09:34:28,833] INFO in server_improved: GET /transactions/ - 200 - 0.055s
[2025-05-20 09:34:28,859] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 09:34:29,021] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 09:35:23,505] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 09:35:24,427] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 307 - 0.001s
[2025-05-20 09:35:24,463] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.028s
[2025-05-20 09:44:40,756] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 09:44:40,762] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 09:44:41,610] INFO in server_improved: GET /branches/ - 200 - 0.476s
[2025-05-20 09:44:41,762] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 09:44:42,310] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.002s
[2025-05-20 09:44:42,347] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.039s
[2025-05-20 09:44:42,488] INFO in server_improved: GET /transactions/ - 200 - 0.074s
[2025-05-20 09:44:42,511] INFO in server_improved: GET /branches/1 - 200 - 0.106s
[2025-05-20 09:44:42,905] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 09:44:43,230] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2025-05-20 09:44:43,282] INFO in server_improved: GET /branches/ - 200 - 0.055s
[2025-05-20 09:44:43,434] INFO in server_improved: GET /transactions/ - 200 - 0.205s
[2025-05-20 09:44:43,443] INFO in server_improved: GET /transactions/ - 200 - 0.065s
[2025-05-20 09:44:45,239] INFO in server_improved: GET /transactions/ - 200 - 0.020s
[2025-05-20 09:44:56,222] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 09:44:56,504] INFO in server_improved: GET /transactions/ - 200 - 0.144s
[2025-05-20 09:45:02,451] INFO in server_improved: OPTIONS /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 200 - 0.001s
[2025-05-20 09:45:02,479] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 307 - 0.001s
[2025-05-20 09:45:02,489] INFO in server_improved: OPTIONS /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.000s
[2025-05-20 09:45:02,521] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.028s
[2025-05-20 09:48:32,465] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 09:48:32,465] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-05-20 09:48:32,483] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-20 09:48:32,566] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-20 09:48:32,647] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 09:48:47,441] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 09:48:48,727] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 307 - 0.001s
[2025-05-20 09:48:48,756] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.017s
[2025-05-20 09:49:05,314] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f - 307 - 0.000s
[2025-05-20 09:49:05,364] INFO in server_improved: GET /transactions/c9c6e5bf-1a85-40e8-94b7-598cdc7c237f/ - 200 - 0.050s
[2025-05-20 09:49:11,194] INFO in server_improved: GET /branches/1 - 200 - 0.319s
[2025-05-20 09:49:11,330] INFO in server_improved: GET /branches/ - 200 - 0.456s
[2025-05-20 09:49:11,539] INFO in server_improved: GET /transactions/ - 200 - 0.669s
[2025-05-20 09:49:11,869] INFO in server_improved: GET /transactions/ - 200 - 0.043s
[2025-05-20 09:49:11,903] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 09:49:12,908] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-20 09:51:31,383] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 09:51:45,175] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 09:52:25,747] INFO in server_improved: GET /branches/ - 200 - 0.442s
[2025-05-20 09:52:25,857] INFO in server_improved: GET /branches/ - 200 - 0.046s
[2025-05-20 09:52:26,048] INFO in server_improved: GET /branches/1 - 200 - 0.700s
[2025-05-20 09:52:26,105] INFO in server_improved: GET /transactions/ - 200 - 0.758s
[2025-05-20 09:52:26,115] INFO in server_improved: GET /branches/ - 200 - 0.033s
[2025-05-20 09:52:26,183] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2025-05-20 09:52:26,236] INFO in server_improved: GET /transactions/ - 200 - 0.050s
[2025-05-20 09:52:26,283] INFO in server_improved: GET /transactions/ - 200 - 0.043s
[2025-05-20 09:52:26,432] INFO in server_improved: GET /transactions/ - 200 - 0.351s
[2025-05-20 09:52:29,235] INFO in server_improved: GET /transactions/ - 200 - 0.399s
[2025-05-20 09:54:24,371] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 09:54:24,406] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 09:54:24,421] INFO in server_improved: GET /branches/1 - 200 - 0.025s
[2025-05-20 09:54:24,471] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2025-05-20 09:54:24,483] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-05-20 09:54:24,487] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-05-20 09:54:24,511] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 09:54:24,589] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 09:54:24,617] INFO in server_improved: GET /transactions/ - 200 - 0.024s
[2025-05-20 09:54:26,823] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 09:55:03,553] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2025-05-20 09:55:03,588] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.033s
[2025-05-20 09:55:03,620] INFO in server_improved: GET /check-initialization/ - 200 - 0.021s
[2025-05-20 09:55:03,657] INFO in server_improved: GET /check-initialization/ - 200 - 0.032s
[2025-05-20 09:55:08,773] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-20 09:55:09,675] INFO in server_improved: POST /login/ - 200 - 0.899s
[2025-05-20 09:55:12,714] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 09:55:12,714] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 09:55:12,729] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 09:55:12,746] INFO in server_improved: OPTIONS /activity/ - 200 - 0.008s
[2025-05-20 09:55:12,748] INFO in server_improved: OPTIONS /users/ - 200 - 0.010s
[2025-05-20 09:55:12,749] INFO in server_improved: OPTIONS /activity/ - 200 - 0.011s
[2025-05-20 09:55:12,749] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-05-20 09:55:12,749] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 09:55:12,809] INFO in server_improved: GET /branches/ - 200 - 0.060s
[2025-05-20 09:55:12,809] INFO in server_improved: GET /activity/ - 200 - 0.044s
[2025-05-20 09:55:12,809] INFO in server_improved: GET /users/ - 200 - 0.060s
[2025-05-20 09:55:12,840] INFO in server_improved: GET /activity/ - 200 - 0.031s
[2025-05-20 09:55:12,840] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 09:55:12,880] INFO in server_improved: GET /users/ - 200 - 0.055s
[2025-05-20 09:55:13,004] INFO in server_improved: GET /financial/total/ - 200 - 0.240s
[2025-05-20 09:55:13,034] INFO in server_improved: GET /financial/total/ - 200 - 0.019s
[2025-05-20 09:55:18,822] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 09:55:18,841] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 09:55:18,878] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-20 09:55:18,883] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.005s
[2025-05-20 09:55:18,915] INFO in server_improved: GET /branches/1 - 200 - 0.019s
[2025-05-20 09:55:18,932] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 09:55:18,964] INFO in server_improved: GET /transactions/ - 200 - 0.066s
[2025-05-20 09:55:18,974] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 09:55:18,994] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-20 09:55:19,028] INFO in server_improved: GET /transactions/ - 200 - 0.055s
[2025-05-20 09:55:19,053] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 09:55:19,088] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 09:55:20,000] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 09:55:20,009] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 09:55:20,168] INFO in server_improved: GET /branches/1 - 200 - 0.009s
[2025-05-20 09:55:22,981] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 09:55:23,008] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-05-20 09:55:26,999] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 09:55:27,008] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 09:55:27,082] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 09:55:57,276] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 09:55:57,436] INFO in server_improved: POST /transactions/ - 201 - 0.157s
[2025-05-20 09:55:57,471] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-05-20 10:08:54,013] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 10:09:41,083] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2025-05-20 10:09:41,085] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.007s
[2025-05-20 10:09:41,312] INFO in server_improved: GET /check-initialization/ - 200 - 0.225s
[2025-05-20 10:09:41,326] INFO in server_improved: GET /check-initialization/ - 200 - 0.009s
[2025-05-20 10:09:44,768] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-20 10:09:45,724] INFO in server_improved: POST /login/ - 200 - 0.952s
[2025-05-20 10:09:49,195] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 10:09:49,204] INFO in server_improved: OPTIONS /users/ - 200 - 0.001s
[2025-05-20 10:09:49,213] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.003s
[2025-05-20 10:09:49,215] INFO in server_improved: OPTIONS /activity/ - 200 - 0.005s
[2025-05-20 10:09:49,217] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-05-20 10:09:49,221] INFO in server_improved: OPTIONS /users/ - 200 - 0.008s
[2025-05-20 10:09:49,222] INFO in server_improved: OPTIONS /activity/ - 200 - 0.009s
[2025-05-20 10:09:49,225] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.007s
[2025-05-20 10:09:49,229] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 10:09:49,356] INFO in server_improved: GET /users/ - 200 - 0.077s
[2025-05-20 10:09:49,410] INFO in server_improved: GET /activity/ - 200 - 0.128s
[2025-05-20 10:09:49,443] INFO in server_improved: GET /users/ - 200 - 0.055s
[2025-05-20 10:09:49,494] INFO in server_improved: GET /branches/ - 200 - 0.215s
[2025-05-20 10:09:49,558] INFO in server_improved: GET /activity/ - 200 - 0.099s
[2025-05-20 10:09:49,560] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 10:09:49,560] INFO in server_improved: GET /financial/total/ - 200 - 0.279s
[2025-05-20 10:09:49,662] INFO in server_improved: GET /financial/total/ - 200 - 0.036s
[2025-05-20 10:10:27,582] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:10:27,588] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.006s
[2025-05-20 10:10:27,697] INFO in server_improved: GET /branches/ - 200 - 0.078s
[2025-05-20 10:10:27,778] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 10:10:27,786] INFO in server_improved: GET /transactions/ - 200 - 0.134s
[2025-05-20 10:10:27,927] INFO in server_improved: GET /transactions/ - 200 - 0.126s
[2025-05-20 10:10:30,443] INFO in server_improved: GET /branches/ - 200 - 0.109s
[2025-05-20 10:10:30,505] INFO in server_improved: GET /activity/ - 200 - 0.083s
[2025-05-20 10:10:30,505] INFO in server_improved: GET /financial/total/ - 200 - 0.154s
[2025-05-20 10:10:30,519] INFO in server_improved: GET /branches/ - 200 - 0.054s
[2025-05-20 10:10:30,523] INFO in server_improved: GET /users/ - 200 - 0.172s
[2025-05-20 10:10:30,539] INFO in server_improved: GET /activity/ - 200 - 0.021s
[2025-05-20 10:10:30,569] INFO in server_improved: GET /financial/total/ - 200 - 0.036s
[2025-05-20 10:10:30,585] INFO in server_improved: GET /users/ - 200 - 0.046s
[2025-05-20 10:10:35,304] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-20 10:10:35,307] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:10:35,334] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-05-20 10:10:35,349] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 10:10:35,366] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 10:10:36,078] INFO in server_improved: GET /transactions/ - 200 - 0.035s
[2025-05-20 10:10:36,192] INFO in server_improved: GET /branches/1 - 200 - 0.698s
[2025-05-20 10:10:36,313] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:10:36,568] INFO in server_improved: GET /branches/ - 200 - 0.150s
[2025-05-20 10:10:36,580] INFO in server_improved: GET /transactions/ - 200 - 0.159s
[2025-05-20 10:10:36,583] INFO in server_improved: GET /transactions/ - 200 - 0.163s
[2025-05-20 10:10:36,625] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 10:10:41,263] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-05-20 10:11:06,150] INFO in server_improved: GET /branches/1 - 200 - 0.013s
[2025-05-20 10:11:06,185] INFO in server_improved: GET /branches/1 - 200 - 0.011s
[2025-05-20 10:11:06,401] INFO in server_improved: GET /branches/1 - 200 - 0.009s
[2025-05-20 10:11:32,580] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:11:32,740] INFO in server_improved: POST /transactions/ - 201 - 0.157s
[2025-05-20 10:11:32,751] INFO in server_improved: OPTIONS /transactions/bfa3740d-c5d2-45b8-9576-103381a2423c - 200 - 0.000s
[2025-05-20 10:11:32,756] INFO in server_improved: GET /transactions/bfa3740d-c5d2-45b8-9576-103381a2423c - 307 - 0.001s
[2025-05-20 10:11:33,038] INFO in server_improved: OPTIONS /transactions/bfa3740d-c5d2-45b8-9576-103381a2423c/ - 200 - 0.000s
[2025-05-20 10:11:33,117] INFO in server_improved: GET /transactions/bfa3740d-c5d2-45b8-9576-103381a2423c/ - 200 - 0.072s
[2025-05-20 10:11:33,190] INFO in server_improved: GET /transactions/ - 200 - 0.046s
[2025-05-20 10:22:02,866] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 10:22:58,177] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.010s
[2025-05-20 10:22:58,179] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.032s
[2025-05-20 10:22:58,483] INFO in server_improved: GET /check-initialization/ - 200 - 0.247s
[2025-05-20 10:22:58,616] INFO in server_improved: GET /check-initialization/ - 200 - 0.023s
[2025-05-20 10:23:04,924] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-05-20 10:23:07,454] INFO in server_improved: POST /login/ - 200 - 2.522s
[2025-05-20 10:23:12,064] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 10:23:12,082] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 10:23:12,083] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 10:23:12,127] INFO in server_improved: OPTIONS /activity/ - 200 - 0.010s
[2025-05-20 10:23:12,127] INFO in server_improved: OPTIONS /branches/ - 200 - 0.034s
[2025-05-20 10:23:12,143] INFO in server_improved: OPTIONS /users/ - 200 - 0.016s
[2025-05-20 10:23:12,149] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.022s
[2025-05-20 10:23:12,153] INFO in server_improved: OPTIONS /activity/ - 200 - 0.026s
[2025-05-20 10:23:12,155] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 10:23:12,543] INFO in server_improved: GET /users/ - 200 - 0.279s
[2025-05-20 10:23:12,713] INFO in server_improved: GET /users/ - 200 - 0.049s
[2025-05-20 10:23:12,876] INFO in server_improved: GET /branches/ - 200 - 0.613s
[2025-05-20 10:23:12,944] INFO in server_improved: GET /activity/ - 200 - 0.681s
[2025-05-20 10:23:13,181] INFO in server_improved: GET /financial/total/ - 200 - 0.917s
[2025-05-20 10:23:13,181] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-20 10:23:13,197] INFO in server_improved: GET /activity/ - 200 - 0.034s
[2025-05-20 10:23:13,479] INFO in server_improved: GET /financial/total/ - 200 - 0.085s
[2025-05-20 10:23:20,036] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:23:20,043] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.008s
[2025-05-20 10:23:20,108] INFO in server_improved: GET /branches/ - 200 - 0.072s
[2025-05-20 10:23:20,147] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-20 10:23:20,231] INFO in server_improved: GET /transactions/ - 200 - 0.178s
[2025-05-20 10:23:20,284] INFO in server_improved: GET /branches/1 - 200 - 0.232s
[2025-05-20 10:23:20,312] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:23:20,442] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 10:23:20,529] INFO in server_improved: GET /transactions/ - 200 - 0.273s
[2025-05-20 10:23:20,612] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-20 10:23:20,711] INFO in server_improved: GET /transactions/ - 200 - 0.172s
[2025-05-20 10:23:20,723] INFO in server_improved: GET /transactions/ - 200 - 0.058s
[2025-05-20 10:23:21,618] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 10:23:21,628] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 10:23:21,793] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 10:23:54,944] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:23:55,111] INFO in server_improved: POST /transactions/ - 201 - 0.163s
[2025-05-20 10:23:55,122] INFO in server_improved: OPTIONS /transactions/14579e88-d8c2-40fe-b235-7013b1a04652/ - 200 - 0.000s
[2025-05-20 10:23:55,129] INFO in server_improved: [DEBUG] get_transaction called with id: 14579e88-d8c2-40fe-b235-7013b1a04652
[2025-05-20 10:23:55,160] INFO in server_improved: [DEBUG] DB result for id 14579e88-d8c2-40fe-b235-7013b1a04652: (<models.Transaction object at 0x0000027806D6CC80>, None, '')
[2025-05-20 10:23:55,161] INFO in server_improved: [DEBUG] sending_branch_name: None, destination_branch_name: 
[2025-05-20 10:23:55,161] INFO in server_improved: [DEBUG] transaction_dict returned: {'id': '14579e88-d8c2-40fe-b235-7013b1a04652', 'sender': '', 'sender_mobile': '0965321478', 'sender_governorate': '', 'sender_location': '', 'sender_id': '0965321478', 'sender_address': '', 'receiver': '', 'receiver_mobile': '0965321478', 'receiver_governorate': '', 'receiver_location': '', 'receiver_id': '', 'receiver_address': '', 'amount': 4000.0, 'base_amount': 4000.0, 'benefited_amount': 200.0, 'tax_rate': 0.0, 'tax_amount': 0.0, 'currency': 'SYP', 'message': '', 'employee_name': '', 'branch_governorate': '', 'branch_id': None, 'destination_branch_id': 2, 'employee_id': 1, 'status': 'processing', 'date': datetime.datetime(2025, 5, 20, 10, 23, 54, 988711), 'is_received': False, 'sending_branch_name': None, 'destination_branch_name': ''}
[2025-05-20 10:23:55,166] INFO in server_improved: GET /transactions/14579e88-d8c2-40fe-b235-7013b1a04652/ - 200 - 0.039s
[2025-05-20 10:23:55,266] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:23:55,329] INFO in server_improved: GET /transactions/ - 200 - 0.057s
[2025-05-20 10:33:37,863] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 10:34:18,716] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-05-20 10:34:18,719] INFO in server_improved: OPTIONS /branches/ - 200 - 0.032s
[2025-05-20 10:34:18,722] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.003s
[2025-05-20 10:34:18,740] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.018s
[2025-05-20 10:34:19,554] INFO in server_improved: GET /branches/ - 200 - 0.811s
[2025-05-20 10:34:19,991] INFO in server_improved: GET /transactions/ - 200 - 1.228s
[2025-05-20 10:34:20,020] INFO in server_improved: GET /branches/1 - 200 - 1.245s
[2025-05-20 10:34:20,058] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:34:20,118] INFO in server_improved: GET /transactions/ - 200 - 0.094s
[2025-05-20 10:34:20,124] INFO in server_improved: GET /branches/ - 200 - 0.175s
[2025-05-20 10:34:20,173] INFO in server_improved: GET /transactions/ - 200 - 0.096s
[2025-05-20 10:34:20,176] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 10:34:20,185] INFO in server_improved: GET /transactions/ - 200 - 0.061s
[2025-05-20 10:34:20,228] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 10:34:24,092] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:34:24,131] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-20 10:34:30,669] INFO in server_improved: GET /branches/1 - 200 - 0.008s
[2025-05-20 10:34:30,680] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 10:34:30,808] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 10:36:02,904] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:36:03,095] INFO in server_improved: POST /transactions/ - 201 - 0.187s
[2025-05-20 10:36:03,108] INFO in server_improved: OPTIONS /transactions/437f9ee4-f567-45c3-b326-1afc022519d7/ - 200 - 0.000s
[2025-05-20 10:36:03,119] INFO in server_improved: [DEBUG] get_transaction called with id: 437f9ee4-f567-45c3-b326-1afc022519d7
[2025-05-20 10:36:03,168] INFO in server_improved: [DEBUG] DB result for id 437f9ee4-f567-45c3-b326-1afc022519d7: (<models.Transaction object at 0x0000023A1473EF00>, None, '')
[2025-05-20 10:36:03,168] INFO in server_improved: [DEBUG] sending_branch_name: None, destination_branch_name: 
[2025-05-20 10:36:03,169] INFO in server_improved: [DEBUG] transaction_dict returned: {'id': '437f9ee4-f567-45c3-b326-1afc022519d7', 'sender': '', 'sender_mobile': '0963521254', 'sender_governorate': '', 'sender_location': '', 'sender_id': '0963521254', 'sender_address': '', 'receiver': '', 'receiver_mobile': '0963521254', 'receiver_governorate': '', 'receiver_location': '', 'receiver_id': '', 'receiver_address': '', 'amount': 4000.0, 'base_amount': 4000.0, 'benefited_amount': 200.0, 'tax_rate': 0.0, 'tax_amount': 0.0, 'currency': 'SYP', 'message': '', 'employee_name': '', 'branch_governorate': '', 'branch_id': None, 'destination_branch_id': 2, 'employee_id': 1, 'status': 'processing', 'date': datetime.datetime(2025, 5, 20, 10, 36, 2, 959548), 'is_received': False, 'sending_branch_name': None, 'destination_branch_name': ''}
[2025-05-20 10:36:03,174] INFO in server_improved: GET /transactions/437f9ee4-f567-45c3-b326-1afc022519d7/ - 200 - 0.061s
[2025-05-20 10:36:03,434] INFO in server_improved: GET /transactions/ - 200 - 0.075s
[2025-05-20 10:40:13,471] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 10:40:13,494] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-20 10:40:13,544] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 10:40:13,559] INFO in server_improved: GET /branches/1 - 200 - 0.028s
[2025-05-20 10:40:13,595] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 10:40:14,074] INFO in server_improved: GET /branches/ - 200 - 0.048s
[2025-05-20 10:40:14,135] INFO in server_improved: GET /transactions/ - 200 - 0.108s
[2025-05-20 10:40:14,146] INFO in server_improved: GET /transactions/ - 200 - 0.118s
[2025-05-20 10:40:14,191] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 10:40:19,572] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 10:40:19,576] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 10:40:19,738] INFO in server_improved: GET /branches/ - 200 - 0.048s
[2025-05-20 10:40:19,786] INFO in server_improved: GET /branches/ - 200 - 0.048s
[2025-05-20 10:40:30,935] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 10:40:31,003] INFO in server_improved: POST /branches/ - 200 - 0.062s
[2025-05-20 10:40:31,057] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 10:40:42,395] INFO in server_improved: OPTIONS /users/ - 200 - 0.002s
[2025-05-20 10:40:42,396] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-05-20 10:40:42,455] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 10:40:42,498] INFO in server_improved: GET /users/ - 200 - 0.031s
[2025-05-20 10:40:42,593] INFO in server_improved: GET /branches/ - 200 - 0.084s
[2025-05-20 10:40:42,646] INFO in server_improved: GET /users/ - 200 - 0.118s
[2025-05-20 10:40:45,035] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 10:40:45,049] INFO in server_improved: GET /branches/ - 200 - 0.010s
[2025-05-20 10:40:45,086] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-20 10:40:45,161] INFO in server_improved: GET /branches/ - 200 - 0.023s
[2025-05-20 10:40:53,173] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 10:40:54,612] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 10:40:55,588] INFO in server_improved: POST /users/ - 200 - 0.970s
[2025-05-20 10:40:55,642] INFO in server_improved: GET /users/ - 200 - 0.036s
[2025-05-20 10:41:00,077] INFO in server_improved: GET /check-initialization/ - 200 - 0.147s
[2025-05-20 10:41:00,152] INFO in server_improved: GET /check-initialization/ - 200 - 0.012s
[2025-05-20 10:41:04,700] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-20 10:41:06,020] INFO in server_improved: POST /login/ - 200 - 1.316s
[2025-05-20 10:41:18,671] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.001s
[2025-05-20 10:41:18,680] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.005s
[2025-05-20 10:41:18,700] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.022s
[2025-05-20 10:41:18,763] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:41:18,763] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:41:18,775] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 10:41:19,079] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.316s
[2025-05-20 10:41:19,126] INFO in server_improved: GET /transactions/ - 200 - 0.172s
[2025-05-20 10:41:19,157] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.203s
[2025-05-20 10:41:19,172] INFO in server_improved: GET /branches/2 - 200 - 0.410s
[2025-05-20 10:41:19,592] INFO in server_improved: GET /transactions/ - 200 - 0.623s
[2025-05-20 10:41:24,052] INFO in server_improved: GET /branches/2 - 200 - 0.013s
[2025-05-20 10:41:24,054] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 10:41:24,088] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:41:24,100] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-05-20 10:41:24,105] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 10:41:24,159] INFO in server_improved: GET /transactions/ - 200 - 0.055s
[2025-05-20 10:41:24,159] INFO in server_improved: GET /branches/ - 200 - 0.046s
[2025-05-20 10:41:24,159] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2025-05-20 10:41:24,211] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:41:24,254] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-05-20 10:41:25,425] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-05-20 10:41:25,436] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-05-20 10:41:25,578] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-20 10:41:57,123] INFO in server_improved: POST /transactions/ - 201 - 0.062s
[2025-05-20 10:41:57,175] INFO in server_improved: OPTIONS /transactions/191338c7-bfaf-40ff-bcf7-e1c3520b8ea4/ - 200 - 0.000s
[2025-05-20 10:41:57,189] INFO in server_improved: [DEBUG] get_transaction called with id: 191338c7-bfaf-40ff-bcf7-e1c3520b8ea4
[2025-05-20 10:41:57,201] INFO in server_improved: [DEBUG] DB result for id 191338c7-bfaf-40ff-bcf7-e1c3520b8ea4: (<models.Transaction object at 0x0000023A145945C0>, '', '')
[2025-05-20 10:41:57,202] INFO in server_improved: [DEBUG] sending_branch_name: , destination_branch_name: 
[2025-05-20 10:41:57,203] INFO in server_improved: [DEBUG] transaction_dict returned: {'id': '191338c7-bfaf-40ff-bcf7-e1c3520b8ea4', 'sender': '', 'sender_mobile': '0963564874', 'sender_governorate': '', 'sender_location': '', 'sender_id': '0963564874', 'sender_address': '', 'receiver': '', 'receiver_mobile': '0963564874', 'receiver_governorate': '', 'receiver_location': '', 'receiver_id': '', 'receiver_address': '', 'amount': 400020.0, 'base_amount': 400020.0, 'benefited_amount': 2000.0, 'tax_rate': 0.0, 'tax_amount': 0.0, 'currency': 'SYP', 'message': '', 'employee_name': '', 'branch_governorate': '', 'branch_id': 2, 'destination_branch_id': 3, 'employee_id': 2, 'status': 'processing', 'date': datetime.datetime(2025, 5, 20, 10, 41, 57, 63947), 'is_received': False, 'sending_branch_name': '', 'destination_branch_name': ''}
[2025-05-20 10:41:57,206] INFO in server_improved: GET /transactions/191338c7-bfaf-40ff-bcf7-e1c3520b8ea4/ - 200 - 0.020s
[2025-05-20 10:41:57,299] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-20 10:43:32,480] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 10:43:57,298] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.549s
[2025-05-20 10:43:57,393] INFO in server_improved: GET /transactions/ - 200 - 0.738s
[2025-05-20 10:43:57,667] INFO in server_improved: GET /branches/2 - 200 - 1.094s
[2025-05-20 10:43:57,908] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 1.253s
[2025-05-20 10:43:57,927] INFO in server_improved: GET /transactions/ - 200 - 1.271s
[2025-05-20 10:44:27,782] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 10:44:27,792] INFO in server_improved: GET /branches/2 - 200 - 0.055s
[2025-05-20 10:44:27,871] INFO in server_improved: GET /branches/ - 200 - 0.058s
[2025-05-20 10:44:27,942] INFO in server_improved: GET /transactions/ - 200 - 0.117s
[2025-05-20 10:44:27,950] INFO in server_improved: GET /branches/ - 200 - 0.052s
[2025-05-20 10:44:27,964] INFO in server_improved: GET /transactions/ - 200 - 0.139s
[2025-05-20 10:44:28,061] INFO in server_improved: GET /transactions/ - 200 - 0.077s
[2025-05-20 10:44:34,065] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-20 10:44:34,081] INFO in server_improved: GET /branches/2 - 200 - 0.010s
[2025-05-20 10:44:34,300] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-20 10:44:58,393] INFO in server_improved: GET /branches/2 - 200 - 0.013s
[2025-05-20 10:44:58,470] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.074s
[2025-05-20 10:44:58,471] INFO in server_improved: GET /transactions/ - 200 - 0.073s
[2025-05-20 10:44:58,482] INFO in server_improved: GET /transactions/ - 200 - 0.085s
[2025-05-20 10:44:58,483] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.087s
[2025-05-20 10:45:02,057] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 10:45:02,067] INFO in server_improved: GET /branches/2 - 200 - 0.014s
[2025-05-20 10:45:02,077] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 10:45:02,135] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 10:45:02,143] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-05-20 10:45:02,146] INFO in server_improved: GET /transactions/ - 200 - 0.049s
[2025-05-20 10:45:02,185] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-05-20 10:45:03,203] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-05-20 10:45:03,214] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-20 10:45:03,326] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-20 10:45:25,778] INFO in server_improved: POST /transactions/ - 201 - 0.179s
[2025-05-20 10:45:25,791] INFO in server_improved: OPTIONS /transactions/cb9fa586-e7b0-4b2c-913f-96df2f1dea4d/ - 200 - 0.000s
[2025-05-20 10:45:25,800] INFO in server_improved: [DEBUG] get_transaction called with id: cb9fa586-e7b0-4b2c-913f-96df2f1dea4d
[2025-05-20 10:45:25,824] INFO in server_improved: [DEBUG] DB result for id cb9fa586-e7b0-4b2c-913f-96df2f1dea4d: (<models.Transaction object at 0x000001F2C64AA8A0>, '', '')
[2025-05-20 10:45:25,824] INFO in server_improved: [DEBUG] sending_branch_name: , destination_branch_name: 
[2025-05-20 10:45:25,825] INFO in server_improved: [DEBUG] transaction_dict returned: {'id': 'cb9fa586-e7b0-4b2c-913f-96df2f1dea4d', 'sender': '', 'sender_mobile': '0965321478', 'sender_governorate': '', 'sender_location': '', 'sender_id': '6545452100', 'sender_address': '', 'receiver': '', 'receiver_mobile': '0965321478', 'receiver_governorate': '', 'receiver_location': '', 'receiver_id': '', 'receiver_address': '', 'amount': 65000.0, 'base_amount': 65000.0, 'benefited_amount': 2000.0, 'tax_rate': 0.0, 'tax_amount': 0.0, 'currency': 'SYP', 'message': '', 'employee_name': '', 'branch_governorate': '', 'branch_id': 2, 'destination_branch_id': 3, 'employee_id': 2, 'status': 'processing', 'date': datetime.datetime(2025, 5, 20, 10, 45, 25, 649805), 'is_received': False, 'sending_branch_name': '', 'destination_branch_name': ''}
[2025-05-20 10:45:25,830] INFO in server_improved: GET /transactions/cb9fa586-e7b0-4b2c-913f-96df2f1dea4d/ - 200 - 0.034s
[2025-05-20 10:45:25,954] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-20 10:45:34,736] INFO in server_improved: GET /check-initialization/ - 200 - 0.017s
[2025-05-20 10:45:34,762] INFO in server_improved: GET /check-initialization/ - 200 - 0.024s
[2025-05-20 10:45:41,262] INFO in server_improved: POST /login/ - 200 - 1.010s
[2025-05-20 10:45:43,791] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.002s
[2025-05-20 10:45:43,888] INFO in server_improved: OPTIONS /activity/ - 200 - 0.097s
[2025-05-20 10:45:43,903] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.016s
[2025-05-20 10:45:43,919] INFO in server_improved: OPTIONS /activity/ - 200 - 0.031s
[2025-05-20 10:45:43,956] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 10:45:44,050] INFO in server_improved: GET /branches/ - 200 - 0.100s
[2025-05-20 10:45:44,066] INFO in server_improved: GET /users/ - 200 - 0.131s
[2025-05-20 10:45:44,066] INFO in server_improved: GET /activity/ - 200 - 0.078s
[2025-05-20 10:45:44,066] INFO in server_improved: GET /financial/total/ - 200 - 0.078s
[2025-05-20 10:45:44,097] INFO in server_improved: GET /branches/ - 200 - 0.047s
[2025-05-20 10:45:44,112] INFO in server_improved: GET /financial/total/ - 200 - 0.047s
[2025-05-20 10:45:44,128] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-05-20 10:45:44,128] INFO in server_improved: GET /activity/ - 200 - 0.063s
[2025-05-20 10:46:01,221] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-05-20 10:46:01,221] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:46:01,231] INFO in server_improved: GET /branches/ - 200 - 0.068s
[2025-05-20 10:46:01,393] INFO in server_improved: GET /branches/1 - 200 - 0.147s
[2025-05-20 10:46:01,396] INFO in server_improved: GET /branches/ - 200 - 0.105s
[2025-05-20 10:46:01,419] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 10:46:01,448] INFO in server_improved: GET /transactions/ - 200 - 0.189s
[2025-05-20 10:46:01,465] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-05-20 10:46:01,505] INFO in server_improved: GET /transactions/ - 200 - 0.079s
[2025-05-20 10:46:01,508] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-05-20 10:46:01,540] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 10:46:01,576] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 10:46:03,672] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 10:46:03,750] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 11:08:22,958] INFO in server_improved: OPTIONS /update-transaction-status/ - 200 - 0.059s
[2025-05-20 11:08:23,440] INFO in server_improved: Recorded profit from benefited amount: 2000.0 SYP
[2025-05-20 11:08:23,441] INFO in server_improved: Transaction 191338c7-bfaf-40ff-bcf7-e1c3520b8ea4 profits:
Total Amount: 400020.0 SYP
Benefited Amount: 2000.0 SYP
Tax Rate: 0.0%
Tax on Benefited: 0.0 SYP
Profit from Benefited: 2000.0 SYP
[2025-05-20 11:08:23,667] INFO in server_improved: POST /update-transaction-status/ - 200 - 0.637s
[2025-05-20 11:08:23,691] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 11:08:23,758] INFO in server_improved: GET /transactions/ - 200 - 0.059s
[2025-05-20 11:09:08,222] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 11:09:08,226] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-05-20 11:09:08,272] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 11:09:08,304] INFO in server_improved: OPTIONS /activity/ - 200 - 0.001s
[2025-05-20 11:09:08,310] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-05-20 11:09:08,411] INFO in server_improved: GET /activity/ - 200 - 0.069s
[2025-05-20 11:09:08,416] INFO in server_improved: GET /financial/total/ - 200 - 0.067s
[2025-05-20 11:09:08,450] INFO in server_improved: GET /branches/ - 200 - 0.116s
[2025-05-20 11:09:08,461] INFO in server_improved: GET /users/ - 200 - 0.127s
[2025-05-20 11:09:08,501] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 11:09:08,512] INFO in server_improved: GET /financial/total/ - 200 - 0.077s
[2025-05-20 11:09:08,518] INFO in server_improved: GET /activity/ - 200 - 0.083s
[2025-05-20 11:09:08,518] INFO in server_improved: GET /users/ - 200 - 0.043s
[2025-05-20 11:09:18,336] INFO in server_improved: GET /branches/ - 200 - 0.263s
[2025-05-20 11:09:18,571] INFO in server_improved: GET /branches/ - 200 - 0.219s
[2025-05-20 11:09:18,790] INFO in server_improved: GET /transactions/ - 200 - 0.718s
[2025-05-20 11:09:19,021] INFO in server_improved: GET /transactions/ - 200 - 0.177s
[2025-05-20 11:09:29,907] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-05-20 11:09:29,943] INFO in server_improved: GET /users/ - 200 - 0.056s
[2025-05-20 11:09:29,943] INFO in server_improved: GET /activity/ - 200 - 0.040s
[2025-05-20 11:09:29,958] INFO in server_improved: GET /financial/total/ - 200 - 0.058s
[2025-05-20 11:09:29,958] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 11:09:30,018] INFO in server_improved: GET /activity/ - 200 - 0.044s
[2025-05-20 11:09:30,022] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-05-20 11:09:30,025] INFO in server_improved: GET /financial/total/ - 200 - 0.035s
[2025-05-20 11:10:48,020] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-05-20 11:10:48,036] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.016s
[2025-05-20 11:10:48,055] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-20 11:10:48,103] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 11:10:48,115] INFO in server_improved: GET /transactions/ - 200 - 0.079s
[2025-05-20 11:10:48,139] INFO in server_improved: GET /branches/1 - 200 - 0.103s
[2025-05-20 11:10:48,162] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 11:10:48,190] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2025-05-20 11:10:48,193] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 11:10:48,217] INFO in server_improved: GET /transactions/ - 200 - 0.046s
[2025-05-20 11:10:48,232] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 11:10:48,278] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 11:10:49,291] INFO in server_improved: GET /branches/1 - 200 - 0.016s
[2025-05-20 11:10:49,291] INFO in server_improved: GET /branches/1 - 200 - 0.000s
[2025-05-20 11:10:49,382] INFO in server_improved: GET /branches/1 - 200 - 0.008s
[2025-05-20 11:10:51,431] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-05-20 11:29:31,121] INFO in server_improved: OPTIONS /users/ - 200 - 0.015s
[2025-05-20 11:29:31,211] INFO in server_improved: OPTIONS /branches/ - 200 - 0.090s
[2025-05-20 11:29:31,238] INFO in server_improved: OPTIONS /activity/ - 200 - 0.117s
[2025-05-20 11:29:31,246] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.037s
[2025-05-20 11:29:31,249] INFO in server_improved: OPTIONS /users/ - 200 - 0.014s
[2025-05-20 11:29:31,259] INFO in server_improved: OPTIONS /branches/ - 200 - 0.021s
[2025-05-20 11:29:31,264] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.007s
[2025-05-20 11:29:31,296] INFO in server_improved: OPTIONS /activity/ - 200 - 0.034s
[2025-05-20 11:29:32,493] INFO in server_improved: GET /branches/ - 200 - 1.151s
[2025-05-20 11:29:32,570] INFO in server_improved: GET /financial/total/ - 200 - 1.252s
[2025-05-20 11:29:32,582] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-05-20 11:29:32,602] INFO in server_improved: GET /activity/ - 200 - 1.255s
[2025-05-20 11:29:32,610] INFO in server_improved: GET /users/ - 200 - 1.288s
[2025-05-20 11:29:32,616] INFO in server_improved: GET /financial/total/ - 200 - 0.021s
[2025-05-20 11:29:32,658] INFO in server_improved: GET /activity/ - 200 - 0.039s
[2025-05-20 11:29:33,184] INFO in server_improved: GET /users/ - 200 - 0.561s
[2025-05-20 11:29:36,825] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 11:29:36,829] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 11:29:36,892] INFO in server_improved: GET /branches/ - 200 - 0.055s
[2025-05-20 11:29:36,911] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 11:29:36,942] INFO in server_improved: GET /transactions/ - 200 - 0.104s
[2025-05-20 11:29:36,978] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 11:35:46,778] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 11:35:46,843] INFO in server_improved: GET /transactions/ - 200 - 0.104s
[2025-05-20 11:35:46,853] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 11:35:46,899] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 11:37:17,765] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 11:37:17,791] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-05-20 11:37:17,829] INFO in server_improved: GET /financial/total/ - 200 - 0.092s
[2025-05-20 11:37:17,845] INFO in server_improved: GET /activity/ - 200 - 0.094s
[2025-05-20 11:37:17,850] INFO in server_improved: GET /users/ - 200 - 0.118s
[2025-05-20 11:37:17,888] INFO in server_improved: GET /activity/ - 200 - 0.032s
[2025-05-20 11:37:17,890] INFO in server_improved: GET /financial/total/ - 200 - 0.048s
[2025-05-20 11:37:17,930] INFO in server_improved: GET /users/ - 200 - 0.069s
[2025-05-20 12:15:12,450] INFO in server_improved: OPTIONS /branches/ - 200 - 0.016s
[2025-05-20 12:15:12,482] INFO in server_improved: OPTIONS /users/ - 200 - 0.031s
[2025-05-20 12:15:12,522] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.072s
[2025-05-20 12:15:12,527] INFO in server_improved: OPTIONS /activity/ - 200 - 0.045s
[2025-05-20 12:15:12,528] INFO in server_improved: OPTIONS /branches/ - 200 - 0.014s
[2025-05-20 12:15:12,537] INFO in server_improved: OPTIONS /users/ - 200 - 0.013s
[2025-05-20 12:15:12,546] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.015s
[2025-05-20 12:15:12,564] INFO in server_improved: OPTIONS /activity/ - 200 - 0.021s
[2025-05-20 12:15:13,061] INFO in server_improved: GET /branches/ - 200 - 0.499s
[2025-05-20 12:15:13,064] INFO in server_improved: GET /activity/ - 200 - 0.489s
[2025-05-20 12:15:13,070] INFO in server_improved: GET /financial/total/ - 200 - 0.494s
[2025-05-20 12:15:13,097] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 12:15:13,136] INFO in server_improved: GET /activity/ - 200 - 0.046s
[2025-05-20 12:15:13,176] INFO in server_improved: GET /financial/total/ - 200 - 0.079s
[2025-05-20 12:15:13,211] INFO in server_improved: GET /users/ - 200 - 0.635s
[2025-05-20 12:15:13,277] INFO in server_improved: GET /users/ - 200 - 0.037s
[2025-05-20 12:15:44,894] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.003s
[2025-05-20 12:15:44,897] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.005s
[2025-05-20 12:15:45,020] INFO in server_improved: GET /branches/ - 200 - 0.119s
[2025-05-20 12:15:45,046] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 12:15:45,080] INFO in server_improved: GET /transactions/ - 200 - 0.157s
[2025-05-20 12:15:45,140] INFO in server_improved: GET /transactions/ - 200 - 0.048s
[2025-05-20 12:15:45,166] INFO in server_improved: GET /branches/1 - 200 - 0.261s
[2025-05-20 12:15:45,188] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 12:15:45,240] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 12:15:45,246] INFO in server_improved: GET /transactions/ - 200 - 0.049s
[2025-05-20 12:15:45,249] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2025-05-20 12:15:45,290] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 12:15:47,922] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 12:15:47,932] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-20 12:15:48,051] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-20 12:16:24,592] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 12:16:25,039] INFO in server_improved: POST /transactions/ - 201 - 0.293s
[2025-05-20 12:16:25,054] INFO in server_improved: OPTIONS /transactions/2b0040d9-d87e-4f29-8275-082fa87bb8dc/ - 200 - 0.001s
[2025-05-20 12:16:25,066] INFO in server_improved: [DEBUG] get_transaction called with id: 2b0040d9-d87e-4f29-8275-082fa87bb8dc
[2025-05-20 12:16:25,085] INFO in server_improved: [DEBUG] DB result for id 2b0040d9-d87e-4f29-8275-082fa87bb8dc: (<models.Transaction object at 0x000001F2C65E0DA0>, None, '')
[2025-05-20 12:16:25,088] INFO in server_improved: [DEBUG] sending_branch_name: None, destination_branch_name: 
[2025-05-20 12:16:25,089] INFO in server_improved: [DEBUG] transaction_dict returned: {'id': '2b0040d9-d87e-4f29-8275-082fa87bb8dc', 'sender': '', 'sender_mobile': '0965321458', 'sender_governorate': '', 'sender_location': '', 'sender_id': '0965321458', 'sender_address': '', 'receiver': '', 'receiver_mobile': '0965321458', 'receiver_governorate': '', 'receiver_location': '', 'receiver_id': '', 'receiver_address': '', 'amount': 4500.0, 'base_amount': 4500.0, 'benefited_amount': 200.0, 'tax_rate': 0.0, 'tax_amount': 0.0, 'currency': 'SYP', 'message': '', 'employee_name': '', 'branch_governorate': '', 'branch_id': None, 'destination_branch_id': 2, 'employee_id': 1, 'status': 'processing', 'date': datetime.datetime(2025, 5, 20, 12, 16, 24, 831776), 'is_received': False, 'sending_branch_name': '', 'destination_branch_name': ''}
[2025-05-20 12:16:25,093] INFO in server_improved: GET /transactions/2b0040d9-d87e-4f29-8275-082fa87bb8dc/ - 200 - 0.034s
[2025-05-20 12:16:25,146] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 12:16:25,190] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 12:16:43,855] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-05-20 12:16:43,896] INFO in server_improved: GET /financial/total/ - 200 - 0.052s
[2025-05-20 12:16:43,923] INFO in server_improved: GET /activity/ - 200 - 0.079s
[2025-05-20 12:16:43,944] INFO in server_improved: GET /users/ - 200 - 0.122s
[2025-05-20 12:16:43,983] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 12:16:43,996] INFO in server_improved: GET /financial/total/ - 200 - 0.046s
[2025-05-20 12:16:44,002] INFO in server_improved: GET /activity/ - 200 - 0.045s
[2025-05-20 12:16:44,026] INFO in server_improved: GET /users/ - 200 - 0.058s
[2025-05-20 12:21:25,873] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 12:21:25,942] INFO in server_improved: GET /users/ - 200 - 0.032s
[2025-05-20 12:21:25,964] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 12:21:25,968] INFO in server_improved: GET /financial/total/ - 200 - 0.054s
[2025-05-20 12:21:25,971] INFO in server_improved: GET /activity/ - 200 - 0.053s
[2025-05-20 12:21:25,993] INFO in server_improved: GET /users/ - 200 - 0.034s
[2025-05-20 12:21:26,003] INFO in server_improved: GET /financial/total/ - 200 - 0.026s
[2025-05-20 12:21:26,010] INFO in server_improved: GET /activity/ - 200 - 0.028s
[2025-05-20 12:23:43,852] INFO in server_improved: GET /branches/ - 200 - 0.081s
[2025-05-20 12:23:43,866] INFO in server_improved: GET /financial/total/ - 200 - 0.069s
[2025-05-20 12:23:43,866] INFO in server_improved: GET /activity/ - 200 - 0.068s
[2025-05-20 12:23:43,882] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-20 12:23:43,897] INFO in server_improved: GET /users/ - 200 - 0.121s
[2025-05-20 12:23:43,913] INFO in server_improved: GET /activity/ - 200 - 0.031s
[2025-05-20 12:23:43,913] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-05-20 12:23:43,960] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-05-20 12:26:35,529] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-05-20 12:26:35,533] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-05-20 12:26:35,545] INFO in server_improved: OPTIONS /activity/ - 200 - 0.016s
[2025-05-20 12:26:35,631] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.100s
[2025-05-20 12:26:35,659] INFO in server_improved: OPTIONS /users/ - 200 - 0.116s
[2025-05-20 12:26:35,678] INFO in server_improved: OPTIONS /branches/ - 200 - 0.063s
[2025-05-20 12:26:35,701] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.005s
[2025-05-20 12:26:35,718] INFO in server_improved: OPTIONS /activity/ - 200 - 0.020s
[2025-05-20 12:26:35,838] INFO in server_improved: GET /branches/ - 200 - 0.123s
[2025-05-20 12:26:35,866] INFO in server_improved: GET /activity/ - 200 - 0.138s
[2025-05-20 12:26:35,874] INFO in server_improved: GET /users/ - 200 - 0.174s
[2025-05-20 12:26:35,882] INFO in server_improved: GET /financial/total/ - 200 - 0.152s
[2025-05-20 12:26:35,909] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 12:26:35,928] INFO in server_improved: GET /financial/total/ - 200 - 0.032s
[2025-05-20 12:26:35,930] INFO in server_improved: GET /activity/ - 200 - 0.045s
[2025-05-20 12:26:35,982] INFO in server_improved: GET /users/ - 200 - 0.098s
[2025-05-20 12:27:00,285] INFO in server_improved: GET /branches/ - 200 - 0.072s
[2025-05-20 12:27:00,340] INFO in server_improved: GET /financial/total/ - 200 - 0.095s
[2025-05-20 12:27:00,361] INFO in server_improved: GET /users/ - 200 - 0.138s
[2025-05-20 12:27:00,376] INFO in server_improved: GET /activity/ - 200 - 0.131s
[2025-05-20 12:27:00,417] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 12:27:00,465] INFO in server_improved: GET /financial/total/ - 200 - 0.029s
[2025-05-20 12:27:00,477] INFO in server_improved: GET /activity/ - 200 - 0.037s
[2025-05-20 12:27:00,480] INFO in server_improved: GET /users/ - 200 - 0.042s
[2025-05-20 12:27:03,240] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 12:27:03,243] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 12:27:03,370] INFO in server_improved: GET /branches/ - 200 - 0.120s
[2025-05-20 12:27:03,398] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 12:27:06,504] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-20 12:27:06,551] INFO in server_improved: GET /financial/total/ - 200 - 0.046s
[2025-05-20 12:27:06,556] INFO in server_improved: GET /users/ - 200 - 0.068s
[2025-05-20 12:27:06,586] INFO in server_improved: GET /branches/ - 200 - 0.065s
[2025-05-20 12:27:06,592] INFO in server_improved: GET /activity/ - 200 - 0.085s
[2025-05-20 12:27:06,603] INFO in server_improved: GET /financial/total/ - 200 - 0.029s
[2025-05-20 12:27:06,625] INFO in server_improved: GET /users/ - 200 - 0.051s
[2025-05-20 12:27:06,669] INFO in server_improved: GET /activity/ - 200 - 0.030s
[2025-05-20 12:27:48,542] INFO in server_improved: GET /financial/total/ - 200 - 0.393s
[2025-05-20 12:27:48,609] INFO in server_improved: GET /branches/ - 200 - 0.460s
[2025-05-20 12:27:48,664] INFO in server_improved: GET /users/ - 200 - 0.515s
[2025-05-20 12:27:48,671] INFO in server_improved: GET /activity/ - 200 - 0.522s
[2025-05-20 12:27:48,694] INFO in server_improved: GET /financial/total/ - 200 - 0.014s
[2025-05-20 12:27:48,719] INFO in server_improved: GET /branches/ - 200 - 0.010s
[2025-05-20 12:27:48,750] INFO in server_improved: GET /users/ - 200 - 0.022s
[2025-05-20 12:27:49,436] INFO in server_improved: GET /activity/ - 200 - 0.071s
[2025-05-20 13:21:25,616] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 13:22:56,758] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.005s
[2025-05-20 13:22:56,758] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.013s
[2025-05-20 13:22:56,938] INFO in server_improved: GET /check-initialization/ - 200 - 0.125s
[2025-05-20 13:22:56,971] INFO in server_improved: GET /check-initialization/ - 200 - 0.033s
[2025-05-20 13:23:24,752] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-20 13:23:25,742] INFO in server_improved: POST /login/ - 200 - 0.983s
[2025-05-20 13:23:39,488] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.004s
[2025-05-20 13:23:39,585] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.099s
[2025-05-20 13:23:39,650] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.163s
[2025-05-20 13:23:39,701] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.116s
[2025-05-20 13:23:39,701] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.050s
[2025-05-20 13:23:39,711] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 13:23:39,892] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 13:23:40,265] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.373s
[2025-05-20 13:23:40,300] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.367s
[2025-05-20 13:23:40,361] INFO in server_improved: GET /transactions/ - 200 - 0.469s
[2025-05-20 13:23:40,371] INFO in server_improved: GET /branches/2 - 200 - 0.660s
[2025-05-20 13:23:40,371] INFO in server_improved: GET /transactions/ - 200 - 0.437s
[2025-05-20 13:23:49,049] INFO in server_improved: GET /check-initialization/ - 200 - 0.034s
[2025-05-20 13:23:49,075] INFO in server_improved: GET /check-initialization/ - 200 - 0.024s
[2025-05-20 13:23:58,577] INFO in server_improved: POST /login/ - 200 - 0.934s
[2025-05-20 13:24:01,884] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 13:24:01,935] INFO in server_improved: OPTIONS /branches/ - 200 - 0.050s
[2025-05-20 13:24:01,982] INFO in server_improved: OPTIONS /activity/ - 200 - 0.098s
[2025-05-20 13:24:02,014] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.079s
[2025-05-20 13:24:02,045] INFO in server_improved: OPTIONS /users/ - 200 - 0.079s
[2025-05-20 13:24:02,065] INFO in server_improved: OPTIONS /branches/ - 200 - 0.052s
[2025-05-20 13:24:02,080] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.006s
[2025-05-20 13:24:02,096] INFO in server_improved: OPTIONS /activity/ - 200 - 0.016s
[2025-05-20 13:24:02,158] INFO in server_improved: GET /branches/ - 200 - 0.078s
[2025-05-20 13:24:02,165] INFO in server_improved: GET /financial/total/ - 200 - 0.069s
[2025-05-20 13:24:02,165] INFO in server_improved: GET /activity/ - 200 - 0.069s
[2025-05-20 13:24:02,180] INFO in server_improved: GET /users/ - 200 - 0.100s
[2025-05-20 13:24:02,212] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 13:24:02,228] INFO in server_improved: GET /financial/total/ - 200 - 0.032s
[2025-05-20 13:24:02,250] INFO in server_improved: GET /users/ - 200 - 0.054s
[2025-05-20 13:24:02,250] INFO in server_improved: GET /activity/ - 200 - 0.054s
[2025-05-20 13:24:13,746] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 13:24:13,752] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-05-20 13:24:13,772] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 13:24:13,810] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 13:24:13,854] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-20 13:24:16,029] INFO in server_improved: GET /financial/total/ - 200 - 0.093s
[2025-05-20 13:24:16,029] INFO in server_improved: GET /branches/ - 200 - 0.122s
[2025-05-20 13:24:16,029] INFO in server_improved: GET /activity/ - 200 - 0.063s
[2025-05-20 13:24:16,038] INFO in server_improved: GET /users/ - 200 - 0.131s
[2025-05-20 13:24:16,064] INFO in server_improved: GET /financial/total/ - 200 - 0.019s
[2025-05-20 13:24:16,080] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 13:24:16,114] INFO in server_improved: GET /activity/ - 200 - 0.046s
[2025-05-20 13:24:16,134] INFO in server_improved: GET /users/ - 200 - 0.039s
[2025-05-20 13:24:36,987] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-05-20 13:24:37,051] INFO in server_improved: GET /users/ - 200 - 0.050s
[2025-05-20 13:24:37,061] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-05-20 13:24:37,066] INFO in server_improved: GET /activity/ - 200 - 0.064s
[2025-05-20 13:24:37,068] INFO in server_improved: GET /financial/total/ - 200 - 0.065s
[2025-05-20 13:24:37,097] INFO in server_improved: GET /users/ - 200 - 0.038s
[2025-05-20 13:24:37,108] INFO in server_improved: GET /activity/ - 200 - 0.028s
[2025-05-20 13:24:37,110] INFO in server_improved: GET /financial/total/ - 200 - 0.028s
[2025-05-20 13:27:25,729] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 13:27:25,777] INFO in server_improved: GET /users/ - 200 - 0.032s
[2025-05-20 13:27:25,814] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 13:27:25,830] INFO in server_improved: GET /financial/total/ - 200 - 0.069s
[2025-05-20 13:27:25,830] INFO in server_improved: GET /activity/ - 200 - 0.053s
[2025-05-20 13:27:25,845] INFO in server_improved: GET /users/ - 200 - 0.037s
[2025-05-20 13:27:25,861] INFO in server_improved: GET /financial/total/ - 200 - 0.016s
[2025-05-20 13:27:25,877] INFO in server_improved: GET /activity/ - 200 - 0.031s
[2025-05-20 13:28:06,733] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-05-20 13:28:06,932] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-20 16:28:58,421] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-20 16:30:44,057] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-05-20 16:30:44,103] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.063s
[2025-05-20 16:30:44,345] INFO in server_improved: GET /check-initialization/ - 200 - 0.188s
[2025-05-20 16:30:44,363] INFO in server_improved: GET /check-initialization/ - 200 - 0.000s
[2025-05-20 16:30:51,064] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-05-20 16:30:51,885] INFO in server_improved: POST /login/ - 200 - 0.818s
[2025-05-20 16:31:39,059] INFO in server_improved: GET /check-initialization/ - 200 - 0.034s
[2025-05-20 16:31:39,134] INFO in server_improved: GET /check-initialization/ - 200 - 0.011s
[2025-05-20 16:31:48,548] INFO in server_improved: POST /login/ - 200 - 1.479s
[2025-05-20 16:31:49,834] INFO in server_improved: OPTIONS /branches/ - 200 - 0.004s
[2025-05-20 16:31:49,852] INFO in server_improved: OPTIONS /users/ - 200 - 0.020s
[2025-05-20 16:31:49,852] INFO in server_improved: OPTIONS /branches/ - 200 - 0.016s
[2025-05-20 16:31:49,868] INFO in server_improved: OPTIONS /activity/ - 200 - 0.015s
[2025-05-20 16:31:49,879] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.026s
[2025-05-20 16:31:49,883] INFO in server_improved: OPTIONS /users/ - 200 - 0.017s
[2025-05-20 16:31:49,888] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.014s
[2025-05-20 16:31:49,899] INFO in server_improved: OPTIONS /activity/ - 200 - 0.009s
[2025-05-20 16:31:50,060] INFO in server_improved: GET /users/ - 200 - 0.162s
[2025-05-20 16:31:50,060] INFO in server_improved: GET /branches/ - 200 - 0.163s
[2025-05-20 16:31:50,060] INFO in server_improved: GET /financial/total/ - 200 - 0.157s
[2025-05-20 16:31:50,120] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 16:31:50,122] INFO in server_improved: GET /activity/ - 200 - 0.221s
[2025-05-20 16:31:50,126] INFO in server_improved: GET /users/ - 200 - 0.045s
[2025-05-20 16:31:50,126] INFO in server_improved: GET /financial/total/ - 200 - 0.037s
[2025-05-20 16:31:50,164] INFO in server_improved: GET /activity/ - 200 - 0.038s
[2025-05-20 16:32:19,804] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 16:32:19,812] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 16:32:19,858] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.008s
[2025-05-20 16:32:19,862] INFO in server_improved: OPTIONS /activity/ - 200 - 0.008s
[2025-05-20 16:32:19,864] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 16:32:19,870] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-05-20 16:32:19,876] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.007s
[2025-05-20 16:32:19,881] INFO in server_improved: OPTIONS /users/ - 200 - 0.008s
[2025-05-20 16:32:19,888] INFO in server_improved: GET /users/ - 200 - 0.061s
[2025-05-20 16:32:19,892] INFO in server_improved: OPTIONS /activity/ - 200 - 0.013s
[2025-05-20 16:32:19,946] INFO in server_improved: GET /financial/total/ - 200 - 0.050s
[2025-05-20 16:32:19,948] INFO in server_improved: GET /financial/total/ - 200 - 0.054s
[2025-05-20 16:32:19,948] INFO in server_improved: GET /activity/ - 200 - 0.060s
[2025-05-20 16:32:19,953] INFO in server_improved: GET /branches/ - 200 - 0.057s
[2025-05-20 16:32:20,204] INFO in server_improved: GET /activity/ - 200 - 0.307s
[2025-05-20 16:32:20,206] INFO in server_improved: GET /users/ - 200 - 0.301s
[2025-05-20 16:38:58,177] INFO in server_improved: GET /activity/ - 200 - 0.068s
[2025-05-20 16:38:58,185] INFO in server_improved: GET /branches/ - 200 - 0.079s
[2025-05-20 16:38:58,192] INFO in server_improved: GET /financial/total/ - 200 - 0.085s
[2025-05-20 16:38:58,240] INFO in server_improved: GET /users/ - 200 - 0.133s
[2025-05-20 16:38:58,247] INFO in server_improved: GET /financial/total/ - 200 - 0.034s
[2025-05-20 16:38:58,270] INFO in server_improved: GET /branches/ - 200 - 0.065s
[2025-05-20 16:38:58,294] INFO in server_improved: GET /activity/ - 200 - 0.098s
[2025-05-20 16:38:58,335] INFO in server_improved: GET /users/ - 200 - 0.084s
[2025-05-20 16:39:44,707] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-20 16:39:44,721] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.014s
[2025-05-20 16:39:44,739] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 16:39:44,941] INFO in server_improved: GET /branches/ - 200 - 0.185s
[2025-05-20 16:39:44,981] INFO in server_improved: GET /transactions/ - 200 - 0.239s
[2025-05-20 16:39:45,082] INFO in server_improved: GET /transactions/ - 200 - 0.076s
[2025-05-20 16:39:45,215] INFO in server_improved: GET /branches/1 - 200 - 0.473s
[2025-05-20 16:39:45,230] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 16:39:45,303] INFO in server_improved: GET /branches/ - 200 - 0.070s
[2025-05-20 16:39:45,353] INFO in server_improved: GET /transactions/ - 200 - 0.119s
[2025-05-20 16:39:45,361] INFO in server_improved: GET /transactions/ - 200 - 0.127s
[2025-05-20 16:39:45,400] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-20 16:39:56,486] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 16:39:56,510] INFO in server_improved: GET /users/ - 200 - 0.045s
[2025-05-20 16:39:56,551] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-05-20 16:39:56,569] INFO in server_improved: GET /users/ - 200 - 0.037s
[2025-05-20 16:39:59,110] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 16:39:59,125] INFO in server_improved: GET /branches/1 - 200 - 0.045s
[2025-05-20 16:39:59,141] INFO in server_improved: GET /transactions/ - 200 - 0.060s
[2025-05-20 16:39:59,161] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-05-20 16:39:59,209] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-05-20 16:39:59,225] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 16:39:59,230] INFO in server_improved: GET /transactions/ - 200 - 0.048s
[2025-05-20 16:39:59,242] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 16:39:59,273] INFO in server_improved: GET /transactions/ - 200 - 0.018s
[2025-05-20 16:43:52,236] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 16:43:52,246] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-05-20 16:43:52,249] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-05-20 16:43:52,252] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-05-20 16:43:52,284] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-05-20 16:43:52,296] INFO in server_improved: GET /users/ - 200 - 0.034s
[2025-05-20 16:43:52,323] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 16:43:52,345] INFO in server_improved: GET /users/ - 200 - 0.038s
[2025-05-20 16:44:12,386] INFO in server_improved: GET /branches/ - 200 - 0.088s
[2025-05-20 16:44:12,397] INFO in server_improved: GET /branches/1 - 200 - 0.095s
[2025-05-20 16:44:12,439] INFO in server_improved: GET /transactions/ - 200 - 0.137s
[2025-05-20 16:44:12,446] INFO in server_improved: GET /branches/ - 200 - 0.008s
[2025-05-20 16:44:12,517] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2025-05-20 16:44:12,523] INFO in server_improved: GET /branches/ - 200 - 0.057s
[2025-05-20 16:44:12,537] INFO in server_improved: GET /transactions/ - 200 - 0.071s
[2025-05-20 16:44:12,559] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-05-20 16:44:12,591] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 16:52:13,503] INFO in server_improved: GET /branches/ - 200 - 0.467s
[2025-05-20 16:52:13,517] INFO in server_improved: GET /users/ - 200 - 0.485s
[2025-05-20 16:52:13,533] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 16:52:13,556] INFO in server_improved: GET /users/ - 200 - 0.028s
[2025-05-20 17:02:02,078] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 17:02:02,309] INFO in server_improved: OPTIONS /branches/ - 200 - 0.231s
[2025-05-20 17:02:02,320] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.243s
[2025-05-20 17:02:02,322] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.015s
[2025-05-20 17:02:03,473] INFO in server_improved: GET /transactions/ - 200 - 0.950s
[2025-05-20 17:02:04,059] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 17:02:04,059] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 17:02:05,006] INFO in server_improved: GET /transactions/ - 200 - 1.313s
[2025-05-20 17:02:06,495] INFO in server_improved: GET /branches/ - 200 - 3.971s
[2025-05-20 17:02:06,840] INFO in server_improved: GET /branches/1 - 200 - 4.317s
[2025-05-20 17:02:06,852] INFO in server_improved: GET /users/ - 200 - 2.793s
[2025-05-20 17:02:07,115] INFO in server_improved: GET /users/ - 200 - 0.257s
[2025-05-20 17:02:07,149] INFO in server_improved: GET /branches/ - 200 - 0.637s
[2025-05-20 17:02:07,159] INFO in server_improved: GET /branches/ - 200 - 0.007s
[2025-05-20 17:02:07,174] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 17:06:52,091] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-05-20 17:06:52,108] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 17:06:52,160] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-20 17:06:52,213] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 17:06:52,242] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-05-20 17:06:52,287] INFO in server_improved: GET /transactions/ - 200 - 0.139s
[2025-05-20 17:06:52,330] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-05-20 17:06:52,336] INFO in server_improved: GET /transactions/ - 200 - 0.123s
[2025-05-20 17:06:52,359] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-05-20 17:06:52,389] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-05-20 17:06:53,083] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-20 17:06:53,099] INFO in server_improved: GET /users/ - 200 - 0.051s
[2025-05-20 17:06:53,106] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 17:06:53,135] INFO in server_improved: GET /users/ - 200 - 0.025s
[2025-05-20 17:06:53,923] INFO in server_improved: GET /branches/ - 200 - 0.014s
[2025-05-20 17:06:53,947] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-05-20 17:06:53,986] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-20 17:06:54,012] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 17:06:54,063] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-20 17:06:54,075] INFO in server_improved: GET /branches/ - 200 - 0.052s
[2025-05-20 17:06:54,079] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2025-05-20 17:06:54,112] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-20 17:06:54,134] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 17:06:54,717] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.004s
[2025-05-20 17:06:54,721] INFO in server_improved: OPTIONS /activity/ - 200 - 0.007s
[2025-05-20 17:06:54,728] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.014s
[2025-05-20 17:06:54,733] INFO in server_improved: OPTIONS /activity/ - 200 - 0.018s
[2025-05-20 17:06:54,783] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 17:06:54,793] INFO in server_improved: GET /financial/total/ - 200 - 0.044s
[2025-05-20 17:06:54,795] INFO in server_improved: GET /activity/ - 200 - 0.045s
[2025-05-20 17:06:54,799] INFO in server_improved: GET /users/ - 200 - 0.080s
[2025-05-20 17:06:54,825] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-05-20 17:06:54,882] INFO in server_improved: GET /activity/ - 200 - 0.039s
[2025-05-20 17:06:54,886] INFO in server_improved: GET /financial/total/ - 200 - 0.051s
[2025-05-20 17:06:54,904] INFO in server_improved: GET /users/ - 200 - 0.046s
[2025-05-20 17:14:32,491] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 17:14:32,513] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-05-20 17:14:32,514] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-05-20 17:14:32,520] INFO in server_improved: OPTIONS /users/ - 200 - 0.010s
[2025-05-20 17:14:32,570] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-05-20 17:14:32,593] INFO in server_improved: GET /financial/total/ - 200 - 0.083s
[2025-05-20 17:14:32,612] INFO in server_improved: GET /activity/ - 200 - 0.102s
[2025-05-20 17:14:32,616] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-05-20 17:14:32,671] INFO in server_improved: GET /users/ - 200 - 0.131s
[2025-05-20 17:14:32,712] INFO in server_improved: GET /users/ - 200 - 0.031s
[2025-05-20 17:14:32,760] INFO in server_improved: GET /activity/ - 200 - 0.084s
[2025-05-20 17:14:32,820] INFO in server_improved: GET /financial/total/ - 200 - 0.159s
[2025-05-20 17:15:13,766] INFO in server_improved: GET /branches/ - 200 - 0.055s
[2025-05-20 17:15:13,861] INFO in server_improved: GET /branches/ - 200 - 0.086s
[2025-05-20 17:15:13,876] INFO in server_improved: GET /financial/total/ - 200 - 0.146s
[2025-05-20 17:15:13,880] INFO in server_improved: GET /users/ - 200 - 0.168s
[2025-05-20 17:15:13,891] INFO in server_improved: GET /activity/ - 200 - 0.161s
[2025-05-20 17:15:13,976] INFO in server_improved: GET /activity/ - 200 - 0.024s
[2025-05-20 17:15:13,986] INFO in server_improved: GET /users/ - 200 - 0.036s
[2025-05-20 17:15:14,000] INFO in server_improved: GET /financial/total/ - 200 - 0.052s
[2025-05-20 17:16:10,796] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 17:16:10,810] INFO in server_improved: GET /financial/total/ - 200 - 0.040s
[2025-05-20 17:16:10,818] INFO in server_improved: GET /activity/ - 200 - 0.048s
[2025-05-20 17:16:10,823] INFO in server_improved: GET /users/ - 200 - 0.055s
[2025-05-20 17:16:10,855] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-05-20 17:16:10,870] INFO in server_improved: GET /activity/ - 200 - 0.042s
[2025-05-20 17:16:10,873] INFO in server_improved: GET /financial/total/ - 200 - 0.051s
[2025-05-20 17:16:10,881] INFO in server_improved: GET /users/ - 200 - 0.050s
[2025-05-20 17:16:26,950] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 17:16:26,973] INFO in server_improved: GET /activity/ - 200 - 0.046s
[2025-05-20 17:16:26,986] INFO in server_improved: GET /financial/total/ - 200 - 0.058s
[2025-05-20 17:16:26,990] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-05-20 17:16:26,997] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-20 17:16:27,067] INFO in server_improved: GET /activity/ - 200 - 0.060s
[2025-05-20 17:16:27,069] INFO in server_improved: GET /users/ - 200 - 0.060s
[2025-05-20 17:16:27,077] INFO in server_improved: GET /financial/total/ - 200 - 0.070s
[2025-05-20 17:33:33,986] INFO in server_improved: OPTIONS /transfers/ - 200 - 0.001s
[2025-05-20 17:33:33,990] INFO in server_improved: OPTIONS /transfers/ - 200 - 0.000s
[2025-05-20 17:33:34,004] INFO in server_improved: GET /transfers/ - 404 - 0.003s
[2025-05-20 17:33:34,013] INFO in server_improved: GET /transfers/ - 404 - 0.001s
[2025-05-20 17:34:11,819] INFO in server_improved: GET /transfers/ - 404 - 0.003s
[2025-05-20 17:34:11,826] INFO in server_improved: GET /transfers/ - 404 - 0.000s
[2025-05-20 17:34:16,797] INFO in server_improved: GET /transfers/ - 404 - 0.001s
[2025-05-20 17:34:16,804] INFO in server_improved: GET /transfers/ - 404 - 0.002s
[2025-05-20 17:34:37,405] INFO in server_improved: OPTIONS /transfers/ - 200 - 0.002s
[2025-05-20 17:34:37,407] INFO in server_improved: OPTIONS /transfers/ - 200 - 0.001s
[2025-05-20 17:34:37,411] INFO in server_improved: GET /transfers/ - 404 - 0.001s
[2025-05-20 17:34:37,416] INFO in server_improved: GET /transfers/ - 404 - 0.001s
[2025-05-20 17:34:39,257] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 17:34:39,269] INFO in server_improved: OPTIONS /branches/ - 200 - 0.004s
[2025-05-20 17:34:39,275] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-05-20 17:34:39,290] INFO in server_improved: OPTIONS /users/ - 200 - 0.016s
[2025-05-20 17:34:39,376] INFO in server_improved: GET /users/ - 200 - 0.101s
[2025-05-20 17:34:39,420] INFO in server_improved: GET /users/ - 200 - 0.034s
[2025-05-20 17:34:39,507] INFO in server_improved: GET /branches/ - 200 - 0.214s
[2025-05-20 17:34:39,577] INFO in server_improved: GET /branches/ - 200 - 0.063s
[2025-05-20 17:34:41,341] INFO in server_improved: GET /transfers/ - 404 - 0.000s
[2025-05-20 17:34:41,355] INFO in server_improved: GET /transfers/ - 404 - 0.001s
[2025-05-20 17:35:44,126] INFO in server_improved: GET /transfers/ - 404 - 0.001s
[2025-05-20 17:35:44,164] INFO in server_improved: GET /transfers/ - 404 - 0.002s
[2025-05-20 17:35:47,864] INFO in server_improved: GET /users/ - 200 - 0.157s
[2025-05-20 17:35:47,949] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-05-20 17:35:47,951] INFO in server_improved: GET /branches/ - 200 - 0.243s
[2025-05-20 17:35:47,982] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-05-20 17:35:50,137] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.002s
[2025-05-20 17:35:50,138] INFO in server_improved: OPTIONS /activity/ - 200 - 0.003s
[2025-05-20 17:35:50,147] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-20 17:35:50,237] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-05-20 17:35:50,255] INFO in server_improved: GET /users/ - 200 - 0.123s
[2025-05-20 17:35:50,275] INFO in server_improved: GET /branches/ - 200 - 0.145s
[2025-05-20 17:35:50,322] INFO in server_improved: GET /activity/ - 200 - 0.035s
[2025-05-20 17:35:50,336] INFO in server_improved: GET /financial/total/ - 200 - 0.050s
[2025-05-20 17:35:50,347] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 17:35:50,361] INFO in server_improved: GET /users/ - 200 - 0.072s
[2025-05-20 17:35:50,389] INFO in server_improved: GET /financial/total/ - 200 - 0.042s
[2025-05-20 17:35:50,390] INFO in server_improved: GET /activity/ - 200 - 0.043s
[2025-05-20 17:35:54,371] INFO in server_improved: GET /transfers/ - 404 - 0.000s
[2025-05-20 17:35:54,380] INFO in server_improved: GET /transfers/ - 404 - 0.002s
[2025-05-20 17:36:46,048] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 17:36:46,066] INFO in server_improved: GET /users/ - 200 - 0.056s
[2025-05-20 17:36:46,118] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 17:36:46,135] INFO in server_improved: GET /users/ - 200 - 0.036s
[2025-05-20 17:36:48,463] INFO in server_improved: GET /transfers/ - 404 - 0.002s
[2025-05-20 17:36:48,463] INFO in server_improved: GET /transfers/ - 404 - 0.000s
[2025-05-20 17:37:14,580] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 17:37:14,587] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 17:37:15,315] INFO in server_improved: GET /transactions/ - 200 - 0.723s
[2025-05-20 17:37:15,367] INFO in server_improved: GET /branches/ - 200 - 0.649s
[2025-05-20 17:37:15,620] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2025-05-20 17:37:15,872] INFO in server_improved: GET /branches/ - 200 - 0.320s
[2025-05-20 17:37:15,886] INFO in server_improved: GET /transactions/ - 200 - 0.234s
[2025-05-20 17:37:15,921] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-05-20 17:40:29,512] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-05-20 17:40:29,519] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 17:40:29,577] INFO in server_improved: GET /branches/ - 200 - 0.073s
[2025-05-20 17:40:29,646] INFO in server_improved: GET /transactions/ - 200 - 0.046s
[2025-05-20 17:40:29,659] INFO in server_improved: GET /branches/ - 200 - 0.047s
[2025-05-20 17:40:29,699] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-05-20 17:40:29,714] INFO in server_improved: GET /branches/1 - 200 - 0.196s
[2025-05-20 17:40:29,734] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 17:40:29,765] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-20 17:40:29,775] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 17:40:29,782] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-20 17:40:29,810] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 17:40:31,000] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-20 17:40:31,004] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 17:40:31,039] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 17:40:31,055] INFO in server_improved: GET /transactions/ - 200 - 0.049s
[2025-05-20 17:40:34,503] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 17:40:34,518] INFO in server_improved: GET /users/ - 200 - 0.034s
[2025-05-20 17:40:34,538] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-05-20 17:40:34,567] INFO in server_improved: GET /users/ - 200 - 0.044s
[2025-05-20 17:40:36,223] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 17:40:36,236] INFO in server_improved: GET /transactions/ - 200 - 0.048s
[2025-05-20 17:40:36,291] INFO in server_improved: GET /branches/ - 200 - 0.051s
[2025-05-20 17:40:36,319] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2025-05-20 17:44:42,590] INFO in server_improved: GET /check-initialization/ - 200 - 0.025s
[2025-05-20 17:44:42,628] INFO in server_improved: GET /check-initialization/ - 200 - 0.015s
[2025-05-20 17:44:47,358] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-05-20 17:44:48,313] INFO in server_improved: POST /login/ - 200 - 0.950s
[2025-05-20 17:44:49,675] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-05-20 17:44:49,694] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-20 17:44:49,710] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 17:44:49,710] INFO in server_improved: OPTIONS /users/ - 200 - 0.016s
[2025-05-20 17:44:49,906] INFO in server_improved: GET /branches/ - 200 - 0.180s
[2025-05-20 17:44:49,906] INFO in server_improved: GET /activity/ - 200 - 0.180s
[2025-05-20 17:44:49,923] INFO in server_improved: GET /users/ - 200 - 0.197s
[2025-05-20 17:44:49,923] INFO in server_improved: GET /financial/total/ - 200 - 0.199s
[2025-05-20 17:44:49,957] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-20 17:44:49,958] INFO in server_improved: GET /activity/ - 200 - 0.035s
[2025-05-20 17:44:49,984] INFO in server_improved: GET /financial/total/ - 200 - 0.026s
[2025-05-20 17:44:50,000] INFO in server_improved: GET /users/ - 200 - 0.042s
[2025-05-20 17:44:52,662] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-20 17:44:52,669] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2025-05-20 17:44:52,726] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 17:44:52,729] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-05-20 17:44:57,273] INFO in server_improved: GET /branches/ - 200 - 0.047s
[2025-05-20 17:44:57,273] INFO in server_improved: GET /transactions/ - 200 - 0.048s
[2025-05-20 17:45:04,538] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-05-20 17:45:04,553] INFO in server_improved: GET /branches/1 - 200 - 0.012s
[2025-05-20 17:45:04,569] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-20 17:45:04,599] INFO in server_improved: GET /transactions/ - 200 - 0.055s
[2025-05-20 17:45:04,619] INFO in server_improved: GET /transactions/ - 200 - 0.035s
[2025-05-20 17:45:04,635] INFO in server_improved: GET /branches/ - 200 - 0.045s
[2025-05-20 17:45:04,662] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2025-05-20 17:45:04,686] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-05-20 17:45:04,715] INFO in server_improved: GET /transactions/ - 200 - 0.019s
[2025-05-20 17:45:07,276] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-05-20 17:45:11,560] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-05-20 17:45:11,560] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-05-20 17:45:11,598] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 17:45:11,634] INFO in server_improved: GET /transactions/ - 200 - 0.046s
[2025-05-20 18:00:09,361] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 18:00:09,377] INFO in server_improved: OPTIONS /users/ - 200 - 0.001s
[2025-05-20 18:00:09,387] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.010s
[2025-05-20 18:00:09,389] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.012s
[2025-05-20 18:00:09,393] INFO in server_improved: OPTIONS /activity/ - 200 - 0.009s
[2025-05-20 18:00:09,393] INFO in server_improved: OPTIONS /branches/ - 200 - 0.007s
[2025-05-20 18:00:09,401] INFO in server_improved: OPTIONS /users/ - 200 - 0.009s
[2025-05-20 18:00:09,408] INFO in server_improved: OPTIONS /activity/ - 200 - 0.004s
[2025-05-20 18:00:09,421] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 18:00:09,761] INFO in server_improved: GET /branches/ - 200 - 0.354s
[2025-05-20 18:00:09,809] INFO in server_improved: GET /financial/total/ - 200 - 0.158s
[2025-05-20 18:00:09,810] INFO in server_improved: GET /activity/ - 200 - 0.158s
[2025-05-20 18:00:09,816] INFO in server_improved: GET /users/ - 200 - 0.168s
[2025-05-20 18:00:09,849] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-05-20 18:00:09,876] INFO in server_improved: GET /financial/total/ - 200 - 0.033s
[2025-05-20 18:00:09,890] INFO in server_improved: GET /activity/ - 200 - 0.043s
[2025-05-20 18:00:09,924] INFO in server_improved: GET /users/ - 200 - 0.075s
[2025-05-20 18:01:14,614] INFO in server_improved: GET /branches/ - 200 - 0.239s
[2025-05-20 18:01:14,692] INFO in server_improved: GET /financial/total/ - 200 - 0.235s
[2025-05-20 18:01:14,742] INFO in server_improved: GET /users/ - 200 - 0.353s
[2025-05-20 18:01:14,807] INFO in server_improved: GET /activity/ - 200 - 0.348s
[2025-05-20 18:01:14,854] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-05-20 18:01:14,854] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-05-20 18:01:14,885] INFO in server_improved: GET /activity/ - 200 - 0.031s
[2025-05-20 18:01:14,894] INFO in server_improved: GET /users/ - 200 - 0.040s
[2025-05-20 18:02:26,395] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-20 18:02:26,480] INFO in server_improved: GET /users/ - 200 - 0.021s
[2025-05-20 18:02:26,510] INFO in server_improved: GET /financial/total/ - 200 - 0.030s
[2025-05-20 18:02:26,525] INFO in server_improved: GET /branches/ - 200 - 0.045s
[2025-05-20 18:02:26,529] INFO in server_improved: GET /activity/ - 200 - 0.048s
[2025-05-20 18:02:26,530] INFO in server_improved: GET /users/ - 200 - 0.034s
[2025-05-20 18:02:26,554] INFO in server_improved: GET /financial/total/ - 200 - 0.033s
[2025-05-20 18:02:26,565] INFO in server_improved: GET /activity/ - 200 - 0.015s
[2025-05-20 18:04:17,406] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 18:04:17,406] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 18:04:17,541] INFO in server_improved: GET /branches/ - 200 - 0.122s
[2025-05-20 18:04:17,555] INFO in server_improved: GET /transactions/ - 200 - 0.134s
[2025-05-20 18:04:17,622] INFO in server_improved: GET /branches/ - 200 - 0.027s
[2025-05-20 18:04:17,640] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-05-20 18:05:09,916] INFO in server_improved: GET /branches/ - 200 - 0.067s
[2025-05-20 18:05:09,928] INFO in server_improved: GET /activity/ - 200 - 0.074s
[2025-05-20 18:05:09,949] INFO in server_improved: GET /financial/total/ - 200 - 0.098s
[2025-05-20 18:05:10,109] INFO in server_improved: GET /financial/total/ - 200 - 0.044s
[2025-05-20 18:05:10,175] INFO in server_improved: GET /users/ - 200 - 0.323s
[2025-05-20 18:05:10,223] INFO in server_improved: GET /users/ - 200 - 0.032s
[2025-05-20 18:05:10,766] INFO in server_improved: GET /activity/ - 200 - 0.743s
[2025-05-20 18:05:10,775] INFO in server_improved: GET /branches/ - 200 - 0.771s
[2025-05-20 18:05:50,288] INFO in server_improved: GET /branches/ - 200 - 0.072s
[2025-05-20 18:05:50,343] INFO in server_improved: GET /branches/ - 200 - 0.042s
[2025-05-20 18:05:50,541] INFO in server_improved: GET /transactions/ - 200 - 0.329s
[2025-05-20 18:05:50,645] INFO in server_improved: GET /transactions/ - 200 - 0.094s
[2025-05-20 18:08:46,730] INFO in server_improved: GET /branches/ - 200 - 0.065s
[2025-05-20 18:08:46,781] INFO in server_improved: GET /transactions/ - 200 - 0.116s
[2025-05-20 18:09:02,732] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 18:09:02,735] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 18:09:03,111] INFO in server_improved: GET /branches/ - 200 - 0.294s
[2025-05-20 18:09:03,148] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-05-20 18:09:52,753] INFO in server_improved: GET /users/ - 200 - 0.095s
[2025-05-20 18:09:52,758] INFO in server_improved: GET /branches/ - 200 - 0.100s
[2025-05-20 18:09:52,927] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 18:09:53,091] INFO in server_improved: GET /users/ - 200 - 0.214s
[2025-05-20 18:10:10,574] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 18:10:10,579] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-20 18:10:10,623] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 18:10:10,654] INFO in server_improved: GET /transactions/ - 200 - 0.071s
[2025-05-20 18:10:10,664] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 18:10:10,712] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-20 18:12:28,495] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-20 18:12:28,528] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-20 18:13:06,494] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 18:13:06,510] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-05-20 18:19:35,841] INFO in server_improved: OPTIONS /branches/2/allocate-funds/ - 200 - 0.001s
[2025-05-20 18:19:36,104] INFO in server_improved: POST /branches/2/allocate-funds/ - 200 - 0.257s
[2025-05-20 18:19:36,123] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-20 18:19:36,163] INFO in server_improved: GET /branches/ - 200 - 0.033s
[2025-05-20 18:19:46,189] INFO in server_improved: POST /branches/2/allocate-funds/ - 200 - 0.062s
[2025-05-20 18:19:46,231] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 18:19:53,056] INFO in server_improved: POST /branches/2/allocate-funds/ - 200 - 0.048s
[2025-05-20 18:19:53,094] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 18:20:03,311] INFO in server_improved: POST /branches/2/allocate-funds/ - 200 - 0.061s
[2025-05-20 18:20:03,371] INFO in server_improved: GET /branches/ - 200 - 0.033s
[2025-05-20 18:20:21,683] INFO in server_improved: OPTIONS /api/branches/2/tax_rate/ - 200 - 0.000s
[2025-05-20 18:20:21,726] INFO in server_improved: PUT /api/branches/2/tax_rate/ - 200 - 0.044s
[2025-05-20 18:20:21,769] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-05-20 18:21:39,562] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-05-20 18:21:39,565] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-05-20 18:21:39,568] INFO in server_improved: OPTIONS /users/ - 200 - 0.001s
[2025-05-20 18:21:39,570] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-05-20 18:21:39,577] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 18:21:39,581] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 18:21:39,628] INFO in server_improved: GET /users/ - 200 - 0.039s
[2025-05-20 18:21:39,648] INFO in server_improved: GET /branches/ - 200 - 0.046s
[2025-05-20 18:21:39,687] INFO in server_improved: GET /users/ - 200 - 0.036s
[2025-05-20 18:21:39,709] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 18:21:44,118] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-20 18:21:44,193] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 18:21:44,395] INFO in server_improved: GET /branches/ - 200 - 0.161s
[2025-05-20 18:21:54,697] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 18:21:54,715] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-05-20 18:21:54,807] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-05-20 18:21:54,867] INFO in server_improved: GET /branches/ - 200 - 0.008s
[2025-05-20 18:21:59,615] INFO in server_improved: GET /users/ - 200 - 0.027s
[2025-05-20 18:25:48,411] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-05-20 18:25:48,427] INFO in server_improved: GET /users/ - 200 - 0.036s
[2025-05-20 18:25:48,505] INFO in server_improved: GET /branches/ - 200 - 0.093s
[2025-05-20 18:25:48,519] INFO in server_improved: GET /users/ - 200 - 0.041s
[2025-05-20 18:30:34,916] INFO in server_improved: OPTIONS /branches/stats/ - 200 - 0.000s
[2025-05-20 18:30:34,998] INFO in server_improved: GET /branches/stats/ - 200 - 0.082s
[2025-05-20 18:30:41,240] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.000s
[2025-05-20 18:30:41,267] INFO in server_improved: GET /reports/transactions - 307 - 0.026s
[2025-05-20 18:30:41,287] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-20 18:30:41,334] INFO in server_improved: GET /reports/transactions/ - 200 - 0.037s
[2025-05-20 18:30:55,855] INFO in server_improved: OPTIONS /reports/employees - 200 - 0.000s
[2025-05-20 18:30:55,878] INFO in server_improved: GET /reports/employees - 307 - 0.011s
[2025-05-20 18:30:55,897] INFO in server_improved: OPTIONS /reports/employees/ - 200 - 0.001s
[2025-05-20 18:30:55,964] INFO in server_improved: GET /reports/employees/ - 200 - 0.065s
[2025-05-20 18:31:10,507] INFO in server_improved: OPTIONS /reports/daily - 200 - 0.000s
[2025-05-20 18:31:10,529] INFO in server_improved: GET /reports/daily - 307 - 0.000s
[2025-05-20 18:31:10,540] INFO in server_improved: OPTIONS /reports/daily/ - 200 - 0.001s
[2025-05-20 18:31:10,575] INFO in server_improved: GET /reports/daily/ - 200 - 0.029s
[2025-05-20 18:31:12,306] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.001s
[2025-05-20 18:31:12,313] INFO in server_improved: GET /reports/transactions - 307 - 0.001s
[2025-05-20 18:31:12,384] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-20 18:31:12,424] INFO in server_improved: GET /reports/transactions/ - 200 - 0.041s
[2025-05-20 18:31:13,591] INFO in server_improved: OPTIONS / - 200 - 0.001s
[2025-05-20 18:31:13,599] INFO in server_improved: GET / - 404 - 0.001s
[2025-05-20 18:31:35,748] INFO in server_improved: OPTIONS / - 200 - 0.002s
[2025-05-20 18:31:35,756] INFO in server_improved: GET / - 404 - 0.001s
[2025-05-20 18:31:49,569] INFO in server_improved: OPTIONS / - 200 - 0.000s
[2025-05-20 18:31:49,574] INFO in server_improved: GET / - 404 - 0.001s
[2025-05-20 18:32:12,943] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.001s
[2025-05-20 18:32:12,952] INFO in server_improved: GET /reports/transactions - 307 - 0.002s
[2025-05-20 18:32:13,266] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-20 18:32:13,330] INFO in server_improved: GET /reports/transactions/ - 200 - 0.061s
[2025-05-20 18:32:21,451] INFO in server_improved: OPTIONS / - 200 - 0.000s
[2025-05-20 18:32:21,460] INFO in server_improved: GET / - 404 - 0.001s
[2025-05-20 18:41:44,721] INFO in server_improved: OPTIONS /api/transactions/tax_summary/ - 200 - 0.000s
[2025-05-20 18:41:44,977] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.256s
[2025-05-20 18:41:44,988] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.001s
[2025-05-20 18:41:45,091] INFO in server_improved: GET /reports/transactions/ - 200 - 0.096s
[2025-05-20 18:41:45,800] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.106s
[2025-05-20 18:41:45,924] INFO in server_improved: GET /reports/transactions/ - 200 - 0.104s
[2025-05-20 18:42:57,663] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.001s
[2025-05-20 18:42:57,669] INFO in server_improved: GET /reports/transactions - 307 - 0.002s
[2025-05-20 18:42:57,676] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-20 18:42:57,871] INFO in server_improved: GET /reports/transactions/ - 200 - 0.195s
[2025-05-20 18:43:02,592] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-20 18:43:02,600] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-20 18:43:02,602] INFO in server_improved: OPTIONS /branches/ - 200 - 0.004s
[2025-05-20 18:43:02,607] INFO in server_improved: OPTIONS /branches/ - 200 - 0.009s
[2025-05-20 18:43:02,611] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-20 18:43:02,701] INFO in server_improved: GET /transactions/ - 200 - 0.095s
[2025-05-20 18:43:02,781] INFO in server_improved: GET /branches/ - 200 - 0.171s
[2025-05-20 18:43:02,805] INFO in server_improved: GET /transactions/ - 200 - 0.063s
[2025-05-20 18:43:02,832] INFO in server_improved: GET /branches/ - 200 - 0.034s
[2025-05-20 18:43:09,061] INFO in server_improved: GET /reports/transactions - 307 - 0.001s
[2025-05-20 18:43:09,146] INFO in server_improved: GET /reports/transactions/ - 200 - 0.067s
[2025-05-21 05:41:41,248] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.000s
[2025-05-21 05:41:41,279] INFO in server_improved: GET /reports/transactions - 307 - 0.000s
[2025-05-21 05:41:41,341] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-21 05:41:41,384] INFO in server_improved: GET /reports/transactions/ - 401 - 0.035s
[2025-05-21 05:41:59,188] INFO in server_improved: GET /check-initialization/ - 200 - 0.099s
[2025-05-21 05:41:59,276] INFO in server_improved: GET /check-initialization/ - 200 - 0.084s
[2025-05-21 05:42:05,405] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-05-21 05:42:06,281] INFO in server_improved: POST /login/ - 200 - 0.870s
[2025-05-21 05:42:08,394] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-21 05:42:08,412] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-21 05:42:08,412] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-21 05:42:08,427] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-21 05:42:08,427] INFO in server_improved: OPTIONS /activity/ - 200 - 0.015s
[2025-05-21 05:42:08,427] INFO in server_improved: OPTIONS /branches/ - 200 - 0.015s
[2025-05-21 05:42:08,443] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-05-21 05:42:08,457] INFO in server_improved: OPTIONS /activity/ - 200 - 0.011s
[2025-05-21 05:42:08,631] INFO in server_improved: GET /activity/ - 200 - 0.136s
[2025-05-21 05:42:08,769] INFO in server_improved: GET /activity/ - 200 - 0.063s
[2025-05-21 05:42:08,795] INFO in server_improved: GET /financial/total/ - 200 - 0.302s
[2025-05-21 05:42:08,804] INFO in server_improved: GET /users/ - 200 - 0.311s
[2025-05-21 05:42:08,839] INFO in server_improved: GET /branches/ - 200 - 0.347s
[2025-05-21 05:42:08,852] INFO in server_improved: GET /financial/total/ - 200 - 0.043s
[2025-05-21 05:42:08,905] INFO in server_improved: GET /users/ - 200 - 0.082s
[2025-05-21 05:42:08,907] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-05-21 05:42:16,897] INFO in server_improved: GET /reports/transactions - 307 - 0.002s
[2025-05-21 05:42:16,964] INFO in server_improved: GET /reports/transactions/ - 200 - 0.042s
[2025-05-21 05:42:37,599] INFO in server_improved: OPTIONS /branches/stats/ - 200 - 0.001s
[2025-05-21 05:42:37,717] INFO in server_improved: GET /branches/stats/ - 200 - 0.099s
[2025-05-21 05:42:42,636] INFO in server_improved: GET /reports/transactions - 307 - 0.000s
[2025-05-21 05:42:42,719] INFO in server_improved: GET /reports/transactions/ - 200 - 0.047s
[2025-05-21 05:45:07,817] INFO in server_improved: OPTIONS /reports/daily - 200 - 0.001s
[2025-05-21 05:45:07,846] INFO in server_improved: GET /reports/daily - 307 - 0.000s
[2025-05-21 05:45:07,851] INFO in server_improved: OPTIONS /reports/daily/ - 200 - 0.000s
[2025-05-21 05:45:07,893] INFO in server_improved: GET /reports/daily/ - 200 - 0.031s
[2025-05-21 05:45:10,127] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.000s
[2025-05-21 05:45:10,132] INFO in server_improved: GET /reports/transactions - 307 - 0.000s
[2025-05-21 05:45:10,225] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.002s
[2025-05-21 05:45:10,286] INFO in server_improved: GET /reports/transactions/ - 200 - 0.057s
[2025-05-21 05:46:23,024] INFO in server_improved: GET /reports/transactions - 307 - 0.002s
[2025-05-21 05:46:23,377] INFO in server_improved: GET /reports/transactions/ - 200 - 0.132s
[2025-05-21 05:49:00,903] INFO in server_improved: OPTIONS /api/transactions/tax_summary/ - 200 - 0.000s
[2025-05-21 05:49:00,986] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.078s
[2025-05-21 05:49:01,008] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.016s
[2025-05-21 05:49:01,054] INFO in server_improved: GET /reports/transactions/ - 200 - 0.047s
[2025-05-21 05:51:13,668] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.061s
[2025-05-21 05:51:13,784] INFO in server_improved: GET /reports/transactions/ - 200 - 0.101s
[2025-05-21 05:51:16,387] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.030s
[2025-05-21 05:51:16,417] INFO in server_improved: GET /reports/transactions/ - 200 - 0.031s
[2025-05-21 05:51:33,004] INFO in server_improved: OPTIONS /api/transactions/tax_summary/ - 200 - 0.001s
[2025-05-21 05:51:33,046] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.041s
[2025-05-21 05:51:33,062] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-21 05:51:33,124] INFO in server_improved: GET /reports/transactions/ - 200 - 0.047s
[2025-05-21 05:51:51,667] INFO in server_improved: OPTIONS /settings/system/ - 200 - 0.001s
[2025-05-21 05:51:51,677] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-21 05:51:51,686] INFO in server_improved: OPTIONS /settings/system/ - 200 - 0.018s
[2025-05-21 05:51:51,698] INFO in server_improved: OPTIONS /settings/system/ - 200 - 0.029s
[2025-05-21 05:51:51,706] INFO in server_improved: GET /settings/system/ - 200 - 0.005s
[2025-05-21 05:51:51,717] INFO in server_improved: GET /settings/system/ - 200 - 0.003s
[2025-05-21 05:51:51,721] INFO in server_improved: GET /settings/system/ - 200 - 0.001s
[2025-05-21 05:59:54,882] INFO in server_improved: GET /check-initialization/ - 200 - 0.023s
[2025-05-21 05:59:54,929] INFO in server_improved: GET /check-initialization/ - 200 - 0.046s
[2025-05-21 06:00:00,497] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-21 06:00:01,279] INFO in server_improved: POST /login/ - 200 - 0.779s
[2025-05-21 06:00:21,844] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-05-21 06:00:21,861] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.000s
[2025-05-21 06:00:21,960] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.003s
[2025-05-21 06:00:21,965] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.006s
[2025-05-21 06:00:21,972] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.012s
[2025-05-21 06:00:21,977] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.110s
[2025-05-21 06:00:22,080] INFO in server_improved: GET /branches/2 - 200 - 0.232s
[2025-05-21 06:00:22,097] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.113s
[2025-05-21 06:00:22,126] INFO in server_improved: GET /transactions/ - 200 - 0.139s
[2025-05-21 06:00:22,126] INFO in server_improved: GET /transactions/ - 200 - 0.140s
[2025-05-21 06:04:39,862] INFO in server_improved: OPTIONS /branch/transfers/ - 200 - 0.000s
[2025-05-21 06:04:39,862] INFO in server_improved: OPTIONS /branch/transfers/ - 200 - 0.000s
[2025-05-21 06:04:39,862] INFO in server_improved: GET /branch/transfers/ - 404 - 0.000s
[2025-05-21 06:04:39,874] INFO in server_improved: GET /branch/transfers/ - 404 - 0.012s
[2025-05-21 06:04:41,193] INFO in server_improved: GET /branch/transfers/ - 404 - 0.000s
[2025-05-21 06:04:46,796] INFO in server_improved: GET /branches/2 - 200 - 0.072s
[2025-05-21 06:04:46,810] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.081s
[2025-05-21 06:04:46,810] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.080s
[2025-05-21 06:04:46,810] INFO in server_improved: GET /transactions/ - 200 - 0.049s
[2025-05-21 06:04:46,810] INFO in server_improved: GET /transactions/ - 200 - 0.074s
[2025-05-21 06:05:14,234] INFO in server_improved: OPTIONS /branch/transactions/ - 200 - 0.001s
[2025-05-21 06:05:14,238] INFO in server_improved: OPTIONS /branch/transactions/ - 200 - 0.000s
[2025-05-21 06:05:14,242] INFO in server_improved: GET /branch/transactions/ - 404 - 0.001s
[2025-05-21 06:05:14,249] INFO in server_improved: GET /branch/transactions/ - 404 - 0.002s
[2025-05-21 06:05:22,997] INFO in server_improved: GET /branches/2 - 200 - 0.056s
[2025-05-21 06:05:22,997] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.047s
[2025-05-21 06:05:22,997] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-05-21 06:05:23,012] INFO in server_improved: GET /transactions/ - 200 - 0.057s
[2025-05-21 06:05:23,012] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.060s
[2025-05-21 06:14:53,059] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-05-21 06:14:53,071] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.002s
[2025-05-21 06:14:53,076] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.006s
[2025-05-21 06:14:53,080] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.006s
[2025-05-21 06:14:53,083] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.004s
[2025-05-21 06:14:53,328] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.237s
[2025-05-21 06:14:53,349] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.259s
[2025-05-21 06:14:53,409] INFO in server_improved: GET /transactions/ - 200 - 0.314s
[2025-05-21 06:14:53,409] INFO in server_improved: GET /transactions/ - 200 - 0.311s
[2025-05-21 06:14:53,425] INFO in server_improved: GET /branches/2 - 200 - 0.335s
[2025-05-21 06:14:56,342] INFO in server_improved: OPTIONS /branches - 200 - 0.000s
[2025-05-21 06:14:56,358] INFO in server_improved: OPTIONS /branches - 200 - 0.000s
[2025-05-21 06:14:56,358] INFO in server_improved: GET /branches - 307 - 0.000s
[2025-05-21 06:14:56,377] INFO in server_improved: GET /branches - 307 - 0.000s
[2025-05-21 06:14:56,421] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-21 06:14:56,421] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-05-21 06:14:56,554] INFO in server_improved: GET /branches/ - 200 - 0.133s
[2025-05-21 06:14:56,568] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-21 06:14:59,839] INFO in server_improved: OPTIONS /branches/2/employees/ - 200 - 0.001s
[2025-05-21 06:15:00,047] INFO in server_improved: GET /branches/2/employees/ - 200 - 0.204s
[2025-05-21 06:15:07,847] INFO in server_improved: GET /branches/2/employees/ - 200 - 0.017s
[2025-05-21 06:15:20,172] INFO in server_improved: GET /branches/2 - 200 - 0.040s
[2025-05-21 06:15:20,227] INFO in server_improved: GET /transactions/ - 200 - 0.082s
[2025-05-21 06:15:20,265] INFO in server_improved: GET /transactions/ - 200 - 0.124s
[2025-05-21 06:15:20,295] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.155s
[2025-05-21 06:15:20,312] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.172s
[2025-05-21 06:15:32,589] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-05-21 06:15:32,704] INFO in server_improved: GET /reports/transactions/ - 200 - 0.067s
[2025-05-21 06:15:32,811] INFO in server_improved: GET /reports/transactions/ - 200 - 0.035s
[2025-05-21 06:18:33,775] INFO in server_improved: GET /reports/transactions/ - 200 - 0.037s
[2025-05-21 06:18:33,838] INFO in server_improved: GET /reports/transactions/ - 200 - 0.047s
[2025-05-21 06:23:40,703] INFO in server_improved: GET /reports/transactions/ - 200 - 0.057s
[2025-05-21 06:23:40,751] INFO in server_improved: GET /reports/transactions/ - 200 - 0.047s
[2025-05-21 06:23:42,849] INFO in server_improved: OPTIONS /reports/employees/ - 200 - 0.001s
[2025-05-21 06:23:42,920] INFO in server_improved: GET /reports/employees/ - 200 - 0.066s
[2025-05-21 06:23:50,168] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.073s
[2025-05-21 06:23:50,168] INFO in server_improved: GET /transactions/ - 200 - 0.069s
[2025-05-21 06:23:50,168] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.071s
[2025-05-21 06:23:50,184] INFO in server_improved: GET /transactions/ - 200 - 0.086s
[2025-05-21 06:23:50,184] INFO in server_improved: GET /branches/2 - 200 - 0.089s
[2025-05-21 06:24:04,507] INFO in server_improved: GET /branches/2 - 200 - 0.137s
[2025-05-21 06:24:04,522] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.151s
[2025-05-21 06:24:04,562] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.191s
[2025-05-21 06:24:04,569] INFO in server_improved: GET /transactions/ - 200 - 0.196s
[2025-05-21 06:24:04,590] INFO in server_improved: GET /transactions/ - 200 - 0.216s
[2025-05-21 06:24:11,947] INFO in server_improved: OPTIONS /api/branches/2/profits/ - 200 - 0.000s
[2025-05-21 06:24:12,013] INFO in server_improved: GET /api/branches/2/profits/ - 200 - 0.064s
[2025-05-21 06:24:23,884] INFO in server_improved: GET /api/branches/2/profits/ - 200 - 0.038s
[2025-05-21 06:29:40,298] INFO in server_improved: GET /api/branches/2/profits/ - 200 - 0.024s
[2025-05-21 06:29:44,808] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.001s
[2025-05-21 06:29:45,041] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.017s
[2025-05-21 06:29:45,046] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.018s
[2025-05-21 06:29:45,060] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.020s
[2025-05-21 06:29:45,063] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.018s
[2025-05-21 06:29:45,071] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-21 06:29:45,185] INFO in server_improved: GET /transactions/ - 200 - 0.096s
[2025-05-21 06:29:45,187] INFO in server_improved: GET /transactions/ - 200 - 0.107s
[2025-05-21 06:29:45,193] INFO in server_improved: GET /branches/2 - 200 - 0.172s
[2025-05-21 06:29:45,195] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.103s
[2025-05-21 06:29:45,199] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.112s
[2025-05-21 06:29:55,996] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2025-05-21 06:29:56,003] INFO in server_improved: GET /transactions/ - 200 - 0.058s
[2025-05-21 06:29:56,003] INFO in server_improved: GET /branches/2 - 200 - 0.058s
[2025-05-21 06:29:56,006] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.062s
[2025-05-21 06:29:56,011] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.067s
[2025-05-21 06:31:53,469] INFO in server_improved: GET /branches/2 - 200 - 0.425s
[2025-05-21 06:31:53,934] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.888s
[2025-05-21 06:31:54,813] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 1.763s
[2025-05-21 06:31:54,817] INFO in server_improved: GET /transactions/ - 200 - 1.762s
[2025-05-21 06:31:54,833] INFO in server_improved: GET /transactions/ - 200 - 1.780s
[2025-05-21 06:32:04,839] INFO in server_improved: GET /branches/2 - 200 - 0.029s
[2025-05-21 06:32:04,854] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.042s
[2025-05-21 06:32:04,857] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.040s
[2025-05-21 06:32:04,963] INFO in server_improved: GET /transactions/ - 200 - 0.141s
[2025-05-21 06:32:04,993] INFO in server_improved: GET /transactions/ - 200 - 0.165s
[2025-05-21 06:34:21,699] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-05-21 06:34:21,703] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-05-21 06:35:05,722] INFO in server_improved: GET /transactions/ - 200 - 0.062s
[2025-05-21 06:35:05,725] INFO in server_improved: GET /transactions/ - 200 - 0.065s
[2025-05-21 06:37:21,572] INFO in server_improved: GET /transactions/ - 200 - 0.043s
[2025-05-21 06:37:21,612] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-05-21 06:37:50,782] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.047s
[2025-05-21 06:37:50,797] INFO in server_improved: GET /transactions/ - 200 - 0.056s
[2025-05-21 06:37:50,797] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.060s
[2025-05-21 06:37:50,797] INFO in server_improved: GET /transactions/ - 200 - 0.054s
[2025-05-21 06:37:50,797] INFO in server_improved: GET /branches/2 - 200 - 0.064s
[2025-05-21 06:38:00,500] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-05-21 06:38:00,505] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-05-21 06:38:00,522] INFO in server_improved: GET /branches/2 - 200 - 0.011s
[2025-05-21 06:38:00,544] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-21 06:38:00,570] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-05-21 06:38:00,585] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 06:38:00,599] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2025-05-21 06:38:00,639] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-05-21 06:38:00,673] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-21 06:38:00,684] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 06:38:00,684] INFO in server_improved: GET /transactions/ - 200 - 0.059s
[2025-05-21 06:38:00,722] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-05-21 06:41:09,228] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-05-21 06:41:09,245] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.016s
[2025-05-21 06:41:09,329] INFO in server_improved: GET /branches/2 - 200 - 0.040s
[2025-05-21 06:41:09,363] INFO in server_improved: GET /branches/2 - 200 - 0.030s
[2025-05-21 06:41:09,538] INFO in server_improved: GET /branches/2 - 200 - 0.003s
[2025-05-21 06:42:54,938] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 06:42:54,988] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-21 06:42:56,668] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 06:42:56,713] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-21 06:56:36,340] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 06:56:36,486] INFO in server_improved: GET /transactions/ - 200 - 0.132s
[2025-05-21 06:56:47,382] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-21 06:56:47,476] INFO in server_improved: GET /transactions/ - 200 - 0.089s
[2025-05-21 07:04:09,729] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-05-21 07:04:09,729] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-05-21 07:04:10,123] INFO in server_improved: GET /branches/2 - 200 - 0.379s
[2025-05-21 07:04:10,138] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-21 07:04:10,226] INFO in server_improved: GET /branches/2 - 200 - 0.000s
[2025-05-21 07:05:32,224] INFO in server_improved: GET /transactions/ - 200 - 0.250s
[2025-05-21 07:07:05,482] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-21 07:07:05,485] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-05-21 07:07:05,556] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-21 07:07:05,700] INFO in server_improved: GET /branches/2 - 200 - 0.095s
[2025-05-21 07:07:06,072] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 07:07:06,090] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2025-05-21 07:07:06,096] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.007s
[2025-05-21 07:07:06,098] INFO in server_improved: GET /branches/ - 200 - 0.579s
[2025-05-21 07:07:06,204] INFO in server_improved: GET /transactions/ - 200 - 0.080s
[2025-05-21 07:07:06,219] INFO in server_improved: GET /branches/ - 200 - 0.095s
[2025-05-21 07:07:06,230] INFO in server_improved: GET /transactions/ - 200 - 0.579s
[2025-05-21 07:07:06,268] INFO in server_improved: GET /transactions/ - 200 - 0.145s
[2025-05-21 07:07:06,276] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-05-21 07:07:06,306] INFO in server_improved: GET /transactions/ - 200 - 0.182s
[2025-05-21 07:07:07,129] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-21 07:07:07,160] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-05-21 07:07:07,921] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-05-21 07:09:43,284] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-05-21 07:09:43,323] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-05-21 07:09:43,371] INFO in server_improved: GET /branches/2 - 200 - 0.051s
[2025-05-21 07:09:43,436] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-05-21 07:09:43,442] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-05-21 07:09:43,471] INFO in server_improved: GET /transactions/ - 200 - 0.082s
[2025-05-21 07:09:43,514] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-05-21 07:09:47,057] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-05-21 07:09:47,060] INFO in server_improved: GET /branches/ - 200 - 0.000s
[2025-05-21 07:09:47,118] INFO in server_improved: GET /branches/2 - 200 - 0.018s
[2025-05-21 07:09:48,275] INFO in server_improved: GET /branches/ - 200 - 1.142s
[2025-05-21 07:09:48,290] INFO in server_improved: GET /transactions/ - 200 - 1.157s
[2025-05-21 07:09:48,337] INFO in server_improved: GET /transactions/ - 200 - 0.084s
[2025-05-21 07:09:48,652] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-05-21 07:09:59,134] INFO in server_improved: GET /branches/2 - 200 - 0.000s
[2025-05-21 07:09:59,149] INFO in server_improved: GET /branches/2 - 200 - 0.000s
[2025-05-21 07:09:59,328] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-05-21 07:13:18,922] INFO in server_improved: GET /branches/2 - 200 - 0.010s
[2025-05-21 07:13:18,936] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-05-21 07:13:19,228] INFO in server_improved: GET /branches/2 - 200 - 0.111s
[2025-05-21 07:14:00,339] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.000s
[2025-05-21 07:14:00,352] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.002s
[2025-05-21 07:14:00,352] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-21 07:14:00,555] INFO in server_improved: GET /branches/2 - 200 - 0.203s
[2025-05-21 07:14:00,652] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.291s
[2025-05-21 07:14:00,654] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.293s
[2025-05-21 07:14:00,656] INFO in server_improved: GET /transactions/ - 200 - 0.295s
[2025-05-21 07:14:00,756] INFO in server_improved: GET /transactions/ - 200 - 0.319s
[2025-05-21 07:14:11,440] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-05-21 07:14:11,443] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2025-05-21 07:14:11,464] INFO in server_improved: GET /check-initialization/ - 200 - 0.019s
[2025-05-21 07:14:11,491] INFO in server_improved: GET /check-initialization/ - 200 - 0.022s
[2025-05-21 07:16:49,985] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-21 07:16:51,061] INFO in server_improved: POST /login/ - 200 - 1.071s
[2025-05-21 07:16:52,919] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-05-21 07:16:53,032] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.090s
[2025-05-21 07:16:53,042] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.100s
[2025-05-21 07:16:53,042] INFO in server_improved: GET /transactions/ - 200 - 0.069s
[2025-05-21 07:16:53,069] INFO in server_improved: GET /transactions/ - 200 - 0.092s
[2025-05-21 07:16:53,088] INFO in server_improved: GET /branches/2 - 200 - 0.110s
[2025-05-21 07:17:02,848] INFO in server_improved: GET /branches/2 - 200 - 0.008s
[2025-05-21 07:17:02,853] INFO in server_improved: GET /branches/ - 200 - 0.014s
[2025-05-21 07:17:02,905] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-05-21 07:17:03,003] INFO in server_improved: GET /branches/ - 200 - 0.035s
[2025-05-21 07:17:03,050] INFO in server_improved: GET /transactions/ - 200 - 0.083s
[2025-05-21 07:17:03,056] INFO in server_improved: GET /transactions/ - 200 - 0.088s
[2025-05-21 07:17:03,101] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-05-21 07:17:05,490] INFO in server_improved: GET /branches/2 - 200 - 0.003s
[2025-05-21 07:17:05,490] INFO in server_improved: GET /branches/2 - 200 - 0.000s
[2025-05-21 07:17:05,604] INFO in server_improved: GET /branches/2 - 200 - 0.016s
[2025-05-21 07:17:08,271] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-05-21 07:26:02,775] INFO in server_improved: GET /branches/2 - 200 - 0.027s
[2025-05-21 07:26:02,784] INFO in server_improved: GET /branches/2 - 200 - 0.005s
[2025-05-21 07:26:02,953] INFO in server_improved: GET /branches/2 - 200 - 0.013s
[2025-05-21 07:26:05,249] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.003s
[2025-05-21 07:26:05,261] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.008s
[2025-05-21 07:26:05,263] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.010s
[2025-05-21 07:26:05,267] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.007s
[2025-05-21 07:26:05,282] INFO in server_improved: GET /branches/2 - 200 - 0.039s
[2025-05-21 07:26:05,342] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.076s
[2025-05-21 07:26:05,342] INFO in server_improved: GET /transactions/ - 200 - 0.065s
[2025-05-21 07:26:05,391] INFO in server_improved: GET /transactions/ - 200 - 0.109s
[2025-05-21 07:26:05,399] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.117s
[2025-05-26 09:00:42,615] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-31 16:31:02,578] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-31 16:32:04,647] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.005s
[2025-05-31 16:32:04,647] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.013s
[2025-05-31 16:32:04,919] INFO in server_improved: GET /check-initialization/ - 200 - 0.240s
[2025-05-31 16:32:04,938] INFO in server_improved: GET /check-initialization/ - 200 - 0.016s
[2025-05-31 16:32:17,106] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-05-31 16:32:17,954] INFO in server_improved: POST /login/ - 200 - 0.842s
[2025-05-31 16:32:24,724] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-05-31 16:32:24,728] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-05-31 16:32:24,731] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-05-31 16:32:24,736] INFO in server_improved: OPTIONS /activity/ - 200 - 0.001s
[2025-05-31 16:32:24,740] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-05-31 16:32:24,743] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-05-31 16:32:24,745] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.006s
[2025-05-31 16:32:24,746] INFO in server_improved: OPTIONS /activity/ - 200 - 0.007s
[2025-05-31 16:32:24,749] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-31 16:32:24,890] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-05-31 16:32:25,114] INFO in server_improved: GET /branches/ - 200 - 0.219s
[2025-05-31 16:32:25,245] INFO in server_improved: GET /branches/ - 200 - 0.051s
[2025-05-31 16:32:25,290] INFO in server_improved: GET /activity/ - 200 - 0.393s
[2025-05-31 16:32:25,317] INFO in server_improved: GET /financial/total/ - 200 - 0.414s
[2025-05-31 16:32:25,403] INFO in server_improved: GET /activity/ - 200 - 0.100s
[2025-05-31 16:32:25,419] INFO in server_improved: GET /financial/total/ - 200 - 0.076s
[2025-05-31 16:32:25,438] INFO in server_improved: GET /users/ - 200 - 0.543s
[2025-05-31 16:32:25,558] INFO in server_improved: GET /users/ - 200 - 0.102s
[2025-05-31 16:32:35,151] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-05-31 16:32:35,201] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-05-31 16:32:35,215] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-31 16:32:35,302] INFO in server_improved: GET /branches/ - 200 - 0.138s
[2025-05-31 16:32:35,386] INFO in server_improved: GET /transactions/ - 200 - 0.162s
[2025-05-31 16:32:35,475] INFO in server_improved: GET /transactions/ - 200 - 0.071s
[2025-05-31 16:32:35,521] INFO in server_improved: GET /branches/1 - 200 - 0.297s
[2025-05-31 16:32:35,548] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-31 16:32:35,606] INFO in server_improved: GET /branches/ - 200 - 0.052s
[2025-05-31 16:32:35,611] INFO in server_improved: GET /transactions/ - 200 - 0.058s
[2025-05-31 16:32:35,619] INFO in server_improved: GET /transactions/ - 200 - 0.063s
[2025-05-31 16:32:35,659] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-31 16:32:36,544] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-31 16:32:36,553] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 16:32:36,692] INFO in server_improved: GET /branches/1 - 200 - 0.018s
[2025-05-31 16:52:20,931] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-05-31 16:52:20,951] INFO in server_improved: OPTIONS /branches/ - 200 - 0.021s
[2025-05-31 16:52:21,035] INFO in server_improved: GET /branches/ - 200 - 0.072s
[2025-05-31 16:52:21,046] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-31 16:52:21,054] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-05-31 16:52:21,120] INFO in server_improved: GET /branches/ - 200 - 0.081s
[2025-05-31 16:52:21,133] INFO in server_improved: GET /transactions/ - 200 - 0.064s
[2025-05-31 16:52:21,147] INFO in server_improved: GET /branches/1 - 200 - 0.093s
[2025-05-31 16:52:21,350] INFO in server_improved: GET /transactions/ - 200 - 0.064s
[2025-05-31 16:52:22,010] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-31 16:52:22,307] INFO in server_improved: GET /branches/1 - 200 - 0.293s
[2025-05-31 16:52:22,673] INFO in server_improved: GET /branches/ - 200 - 0.658s
[2025-05-31 16:52:22,713] INFO in server_improved: GET /transactions/ - 200 - 0.689s
[2025-05-31 16:52:22,738] INFO in server_improved: GET /transactions/ - 200 - 0.712s
[2025-05-31 16:52:24,739] INFO in server_improved: GET /transactions/ - 200 - 0.020s
[2025-05-31 16:53:41,450] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-05-31 16:55:17,038] INFO in server_improved: GET /branches/ - 200 - 0.201s
[2025-05-31 16:55:17,072] INFO in server_improved: GET /branches/1 - 200 - 0.134s
[2025-05-31 16:55:17,087] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-05-31 16:55:17,111] INFO in server_improved: GET /transactions/ - 200 - 0.173s
[2025-05-31 16:55:17,254] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-05-31 16:55:17,460] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-05-31 16:55:17,463] INFO in server_improved: GET /transactions/ - 200 - 0.043s
[2025-05-31 16:55:17,512] INFO in server_improved: GET /transactions/ - 200 - 0.092s
[2025-05-31 16:55:17,542] INFO in server_improved: GET /transactions/ - 200 - 0.020s
[2025-05-31 16:55:31,202] INFO in server_improved: GET /branches/1 - 200 - 0.186s
[2025-05-31 16:55:31,291] INFO in server_improved: GET /branches/1 - 200 - 0.085s
[2025-05-31 16:55:31,501] INFO in server_improved: GET /branches/1 - 200 - 0.193s
[2025-05-31 16:56:39,079] INFO in server_improved: GET /branches/1 - 200 - 0.011s
[2025-05-31 16:56:39,088] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 16:56:40,249] INFO in server_improved: GET /branches/1 - 200 - 0.020s
[2025-05-31 16:58:28,840] INFO in server_improved: GET /branches/1 - 200 - 0.042s
[2025-05-31 16:58:28,849] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 16:58:28,865] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 16:59:18,084] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-05-31 16:59:18,121] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-05-31 17:04:42,695] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-05-31 17:04:42,698] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.041s
[2025-05-31 17:04:42,724] INFO in server_improved: GET /branches/1 - 200 - 0.023s
[2025-05-31 17:04:42,731] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 17:04:42,808] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-05-31 17:08:50,749] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-31 17:08:50,759] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-31 17:08:50,786] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 17:08:59,157] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-05-31 17:08:59,165] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-05-31 17:08:59,191] INFO in server_improved: GET /branches/1 - 200 - 0.015s
[2025-06-01 05:01:52,838] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 05:04:26,912] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.017s
[2025-06-01 05:04:26,943] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.044s
[2025-06-01 05:04:27,292] INFO in server_improved: GET /check-initialization/ - 200 - 0.193s
[2025-06-01 05:04:27,366] INFO in server_improved: GET /check-initialization/ - 200 - 0.008s
[2025-06-01 05:04:35,675] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-06-01 05:04:37,350] INFO in server_improved: POST /login/ - 200 - 1.671s
[2025-06-01 05:04:43,902] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 05:04:43,916] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-06-01 05:04:43,925] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.001s
[2025-06-01 05:04:43,932] INFO in server_improved: OPTIONS /activity/ - 200 - 0.001s
[2025-06-01 05:04:43,934] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-06-01 05:04:43,935] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.004s
[2025-06-01 05:04:43,937] INFO in server_improved: OPTIONS /activity/ - 200 - 0.006s
[2025-06-01 05:04:44,043] INFO in server_improved: GET /branches/ - 200 - 0.084s
[2025-06-01 05:04:44,058] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-06-01 05:04:44,450] INFO in server_improved: GET /activity/ - 200 - 0.484s
[2025-06-01 05:04:44,513] INFO in server_improved: GET /activity/ - 200 - 0.016s
[2025-06-01 05:04:44,513] INFO in server_improved: GET /financial/total/ - 200 - 0.549s
[2025-06-01 05:04:44,560] INFO in server_improved: GET /users/ - 200 - 0.599s
[2025-06-01 05:04:44,576] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-06-01 05:04:44,623] INFO in server_improved: GET /users/ - 200 - 0.031s
[2025-06-01 05:04:56,443] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-06-01 05:04:56,450] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-06-01 05:04:56,479] INFO in server_improved: GET /branches/ - 200 - 0.027s
[2025-06-01 05:04:56,558] INFO in server_improved: GET /branches/ - 200 - 0.052s
[2025-06-01 05:04:56,573] INFO in server_improved: GET /transactions/ - 200 - 0.102s
[2025-06-01 05:04:56,680] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-06-01 05:04:56,787] INFO in server_improved: GET /branches/1 - 200 - 0.327s
[2025-06-01 05:04:56,819] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 05:04:56,878] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-06-01 05:04:56,884] INFO in server_improved: GET /transactions/ - 200 - 0.050s
[2025-06-01 05:04:56,891] INFO in server_improved: GET /transactions/ - 200 - 0.054s
[2025-06-01 05:04:56,944] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2025-06-01 05:05:00,259] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-06-01 05:05:00,269] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-06-01 05:05:00,567] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-06-01 05:36:56,896] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 05:36:57,423] INFO in server_improved: POST /transactions/ - 201 - 0.522s
[2025-06-01 05:36:57,435] INFO in server_improved: OPTIONS /transactions/fcb4be4d-ad39-48a8-825d-3cabfffb54bb/ - 200 - 0.001s
[2025-06-01 05:36:57,516] INFO in server_improved: GET /transactions/fcb4be4d-ad39-48a8-825d-3cabfffb54bb/ - 200 - 0.070s
[2025-06-01 05:36:57,627] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.006s
[2025-06-01 05:36:57,825] INFO in server_improved: GET /transactions/ - 200 - 0.178s
[2025-06-01 05:37:10,909] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-06-01 05:37:10,911] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-06-01 05:37:10,996] INFO in server_improved: GET /branches/1 - 200 - 0.074s
[2025-06-01 05:37:11,007] INFO in server_improved: GET /branches/1 - 200 - 0.006s
[2025-06-01 05:37:11,103] INFO in server_improved: GET /branches/1 - 200 - 0.012s
[2025-06-01 05:57:19,280] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 05:57:33,602] INFO in server_improved: OPTIONS /branches/ - 200 - 0.011s
[2025-06-01 05:57:33,605] INFO in server_improved: OPTIONS /branches/ - 200 - 0.016s
[2025-06-01 05:57:33,629] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 05:57:33,849] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.004s
[2025-06-01 05:57:33,851] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.003s
[2025-06-01 05:57:33,858] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 05:57:34,231] INFO in server_improved: GET /branches/ - 200 - 0.393s
[2025-06-01 05:57:34,389] INFO in server_improved: GET /branches/ - 200 - 0.057s
[2025-06-01 05:57:35,067] INFO in server_improved: GET /transactions/ - 500 - 1.100s
[2025-06-01 05:57:35,082] INFO in server_improved: GET /branches/1 - 200 - 1.114s
[2025-06-01 05:57:35,130] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-06-01 05:57:35,203] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-06-01 05:57:35,203] INFO in server_improved: GET /transactions/ - 500 - 0.035s
[2025-06-01 05:57:35,300] INFO in server_improved: GET /branches/1 - 200 - 0.020s
[2025-06-01 05:57:35,319] INFO in server_improved: GET /branches/1 - 200 - 0.008s
[2025-06-01 05:57:35,344] INFO in server_improved: GET /transactions/ - 200 - 0.174s
[2025-06-01 05:57:35,619] INFO in server_improved: GET /branches/1 - 200 - 0.016s
[2025-06-01 05:58:00,822] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 05:58:01,081] INFO in server_improved: POST /transactions/ - 500 - 0.256s
[2025-06-01 05:58:19,343] INFO in server_improved: POST /transactions/ - 500 - 0.056s
[2025-06-01 08:03:58,346] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:05:59,574] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-06-01 08:05:59,575] INFO in server_improved: OPTIONS /branches/ - 200 - 0.017s
[2025-06-01 08:05:59,587] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-06-01 08:05:59,608] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 08:05:59,742] INFO in server_improved: GET /branches/ - 200 - 0.134s
[2025-06-01 08:05:59,759] INFO in server_improved: GET /branches/ - 200 - 0.013s
[2025-06-01 08:05:59,807] INFO in server_improved: GET /branches/1 - 200 - 0.199s
[2025-06-01 08:05:59,869] INFO in server_improved: GET /transactions/ - 500 - 0.255s
[2025-06-01 08:06:00,108] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 08:06:00,113] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 08:06:00,172] INFO in server_improved: GET /branches/ - 200 - 0.061s
[2025-06-01 08:06:00,174] INFO in server_improved: GET /transactions/ - 500 - 0.063s
[2025-06-01 08:06:00,248] INFO in server_improved: GET /transactions/ - 200 - 0.099s
[2025-06-01 08:08:25,354] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:08:44,370] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:13:04,121] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:32:38,533] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:36:28,164] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:37:34,242] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.006s
[2025-06-01 08:37:34,282] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.071s
[2025-06-01 08:37:34,286] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 08:37:34,595] INFO in server_improved: GET /check-initialization/ - 200 - 0.093s
[2025-06-01 08:37:34,615] INFO in server_improved: GET /check-initialization/ - 200 - 0.020s
[2025-06-01 08:37:43,583] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-06-01 08:37:44,392] INFO in server_improved: POST /login/ - 200 - 0.803s
[2025-06-01 08:37:47,899] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-06-01 08:37:47,924] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-06-01 08:37:47,930] INFO in server_improved: OPTIONS /branches/ - 200 - 0.009s
[2025-06-01 08:37:47,934] INFO in server_improved: OPTIONS /activity/ - 200 - 0.011s
[2025-06-01 08:37:47,936] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.012s
[2025-06-01 08:37:47,959] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.031s
[2025-06-01 08:37:47,962] INFO in server_improved: OPTIONS /users/ - 200 - 0.030s
[2025-06-01 08:37:47,963] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 08:37:47,968] INFO in server_improved: OPTIONS /activity/ - 200 - 0.003s
[2025-06-01 08:37:48,108] INFO in server_improved: GET /branches/ - 200 - 0.141s
[2025-06-01 08:37:48,170] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-06-01 08:37:48,482] INFO in server_improved: GET /financial/total/ - 200 - 0.508s
[2025-06-01 08:37:48,529] INFO in server_improved: GET /activity/ - 200 - 0.557s
[2025-06-01 08:37:48,545] INFO in server_improved: GET /users/ - 200 - 0.574s
[2025-06-01 08:37:48,566] INFO in server_improved: GET /financial/total/ - 200 - 0.048s
[2025-06-01 08:37:48,592] INFO in server_improved: GET /users/ - 200 - 0.032s
[2025-06-01 08:37:48,592] INFO in server_improved: GET /activity/ - 200 - 0.047s
[2025-06-01 08:37:54,834] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-06-01 08:37:54,838] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2025-06-01 08:37:54,869] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-06-01 08:37:54,905] INFO in server_improved: GET /transactions/ - 500 - 0.061s
[2025-06-01 08:37:54,938] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-06-01 08:37:54,996] INFO in server_improved: GET /branches/1 - 200 - 0.153s
[2025-06-01 08:37:55,012] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 08:37:55,052] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-06-01 08:37:55,057] INFO in server_improved: GET /transactions/ - 500 - 0.045s
[2025-06-01 08:37:55,057] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2025-06-01 08:38:01,322] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-06-01 08:38:01,330] INFO in server_improved: GET /branches/1 - 200 - 0.004s
[2025-06-01 08:38:01,482] INFO in server_improved: GET /branches/1 - 200 - 0.010s
[2025-06-01 08:38:28,241] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 08:38:28,443] INFO in server_improved: POST /transactions/ - 201 - 0.198s
[2025-06-01 08:38:28,460] INFO in server_improved: OPTIONS /transactions/0c2d127c-6173-4e50-8b34-be58c3203e4d/ - 200 - 0.000s
[2025-06-01 08:38:28,477] ERROR in server_improved: GET /transactions/0c2d127c-6173-4e50-8b34-be58c3203e4d/ - 500 - 0.012s - Exception: 'Transaction' object has no attribute 'sender_id'
[2025-06-01 08:38:35,457] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-06-01 08:38:35,510] INFO in server_improved: GET /transactions/ - 500 - 0.014s
[2025-06-01 08:38:36,884] INFO in server_improved: GET /transactions/ - 500 - 0.028s
[2025-06-01 08:38:40,751] INFO in server_improved: GET /transactions/ - 500 - 0.021s
[2025-06-01 08:38:55,677] INFO in server_improved: GET /branches/ - 200 - 0.000s
[2025-06-01 08:38:55,700] INFO in server_improved: GET /branches/ - 200 - 0.008s
[2025-06-01 08:38:55,766] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-06-01 08:38:55,786] INFO in server_improved: GET /transactions/ - 500 - 0.018s
[2025-06-01 08:38:55,917] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-06-01 08:38:55,920] INFO in server_improved: GET /branches/ - 200 - 0.023s
[2025-06-01 08:38:55,925] INFO in server_improved: GET /transactions/ - 500 - 0.024s
[2025-06-01 08:43:48,133] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 08:45:32,732] INFO in server_improved: GET /branches/ - 200 - 0.318s
[2025-06-01 08:45:32,799] INFO in server_improved: GET /branches/ - 200 - 0.014s
[2025-06-01 08:45:32,835] INFO in server_improved: GET /transactions/ - 200 - 0.382s
[2025-06-01 08:45:32,873] INFO in server_improved: GET /branches/1 - 200 - 0.404s
[2025-06-01 08:45:32,884] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-06-01 08:45:32,961] INFO in server_improved: GET /transactions/ - 200 - 0.057s
[2025-06-01 08:45:32,970] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-06-01 08:45:32,995] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-06-01 08:45:33,027] INFO in server_improved: GET /branches/ - 200 - 0.094s
[2025-06-01 08:45:43,982] INFO in server_improved: GET /branches/1 - 200 - 0.007s
[2025-06-01 08:45:43,991] INFO in server_improved: GET /branches/1 - 200 - 0.004s
[2025-06-01 08:45:44,114] INFO in server_improved: GET /branches/1 - 200 - 0.014s
[2025-06-01 08:46:05,019] INFO in server_improved: POST /transactions/ - 201 - 0.174s
[2025-06-01 08:46:05,031] INFO in server_improved: OPTIONS /transactions/09358d01-2acf-4d9b-a9fd-9bdbd63eed40/ - 200 - 0.000s
[2025-06-01 08:46:05,065] INFO in server_improved: GET /transactions/09358d01-2acf-4d9b-a9fd-9bdbd63eed40/ - 200 - 0.014s
[2025-06-01 08:46:05,180] INFO in server_improved: GET /transactions/ - 200 - 0.065s
[2025-06-01 08:46:39,638] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-06-01 08:46:39,646] INFO in server_improved: GET /branches/1 - 200 - 0.005s
[2025-06-01 08:46:39,748] INFO in server_improved: GET /branches/1 - 200 - 0.009s
[2025-06-01 09:01:30,055] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 09:01:30,058] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 09:01:30,082] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-06-01 09:01:30,103] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-06-01 09:01:30,124] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 09:01:30,128] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-06-01 09:01:30,130] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 09:01:30,556] INFO in server_improved: GET /transactions/ - 200 - 0.419s
[2025-06-01 09:01:30,561] INFO in server_improved: GET /transactions/ - 200 - 0.419s
[2025-06-01 09:01:30,825] INFO in server_improved: GET /branches/1 - 200 - 0.687s
[2025-06-01 09:01:30,850] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-06-01 09:01:31,691] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 09:01:31,743] INFO in server_improved: GET /transactions/ - 200 - 0.055s
[2025-06-01 09:01:31,748] INFO in server_improved: GET /branches/ - 200 - 0.049s
[2025-06-01 09:01:31,766] INFO in server_improved: GET /transactions/ - 200 - 0.061s
[2025-06-01 09:01:31,867] INFO in server_improved: GET /transactions/ - 200 - 0.166s
[2025-06-01 09:01:32,717] INFO in server_improved: GET /transactions/ - 200 - 0.014s
[2025-06-01 09:01:34,216] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-06-01 12:34:40,021] INFO in server_improved: OPTIONS /branches/ - 200 - 0.036s
[2025-06-01 12:34:40,036] INFO in server_improved: OPTIONS /branches/ - 200 - 0.042s
[2025-06-01 12:34:40,143] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.144s
[2025-06-01 12:34:40,226] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.190s
[2025-06-01 12:34:40,243] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.111s
[2025-06-01 12:34:41,383] INFO in server_improved: GET /transactions/ - 200 - 1.083s
[2025-06-01 12:34:41,383] INFO in server_improved: GET /branches/ - 200 - 1.143s
[2025-06-01 12:34:41,399] INFO in server_improved: GET /transactions/ - 200 - 1.004s
[2025-06-01 12:34:41,415] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-06-01 12:34:41,434] INFO in server_improved: GET /branches/1 - 200 - 1.056s
[2025-06-01 12:34:42,067] INFO in server_improved: GET /transactions/ - 200 - 0.090s
[2025-06-01 12:34:42,096] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-06-01 12:34:42,128] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-06-01 12:34:42,209] INFO in server_improved: GET /transactions/ - 200 - 0.116s
[2025-06-01 12:34:42,213] INFO in server_improved: GET /transactions/ - 200 - 0.105s
[2025-06-01 12:34:42,217] INFO in server_improved: GET /transactions/ - 200 - 0.106s
[2025-06-01 12:34:42,262] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-06-01 12:34:56,038] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-06-01 12:35:21,266] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-06-01 12:36:22,042] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-06-01 12:36:22,058] INFO in server_improved: OPTIONS /branches/ - 200 - 0.024s
[2025-06-01 12:36:22,309] INFO in server_improved: GET /branches/ - 200 - 0.251s
[2025-06-01 12:36:22,418] INFO in server_improved: GET /branches/ - 200 - 0.094s
[2025-06-01 13:06:45,974] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 13:07:02,576] INFO in server_improved: OPTIONS /branches/ - 200 - 0.008s
[2025-06-01 13:07:02,580] INFO in server_improved: OPTIONS /branches/ - 200 - 0.016s
[2025-06-01 13:07:03,012] ERROR in server_improved: GET /branches/ - 500 - 0.427s - Exception: (psycopg2.errors.UndefinedColumn) column branches.phone_number does not exist
LINE 1: ...on, branches.governorate AS branches_governorate, branches.p...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.created_at AS branches_created_at 
FROM branches]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-01 13:07:03,922] ERROR in server_improved: GET /branches/ - 500 - 0.017s - Exception: (psycopg2.errors.UndefinedColumn) column branches.phone_number does not exist
LINE 1: ...on, branches.governorate AS branches_governorate, branches.p...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.created_at AS branches_created_at 
FROM branches]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-01 13:16:55,138] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 13:17:20,704] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 13:17:20,709] INFO in server_improved: OPTIONS /branches/ - 200 - 0.009s
[2025-06-01 13:17:21,550] INFO in server_improved: GET /branches/ - 200 - 0.816s
[2025-06-01 13:17:21,638] INFO in server_improved: GET /branches/ - 200 - 0.056s
[2025-06-01 13:18:02,527] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.004s
[2025-06-01 13:18:02,708] INFO in server_improved: PUT /branches/2 - 200 - 0.165s
[2025-06-01 13:18:02,774] INFO in server_improved: GET /branches/ - 200 - 0.046s
[2025-06-01 13:19:43,460] INFO in server_improved: PUT /branches/2 - 200 - 0.023s
[2025-06-01 13:19:43,502] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-06-01 13:19:55,259] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-06-01 13:19:55,295] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2025-06-01 13:20:11,043] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-06-01 13:20:11,079] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-06-01 13:24:33,958] INFO in server_improved: PUT /branches/2 - 200 - 0.028s
[2025-06-01 13:24:34,002] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-06-01 13:24:47,108] INFO in server_improved: OPTIONS /api/branches/2/tax_rate/ - 200 - 0.001s
[2025-06-01 13:24:47,147] INFO in server_improved: PUT /api/branches/2/tax_rate/ - 200 - 0.038s
[2025-06-01 13:24:47,195] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-06-01 13:25:54,796] INFO in server_improved: PUT /branches/2 - 200 - 0.038s
[2025-06-01 13:25:54,954] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-06-01 13:32:54,298] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 13:32:54,308] INFO in server_improved: OPTIONS /branches/ - 200 - 0.010s
[2025-06-01 13:32:54,358] INFO in server_improved: GET /branches/ - 200 - 0.046s
[2025-06-01 13:32:54,395] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-06-01 13:33:03,318] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-06-01 13:33:03,372] INFO in server_improved: PUT /branches/2 - 200 - 0.045s
[2025-06-01 13:33:03,421] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-06-01 13:37:46,699] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 13:40:48,787] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-06-01 13:40:49,161] INFO in server_improved: OPTIONS /branches/ - 200 - 0.374s
[2025-06-01 13:40:50,178] INFO in server_improved: GET /branches/ - 200 - 0.701s
[2025-06-01 13:40:50,320] INFO in server_improved: GET /branches/ - 200 - 0.563s
[2025-06-01 13:41:05,338] INFO in server_improved: OPTIONS /branches/3 - 200 - 0.000s
[2025-06-01 13:41:05,479] INFO in server_improved: PUT /branches/3 - 200 - 0.142s
[2025-06-01 13:41:05,540] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-06-01 13:41:30,645] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-06-01 13:41:30,669] INFO in server_improved: OPTIONS /branches/ - 200 - 0.023s
[2025-06-01 13:41:30,707] INFO in server_improved: OPTIONS /users/ - 200 - 0.038s
[2025-06-01 13:41:30,756] INFO in server_improved: OPTIONS /branches/ - 200 - 0.053s
[2025-06-01 13:41:30,864] INFO in server_improved: GET /branches/ - 200 - 0.077s
[2025-06-01 13:41:30,946] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-06-01 13:41:31,112] INFO in server_improved: GET /users/ - 200 - 0.325s
[2025-06-01 13:41:31,330] INFO in server_improved: GET /users/ - 200 - 0.030s
[2025-06-01 13:41:42,290] INFO in server_improved: GET /check-initialization/ - 200 - 0.040s
[2025-06-01 13:41:42,359] INFO in server_improved: GET /check-initialization/ - 200 - 0.042s
[2025-06-01 13:41:48,395] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-06-01 13:41:50,072] INFO in server_improved: POST /login/ - 200 - 1.672s
[2025-06-01 13:42:16,029] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.001s
[2025-06-01 13:42:16,036] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.004s
[2025-06-01 13:42:16,039] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.004s
[2025-06-01 13:42:16,041] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.005s
[2025-06-01 13:42:16,132] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.083s
[2025-06-01 13:42:17,648] INFO in server_improved: GET /transactions/ - 200 - 1.588s
[2025-06-01 13:42:17,706] INFO in server_improved: GET /transactions/ - 200 - 1.643s
[2025-06-01 13:42:18,332] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 2.273s
[2025-06-01 13:42:20,487] INFO in server_improved: GET /branches/2 - 200 - 4.507s
[2025-06-01 13:46:51,490] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 13:49:26,112] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.002s
[2025-06-01 13:49:26,129] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.018s
[2025-06-01 13:49:26,440] INFO in server_improved: GET /check-initialization/ - 200 - 0.284s
[2025-06-01 13:49:26,558] INFO in server_improved: GET /check-initialization/ - 200 - 0.008s
[2025-06-01 13:49:31,021] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-06-01 13:49:32,113] INFO in server_improved: POST /login/ - 200 - 1.088s
[2025-06-01 13:49:33,656] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-06-01 13:49:33,767] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.097s
[2025-06-01 13:49:33,928] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.255s
[2025-06-01 13:49:33,959] INFO in server_improved: GET /transactions/ - 200 - 0.274s
[2025-06-01 13:49:34,008] INFO in server_improved: GET /branches/2 - 200 - 0.325s
[2025-06-01 13:49:34,083] INFO in server_improved: GET /transactions/ - 200 - 0.401s
[2025-06-01 13:50:53,070] INFO in server_improved: GET /check-initialization/ - 200 - 0.063s
[2025-06-01 13:50:53,321] INFO in server_improved: GET /check-initialization/ - 200 - 0.030s
[2025-06-01 13:51:04,567] INFO in server_improved: POST /login/ - 200 - 1.024s
[2025-06-01 13:51:10,029] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-06-01 13:51:10,029] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-06-01 13:51:10,045] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-06-01 13:51:10,045] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-06-01 13:51:10,123] INFO in server_improved: GET /branches/ - 200 - 0.079s
[2025-06-01 13:51:10,186] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-06-01 13:51:10,186] INFO in server_improved: GET /financial/total/ - 200 - 0.079s
[2025-06-01 13:51:10,202] INFO in server_improved: GET /users/ - 200 - 0.132s
[2025-06-01 13:51:10,202] INFO in server_improved: GET /activity/ - 200 - 0.094s
[2025-06-01 13:51:10,249] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-06-01 13:51:10,296] INFO in server_improved: GET /activity/ - 200 - 0.063s
[2025-06-01 13:51:10,296] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-06-01 13:51:20,906] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 13:51:20,911] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-06-01 13:51:21,280] INFO in server_improved: GET /branches/ - 200 - 0.041s
[2025-06-01 13:51:21,596] INFO in server_improved: GET /branches/ - 200 - 0.081s
[2025-06-01 14:06:50,504] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 14:07:17,576] INFO in server_improved: OPTIONS /branches/ - 200 - 0.009s
[2025-06-01 14:07:17,581] INFO in server_improved: OPTIONS /branches/ - 200 - 0.018s
[2025-06-01 14:07:17,914] INFO in server_improved: GET /branches/ - 200 - 0.317s
[2025-06-01 14:07:17,943] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-06-01 14:07:39,328] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-06-01 14:07:39,612] INFO in server_improved: PUT /branches/2 - 200 - 0.282s
[2025-06-01 14:07:39,679] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-06-01 14:07:48,496] INFO in server_improved: GET /check-initialization/ - 200 - 0.033s
[2025-06-01 14:07:48,521] INFO in server_improved: GET /check-initialization/ - 200 - 0.009s
[2025-06-01 14:07:52,603] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-06-01 14:07:53,782] INFO in server_improved: POST /login/ - 200 - 1.175s
[2025-06-01 14:07:55,852] INFO in server_improved: OPTIONS /branches/ - 200 - 0.006s
[2025-06-01 14:07:55,894] INFO in server_improved: OPTIONS /users/ - 200 - 0.043s
[2025-06-01 14:07:55,962] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.110s
[2025-06-01 14:07:55,995] INFO in server_improved: OPTIONS /activity/ - 200 - 0.036s
[2025-06-01 14:07:56,004] INFO in server_improved: OPTIONS /branches/ - 200 - 0.043s
[2025-06-01 14:07:56,008] INFO in server_improved: OPTIONS /users/ - 200 - 0.015s
[2025-06-01 14:07:56,047] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.040s
[2025-06-01 14:07:56,060] INFO in server_improved: OPTIONS /activity/ - 200 - 0.053s
[2025-06-01 14:07:56,323] INFO in server_improved: GET /branches/ - 200 - 0.276s
[2025-06-01 14:07:56,406] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-06-01 14:07:56,538] INFO in server_improved: GET /activity/ - 200 - 0.247s
[2025-06-01 14:07:56,540] INFO in server_improved: GET /users/ - 200 - 0.399s
[2025-06-01 14:07:56,616] INFO in server_improved: GET /financial/total/ - 200 - 0.476s
[2025-06-01 14:07:56,621] INFO in server_improved: GET /activity/ - 200 - 0.044s
[2025-06-01 14:07:56,623] INFO in server_improved: GET /users/ - 200 - 0.045s
[2025-06-01 14:07:56,659] INFO in server_improved: GET /financial/total/ - 200 - 0.019s
[2025-06-01 14:08:00,848] INFO in server_improved: GET /check-initialization/ - 200 - 0.042s
[2025-06-01 14:08:00,920] INFO in server_improved: GET /check-initialization/ - 200 - 0.059s
[2025-06-01 14:08:06,384] INFO in server_improved: POST /login/ - 200 - 0.857s
[2025-06-01 14:08:08,525] INFO in server_improved: OPTIONS /branches/2/employees/stats/ - 200 - 0.000s
[2025-06-01 14:08:08,537] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-06-01 14:08:08,539] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2025-06-01 14:08:08,543] INFO in server_improved: OPTIONS /branches/2/transactions/stats/ - 200 - 0.007s
[2025-06-01 14:08:08,548] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 14:08:08,631] INFO in server_improved: GET /branches/2 - 200 - 0.109s
[2025-06-01 14:08:08,717] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.119s
[2025-06-01 14:08:08,722] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.113s
[2025-06-01 14:08:08,753] INFO in server_improved: GET /transactions/ - 200 - 0.154s
[2025-06-01 14:08:08,814] INFO in server_improved: GET /transactions/ - 200 - 0.215s
[2025-06-01 14:08:19,740] INFO in server_improved: GET /branches/2 - 200 - 0.037s
[2025-06-01 14:08:19,773] INFO in server_improved: GET /branches/2/employees/stats/ - 200 - 0.062s
[2025-06-01 14:08:19,796] INFO in server_improved: GET /transactions/ - 200 - 0.080s
[2025-06-01 14:08:19,799] INFO in server_improved: GET /branches/2/transactions/stats/ - 200 - 0.083s
[2025-06-01 14:08:19,804] INFO in server_improved: GET /transactions/ - 200 - 0.083s
[2025-06-01 14:08:23,745] INFO in server_improved: GET /branches/2 - 200 - 0.007s
[2025-06-01 14:08:23,760] INFO in server_improved: GET /branches/2 - 200 - 0.008s
[2025-06-01 14:08:23,855] INFO in server_improved: GET /branches/2 - 200 - 0.005s
[2025-06-01 14:16:21,146] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 14:17:58,440] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.006s
[2025-06-01 14:17:58,440] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.010s
[2025-06-01 14:17:59,275] INFO in server_improved: GET /branches/2 - 200 - 0.812s
[2025-06-01 14:17:59,319] INFO in server_improved: GET /branches/2 - 200 - 0.036s
[2025-06-01 14:18:02,545] INFO in server_improved: GET /branches/2 - 200 - 0.012s
[2025-06-01 14:18:18,644] INFO in server_improved: GET /branches/2 - 200 - 0.000s
[2025-06-01 14:18:18,662] INFO in server_improved: GET /branches/2 - 200 - 0.017s
[2025-06-01 14:18:18,983] INFO in server_improved: GET /branches/2 - 200 - 0.023s
[2025-06-01 14:24:31,192] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-06-01 14:24:50,194] INFO in server_improved: GET /branches/2 - 200 - 0.110s
[2025-06-01 14:24:50,194] INFO in server_improved: GET /branches/2 - 200 - 0.000s
[2025-06-01 14:24:50,439] INFO in server_improved: GET /branches/2 - 200 - 0.003s
[2025-06-01 14:25:04,142] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.001s
[2025-06-01 14:25:04,450] ERROR in server_improved: PUT /branches/2 - 500 - 0.303s - Exception: 'Branch' object has no attribute 'status'
[2025-06-01 14:25:10,062] ERROR in server_improved: PUT /branches/2 - 500 - 0.016s - Exception: 'Branch' object has no attribute 'status'
[2025-06-01 14:25:16,835] INFO in server_improved: GET /branches/2 - 200 - 0.025s
[2025-06-01 14:25:16,848] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-06-01 14:25:17,001] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-06-01 14:25:24,866] ERROR in server_improved: PUT /branches/2 - 500 - 0.021s - Exception: 'Branch' object has no attribute 'status'
[2025-06-01 14:25:32,062] ERROR in server_improved: PUT /branches/2 - 500 - 0.080s - Exception: 'Branch' object has no attribute 'status'
[2025-06-01 14:25:37,515] INFO in server_improved: GET /branches/2 - 200 - 0.025s
[2025-06-01 14:25:37,526] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-06-01 14:25:37,637] INFO in server_improved: GET /branches/2 - 200 - 0.006s
[2025-06-01 14:25:51,257] INFO in server_improved: GET /check-initialization/ - 200 - 0.083s
[2025-06-01 14:25:51,293] INFO in server_improved: GET /check-initialization/ - 200 - 0.011s
[2025-06-01 14:25:58,095] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-06-01 14:25:59,101] INFO in server_improved: POST /login/ - 200 - 1.002s
[2025-06-01 14:26:02,580] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-06-01 14:26:02,602] INFO in server_improved: OPTIONS /users/ - 200 - 0.005s
[2025-06-01 14:26:02,604] INFO in server_improved: OPTIONS /branches/ - 200 - 0.005s
[2025-06-01 14:26:02,604] INFO in server_improved: OPTIONS /activity/ - 200 - 0.003s
[2025-06-01 14:26:02,604] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-06-01 14:26:02,604] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2025-06-01 14:26:02,604] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 14:26:02,650] INFO in server_improved: OPTIONS /users/ - 200 - 0.046s
[2025-06-01 14:26:02,665] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2025-06-01 14:26:02,883] INFO in server_improved: GET /users/ - 200 - 0.218s
[2025-06-01 14:26:02,984] INFO in server_improved: GET /financial/total/ - 200 - 0.301s
[2025-06-01 14:26:03,000] INFO in server_improved: GET /users/ - 200 - 0.031s
[2025-06-01 14:26:03,085] INFO in server_improved: GET /branches/ - 200 - 0.420s
[2025-06-01 14:26:03,143] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-06-01 14:26:03,149] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-06-01 14:26:03,254] INFO in server_improved: GET /activity/ - 200 - 0.588s
[2025-06-01 14:26:03,312] INFO in server_improved: GET /activity/ - 200 - 0.047s
[2025-06-01 14:26:21,081] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-06-01 14:26:21,089] INFO in server_improved: OPTIONS /branches/ - 200 - 0.008s
[2025-06-01 14:26:21,206] INFO in server_improved: GET /branches/ - 200 - 0.073s
[2025-06-01 14:26:21,269] INFO in server_improved: GET /branches/ - 200 - 0.063s
[2025-06-01 14:27:50,035] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-06-01 14:27:50,037] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-06-01 14:27:50,308] INFO in server_improved: GET /transactions/ - 200 - 0.231s
[2025-06-01 14:27:50,377] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-06-01 14:27:50,832] INFO in server_improved: GET /branches/ - 200 - 0.758s
[2025-06-01 14:27:50,879] INFO in server_improved: GET /branches/1 - 200 - 0.801s
[2025-06-01 14:27:50,919] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-06-01 14:27:50,994] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 14:27:51,113] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-06-01 14:27:51,191] INFO in server_improved: GET /transactions/ - 200 - 0.056s
[2025-06-01 14:27:51,253] INFO in server_improved: GET /transactions/ - 200 - 0.149s
[2025-06-01 14:27:51,370] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-06-01 14:27:59,905] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-06-01 14:27:59,913] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-06-01 14:28:00,051] INFO in server_improved: GET /transactions/ - 200 - 0.104s
[2025-06-01 14:37:15,312] INFO in server_improved: OPTIONS /branches/3 - 200 - 0.000s
[2025-06-01 14:37:15,312] INFO in server_improved: OPTIONS /branches/3 - 200 - 0.000s
[2025-06-01 14:37:15,379] INFO in server_improved: GET /branches/3 - 200 - 0.067s
[2025-06-01 14:37:15,400] INFO in server_improved: GET /branches/3 - 200 - 0.019s
[2025-06-01 15:08:32,919] INFO in server_improved: OPTIONS /branches/3 - 200 - 0.002s
[2025-06-01 15:08:32,921] INFO in server_improved: OPTIONS /branches/3 - 200 - 0.004s
[2025-06-01 15:08:33,442] INFO in server_improved: GET /branches/3 - 200 - 0.215s
[2025-06-01 15:08:33,454] INFO in server_improved: GET /branches/3 - 200 - 0.007s
[2025-06-01 15:09:03,965] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-06-01 15:09:03,967] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.003s
[2025-06-01 15:09:04,249] INFO in server_improved: GET /branches/2 - 200 - 0.269s
[2025-06-01 15:09:04,259] INFO in server_improved: GET /branches/2 - 200 - 0.008s
[2025-06-01 15:17:54,453] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 15:17:54,470] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-06-01 15:17:54,734] INFO in server_improved: GET /branches/ - 200 - 0.228s
[2025-06-01 15:17:54,843] INFO in server_improved: GET /branches/ - 200 - 0.105s
[2025-06-01 15:17:55,128] INFO in server_improved: GET /branches/1 - 401 - 0.020s
[2025-06-01 15:17:55,138] INFO in server_improved: GET /transactions/ - 401 - 0.020s
[2025-06-01 15:18:12,017] INFO in server_improved: GET /check-initialization/ - 200 - 0.157s
[2025-06-01 15:18:12,095] INFO in server_improved: GET /check-initialization/ - 200 - 0.066s
[2025-06-01 15:18:16,646] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-06-01 15:18:18,006] INFO in server_improved: POST /login/ - 200 - 1.349s
[2025-06-01 15:18:19,619] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-06-01 15:18:19,664] INFO in server_improved: OPTIONS /activity/ - 200 - 0.044s
[2025-06-01 15:18:19,664] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.021s
[2025-06-01 15:18:19,673] INFO in server_improved: OPTIONS /users/ - 200 - 0.030s
[2025-06-01 15:18:19,684] INFO in server_improved: OPTIONS /activity/ - 200 - 0.020s
[2025-06-01 15:18:19,695] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.022s
[2025-06-01 15:18:19,845] INFO in server_improved: GET /branches/ - 200 - 0.163s
[2025-06-01 15:18:19,860] INFO in server_improved: GET /financial/total/ - 200 - 0.139s
[2025-06-01 15:18:19,885] INFO in server_improved: GET /activity/ - 200 - 0.180s
[2025-06-01 15:18:19,907] INFO in server_improved: GET /users/ - 200 - 0.202s
[2025-06-01 15:18:19,954] INFO in server_improved: GET /branches/ - 200 - 0.047s
[2025-06-01 15:18:19,954] INFO in server_improved: GET /financial/total/ - 200 - 0.047s
[2025-06-01 15:18:19,970] INFO in server_improved: GET /activity/ - 200 - 0.047s
[2025-06-01 15:18:20,001] INFO in server_improved: GET /users/ - 200 - 0.063s
[2025-06-01 15:18:53,825] INFO in server_improved: GET /branches/ - 200 - 0.085s
[2025-06-01 15:18:53,847] INFO in server_improved: GET /financial/total/ - 200 - 0.070s
[2025-06-01 15:18:53,919] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-06-01 15:18:53,960] INFO in server_improved: GET /activity/ - 200 - 0.174s
[2025-06-01 15:18:54,075] INFO in server_improved: GET /users/ - 200 - 0.333s
[2025-06-01 15:18:54,083] INFO in server_improved: GET /financial/total/ - 200 - 0.189s
[2025-06-01 15:18:54,132] INFO in server_improved: GET /users/ - 200 - 0.043s
[2025-06-01 15:18:54,172] INFO in server_improved: GET /activity/ - 200 - 0.197s
[2025-06-01 15:18:58,533] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-06-01 15:18:58,542] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-06-01 15:18:58,615] INFO in server_improved: GET /branches/ - 200 - 0.075s
[2025-06-01 15:18:58,733] INFO in server_improved: GET /branches/ - 200 - 0.055s
[2025-06-01 15:18:59,372] INFO in server_improved: GET /transactions/ - 200 - 0.825s
[2025-06-01 15:18:59,556] INFO in server_improved: GET /transactions/ - 200 - 0.184s
[2025-06-01 15:19:01,559] INFO in server_improved: OPTIONS /branches/3 - 200 - 0.000s
[2025-06-01 15:19:01,621] INFO in server_improved: GET /branches/3 - 200 - 0.052s
[2025-11-26 04:11:13,676] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-11-26 04:58:50,225] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-11-26 05:13:25,562] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.018s
[2025-11-26 05:13:25,567] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.017s
[2025-11-26 05:13:25,825] INFO in server_improved: GET /check-initialization/ - 200 - 0.250s
[2025-11-26 05:13:25,837] INFO in server_improved: GET /check-initialization/ - 200 - 0.010s
[2025-11-26 05:13:36,156] INFO in server_improved: OPTIONS /initialize-system/ - 200 - 0.000s
[2025-11-26 05:13:37,304] INFO in server_improved: POST /initialize-system/ - 200 - 1.143s
[2025-11-26 05:13:45,070] INFO in server_improved: GET /check-initialization/ - 200 - 0.013s
[2025-11-26 05:13:45,093] INFO in server_improved: GET /check-initialization/ - 200 - 0.010s
[2025-11-26 05:13:50,741] INFO in server_improved: OPTIONS /login/ - 200 - 0.002s
[2025-11-26 05:13:52,535] INFO in server_improved: POST /login/ - 200 - 1.785s
[2025-11-26 05:14:04,455] INFO in server_improved: GET /check-initialization/ - 200 - 0.019s
[2025-11-26 05:14:04,478] INFO in server_improved: GET /check-initialization/ - 200 - 0.008s
[2025-11-26 05:14:10,829] INFO in server_improved: POST /login/ - 200 - 1.013s
[2025-11-26 05:14:14,130] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-11-26 05:14:14,161] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-11-26 05:14:14,167] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.008s
[2025-11-26 05:14:14,169] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.010s
[2025-11-26 05:14:14,173] INFO in server_improved: OPTIONS /activity/ - 200 - 0.008s
[2025-11-26 05:14:14,180] INFO in server_improved: OPTIONS /users/ - 200 - 0.012s
[2025-11-26 05:14:14,186] INFO in server_improved: OPTIONS /branches/ - 200 - 0.014s
[2025-11-26 05:14:14,204] INFO in server_improved: OPTIONS /activity/ - 200 - 0.020s
[2025-11-26 05:14:14,335] INFO in server_improved: GET /users/ - 200 - 0.127s
[2025-11-26 05:14:14,385] INFO in server_improved: GET /users/ - 200 - 0.036s
[2025-11-26 05:14:14,426] INFO in server_improved: GET /branches/ - 200 - 0.223s
[2025-11-26 05:14:14,448] INFO in server_improved: GET /branches/ - 200 - 0.010s
[2025-11-26 05:14:14,502] INFO in server_improved: GET /financial/total/ - 200 - 0.292s
[2025-11-26 05:14:14,524] INFO in server_improved: GET /financial/total/ - 200 - 0.015s
[2025-11-26 05:14:14,535] INFO in server_improved: GET /activity/ - 200 - 0.325s
[2025-11-26 05:14:14,585] INFO in server_improved: GET /activity/ - 200 - 0.045s
[2025-11-26 05:14:22,828] INFO in server_improved: GET /check-initialization/ - 200 - 0.029s
[2025-11-26 05:14:22,855] INFO in server_improved: GET /check-initialization/ - 200 - 0.016s
[2025-11-26 05:32:04,335] INFO in server_improved: GET /check-initialization/ - 200 - 0.047s
[2025-11-26 05:32:05,399] INFO in server_improved: GET /check-initialization/ - 200 - 1.038s
[2025-11-26 05:32:40,023] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-11-26 05:32:42,119] INFO in server_improved: POST /login/ - 200 - 2.063s
[2025-11-26 05:33:17,206] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-11-26 05:33:17,237] INFO in server_improved: OPTIONS /users/ - 200 - 0.006s
[2025-11-26 05:33:17,243] INFO in server_improved: OPTIONS /branches/ - 200 - 0.012s
[2025-11-26 05:33:17,246] INFO in server_improved: OPTIONS /activity/ - 200 - 0.011s
[2025-11-26 05:33:17,263] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.021s
[2025-11-26 05:33:17,274] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-11-26 05:33:17,562] INFO in server_improved: OPTIONS /users/ - 200 - 0.316s
[2025-11-26 05:33:17,568] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-11-26 05:33:17,600] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.338s
[2025-11-26 05:33:17,606] INFO in server_improved: OPTIONS /activity/ - 200 - 0.004s
[2025-11-26 05:33:17,651] INFO in server_improved: GET /branches/ - 200 - 0.047s
[2025-11-26 05:33:17,658] INFO in server_improved: GET /financial/total/ - 200 - 0.048s
[2025-11-26 05:33:17,664] INFO in server_improved: GET /activity/ - 200 - 0.057s
[2025-11-26 05:33:17,689] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-11-26 05:33:17,692] INFO in server_improved: GET /financial/total/ - 200 - 0.029s
[2025-11-26 05:33:17,693] INFO in server_improved: GET /users/ - 200 - 0.088s
[2025-11-26 05:33:17,701] INFO in server_improved: GET /activity/ - 200 - 0.028s
[2025-11-26 05:33:17,723] INFO in server_improved: GET /users/ - 200 - 0.027s
[2025-11-26 05:34:03,551] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-11-26 05:34:03,651] INFO in server_improved: POST /branches/ - 200 - 0.083s
[2025-11-26 05:34:03,706] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2025-11-26 05:34:03,713] INFO in server_improved: GET /financial/total/ - 200 - 0.044s
[2025-11-26 05:34:03,716] INFO in server_improved: GET /users/ - 200 - 0.043s
[2025-11-26 05:34:03,728] INFO in server_improved: GET /activity/ - 200 - 0.051s
[2025-11-26 10:37:42,204] INFO in server_improved: GET /check-initialization/ - 200 - 0.515s
[2025-11-26 10:37:42,385] INFO in server_improved: GET /check-initialization/ - 200 - 0.128s
[2025-11-26 14:53:47,420] INFO in server_improved: GET /check-initialization/ - 200 - 0.214s
[2025-11-26 14:53:47,518] INFO in server_improved: GET /check-initialization/ - 200 - 0.065s
[2025-11-26 14:53:52,561] INFO in server_improved: OPTIONS /login/ - 200 - 0.090s
[2025-11-26 14:53:53,557] INFO in server_improved: POST /login/ - 200 - 0.986s
[2025-11-26 14:53:54,966] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-11-26 14:53:54,979] INFO in server_improved: OPTIONS /users/ - 200 - 0.014s
[2025-11-26 14:53:54,983] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.018s
[2025-11-26 14:53:54,990] INFO in server_improved: OPTIONS /activity/ - 200 - 0.013s
[2025-11-26 14:53:54,995] INFO in server_improved: OPTIONS /branches/ - 200 - 0.018s
[2025-11-26 14:53:55,000] INFO in server_improved: OPTIONS /users/ - 200 - 0.022s
[2025-11-26 14:53:55,012] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.004s
[2025-11-26 14:53:55,017] INFO in server_improved: OPTIONS /activity/ - 200 - 0.007s
[2025-11-26 14:53:55,029] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-11-26 14:53:55,201] INFO in server_improved: GET /financial/total/ - 200 - 0.179s
[2025-11-26 14:53:55,215] INFO in server_improved: GET /activity/ - 200 - 0.205s
[2025-11-26 14:53:55,263] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-11-26 14:53:55,269] INFO in server_improved: GET /activity/ - 200 - 0.026s
[2025-11-26 14:53:55,278] INFO in server_improved: GET /users/ - 200 - 0.258s
[2025-11-26 14:53:55,304] INFO in server_improved: GET /branches/ - 200 - 0.295s
[2025-11-26 14:53:55,314] INFO in server_improved: GET /users/ - 200 - 0.025s
[2025-11-26 14:53:55,327] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-11-26 15:00:02,719] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.004s
[2025-11-26 15:00:02,753] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.036s
[2025-11-26 15:00:02,764] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-11-26 15:00:02,785] INFO in server_improved: GET /check-initialization/ - 200 - 0.018s
[2025-11-26 15:00:02,822] INFO in server_improved: GET /check-initialization/ - 200 - 0.032s
[2025-11-26 15:00:14,882] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-11-26 15:00:15,599] INFO in server_improved: POST /login/ - 200 - 0.713s
[2025-11-26 15:00:16,620] INFO in server_improved: GET /branches/ - 200 - 0.078s
[2025-11-26 15:00:16,637] INFO in server_improved: GET /financial/total/ - 200 - 0.090s
[2025-11-26 15:00:16,642] INFO in server_improved: GET /activity/ - 200 - 0.092s
[2025-11-26 15:00:16,675] INFO in server_improved: GET /users/ - 200 - 0.130s
[2025-11-26 15:00:16,752] INFO in server_improved: GET /branches/ - 200 - 0.076s
[2025-11-26 15:00:16,775] INFO in server_improved: GET /financial/total/ - 200 - 0.085s
[2025-11-26 15:00:16,790] INFO in server_improved: GET /users/ - 200 - 0.085s
[2025-11-26 15:00:16,823] INFO in server_improved: GET /activity/ - 200 - 0.132s
[2025-11-26 15:00:26,245] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-11-26 15:00:26,385] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-11-26 15:00:42,031] INFO in server_improved: GET /branches/ - 200 - 0.078s
[2025-11-26 15:00:45,915] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-11-26 15:00:48,887] INFO in server_improved: POST /users/ - 200 - 2.967s
[2025-11-26 15:00:49,000] INFO in server_improved: GET /branches/ - 200 - 0.084s
[2025-11-26 15:00:49,010] INFO in server_improved: GET /financial/total/ - 200 - 0.075s
[2025-11-26 15:00:49,017] INFO in server_improved: GET /activity/ - 200 - 0.080s
[2025-11-26 15:00:49,020] INFO in server_improved: GET /users/ - 200 - 0.103s
[2025-11-26 15:01:45,268] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-11-26 15:01:45,286] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-11-26 15:01:45,405] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-11-26 15:01:45,446] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-11-26 15:01:48,281] INFO in server_improved: GET /transactions/ - 200 - 2.707s
[2025-11-26 15:01:48,355] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-11-26 15:01:51,914] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:01:57,360] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:01:57,466] INFO in server_improved: GET /branches/1 - 200 - 12.057s
[2025-11-26 15:02:02,135] INFO in server_improved: GET /branches/ - 200 - 0.014s
[2025-11-26 15:02:02,150] INFO in server_improved: GET /branches/ - 200 - 0.008s
[2025-11-26 15:02:02,585] INFO in server_improved: GET /transactions/ - 200 - 0.026s
[2025-11-26 15:02:02,734] INFO in server_improved: GET /transactions/ - 200 - 0.056s
[2025-11-26 15:02:06,643] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:02:10,776] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:02:10,783] INFO in server_improved: GET /branches/1 - 200 - 8.226s
[2025-11-26 15:02:10,840] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.002s
[2025-11-26 15:02:11,001] INFO in server_improved: GET /branches/ - 200 - 0.105s
[2025-11-26 15:02:11,013] INFO in server_improved: GET /transactions/ - 200 - 0.116s
[2025-11-26 15:02:11,016] INFO in server_improved: GET /transactions/ - 200 - 0.123s
[2025-11-26 15:02:11,056] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-11-26 15:02:15,049] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:02:19,144] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:02:19,148] INFO in server_improved: GET /branches/1 - 200 - 8.253s
[2025-11-26 15:04:41,073] INFO in server_improved: GET /check-initialization/ - 200 - 0.180s
[2025-11-26 15:04:41,127] INFO in server_improved: GET /check-initialization/ - 200 - 0.007s
[2025-11-26 15:05:03,236] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-11-26 15:05:03,243] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-11-26 15:05:03,264] INFO in server_improved: GET /check-initialization/ - 200 - 0.017s
[2025-11-26 15:05:03,270] INFO in server_improved: GET /check-initialization/ - 200 - 0.020s
[2025-11-26 15:05:42,304] INFO in server_improved: GET /check-initialization/ - 200 - 0.007s
[2025-11-26 15:05:42,400] INFO in server_improved: GET /check-initialization/ - 200 - 0.007s
[2025-11-26 15:06:43,075] INFO in server_improved: POST /login/ - 200 - 0.778s
[2025-11-26 15:06:44,552] INFO in server_improved: OPTIONS /branches/ - 200 - 0.004s
[2025-11-26 15:06:44,648] INFO in server_improved: OPTIONS /branches/ - 200 - 0.098s
[2025-11-26 15:06:44,665] INFO in server_improved: OPTIONS /activity/ - 200 - 0.018s
[2025-11-26 15:06:44,732] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.083s
[2025-11-26 15:06:44,796] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.132s
[2025-11-26 15:06:44,830] INFO in server_improved: OPTIONS /activity/ - 200 - 0.101s
[2025-11-26 15:06:46,078] INFO in server_improved: GET /branches/ - 200 - 1.227s
[2025-11-26 15:06:46,086] INFO in server_improved: GET /activity/ - 200 - 1.234s
[2025-11-26 15:06:46,114] INFO in server_improved: GET /financial/total/ - 200 - 1.194s
[2025-11-26 15:06:46,120] INFO in server_improved: GET /branches/ - 200 - 0.027s
[2025-11-26 15:06:46,129] INFO in server_improved: GET /users/ - 200 - 1.334s
[2025-11-26 15:06:46,160] INFO in server_improved: GET /financial/total/ - 200 - 0.026s
[2025-11-26 15:06:46,170] INFO in server_improved: GET /activity/ - 200 - 0.056s
[2025-11-26 15:06:46,222] INFO in server_improved: GET /users/ - 200 - 0.074s
[2025-11-26 15:07:14,422] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-11-26 15:07:14,549] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-11-26 15:07:30,835] INFO in server_improved: GET /branches/ - 200 - 0.149s
[2025-11-26 15:07:30,862] INFO in server_improved: GET /transactions/ - 200 - 0.174s
[2025-11-26 15:07:30,896] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-11-26 15:07:30,971] INFO in server_improved: GET /transactions/ - 200 - 0.054s
[2025-11-26 15:07:34,894] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:07:39,002] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:07:39,182] INFO in server_improved: GET /branches/1 - 200 - 8.495s
[2025-11-26 15:07:39,275] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-11-26 15:07:39,286] INFO in server_improved: GET /branches/ - 200 - 0.042s
[2025-11-26 15:07:39,311] INFO in server_improved: GET /transactions/ - 200 - 0.066s
[2025-11-26 15:07:39,364] INFO in server_improved: GET /transactions/ - 200 - 0.028s
[2025-11-26 15:07:57,842] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:08:01,940] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:08:01,943] INFO in server_improved: GET /branches/1 - 200 - 8.208s
[2025-11-26 15:08:06,042] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:08:10,149] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:08:10,152] INFO in server_improved: GET /branches/1 - 200 - 8.206s
[2025-11-26 15:08:14,242] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:08:18,360] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:08:18,367] INFO in server_improved: GET /branches/1 - 200 - 8.211s
[2025-11-26 15:08:48,422] INFO in server_improved: GET /branches/ - 200 - 0.208s
[2025-11-26 15:08:48,470] INFO in server_improved: GET /users/ - 200 - 0.258s
[2025-11-26 15:08:48,718] INFO in server_improved: GET /branches/ - 200 - 0.081s
[2025-11-26 15:08:48,820] INFO in server_improved: GET /users/ - 200 - 0.182s
[2025-11-26 15:08:56,039] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-11-26 15:08:56,065] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-11-26 15:08:56,130] INFO in server_improved: GET /branches/ - 200 - 0.044s
[2025-11-26 15:08:56,228] INFO in server_improved: GET /branches/ - 200 - 0.066s
[2025-11-26 15:10:54,573] INFO in server_improved: GET /check-initialization/ - 200 - 0.017s
[2025-11-26 15:10:54,584] INFO in server_improved: GET /check-initialization/ - 200 - 0.007s
[2025-11-26 15:12:27,654] INFO in server_improved: GET /check-initialization/ - 200 - 0.014s
[2025-11-26 15:12:27,679] INFO in server_improved: GET /check-initialization/ - 200 - 0.009s
[2025-11-26 15:12:32,301] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-11-26 15:12:33,080] INFO in server_improved: POST /login/ - 200 - 0.771s
[2025-11-26 15:12:34,042] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-11-26 15:12:34,066] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-11-26 15:12:34,130] INFO in server_improved: GET /branches/ - 200 - 0.066s
[2025-11-26 15:12:34,145] INFO in server_improved: GET /financial/total/ - 200 - 0.079s
[2025-11-26 15:12:34,154] INFO in server_improved: GET /activity/ - 200 - 0.059s
[2025-11-26 15:12:34,167] INFO in server_improved: GET /users/ - 200 - 0.066s
[2025-11-26 15:12:34,196] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-11-26 15:12:34,211] INFO in server_improved: GET /financial/total/ - 200 - 0.045s
[2025-11-26 15:12:34,249] INFO in server_improved: GET /activity/ - 200 - 0.072s
[2025-11-26 15:12:34,285] INFO in server_improved: GET /users/ - 200 - 0.074s
[2025-11-26 15:13:07,220] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-11-26 15:13:07,319] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-11-26 15:13:53,470] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-11-26 15:13:53,482] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-11-26 15:13:53,485] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-11-26 15:13:53,540] INFO in server_improved: GET /branches/ - 200 - 0.027s
[2025-11-26 15:13:53,550] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2025-11-26 15:13:53,600] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-11-26 15:13:57,609] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:01,721] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:01,726] INFO in server_improved: GET /branches/1 - 200 - 8.216s
[2025-11-26 15:14:15,684] INFO in server_improved: GET /branches/ - 200 - 0.138s
[2025-11-26 15:14:15,727] INFO in server_improved: GET /transactions/ - 200 - 0.180s
[2025-11-26 15:14:15,749] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-11-26 15:14:15,783] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-11-26 15:14:19,788] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:23,867] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:23,870] INFO in server_improved: GET /branches/1 - 200 - 8.323s
[2025-11-26 15:14:23,884] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-11-26 15:14:23,921] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-11-26 15:14:23,931] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-11-26 15:14:23,932] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-11-26 15:14:23,954] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2025-11-26 15:14:30,432] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:34,526] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:34,536] INFO in server_improved: GET /branches/1 - 200 - 8.185s
[2025-11-26 15:14:38,622] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:42,741] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:42,747] INFO in server_improved: GET /branches/1 - 200 - 8.203s
[2025-11-26 15:14:46,848] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:50,945] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:50,950] INFO in server_improved: GET /branches/1 - 200 - 8.195s
[2025-11-26 15:14:55,029] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:59,131] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:14:59,133] INFO in server_improved: GET /branches/1 - 200 - 8.180s
[2025-11-26 15:15:26,146] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-11-26 15:15:26,179] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-11-26 15:19:22,651] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-11-26 15:19:22,664] INFO in server_improved: OPTIONS /branches/ - 200 - 0.014s
[2025-11-26 15:19:22,700] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-11-26 15:19:22,705] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-11-26 15:19:22,723] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-11-26 15:19:22,757] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-11-26 15:19:25,078] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-11-26 15:19:25,139] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2025-11-26 15:19:25,150] INFO in server_improved: GET /users/ - 200 - 0.098s
[2025-11-26 15:19:25,189] INFO in server_improved: GET /users/ - 200 - 0.029s
[2025-11-26 15:19:26,634] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-11-26 15:19:26,638] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-11-26 15:19:26,668] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-11-26 15:19:26,690] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-11-26 15:19:26,774] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:19:31,003] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-11-26 15:19:31,008] INFO in server_improved: GET /branches/1 - 200 - 8.338s
[2025-11-26 15:19:36,398] INFO in server_improved: OPTIONS /settings/system/ - 200 - 0.001s
[2025-11-26 15:19:36,403] INFO in server_improved: OPTIONS /settings/system/ - 200 - 0.006s
[2025-11-26 15:19:36,410] INFO in server_improved: OPTIONS /settings/system/ - 200 - 0.008s
[2025-11-26 15:19:36,425] INFO in server_improved: GET /settings/system/ - 200 - 0.004s
[2025-11-26 15:19:36,431] INFO in server_improved: GET /settings/system/ - 200 - 0.002s
[2025-11-26 15:19:36,445] INFO in server_improved: GET /settings/system/ - 200 - 0.009s
[2025-11-26 15:19:40,051] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-11-26 15:19:40,083] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-11-26 15:20:24,767] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-11-26 15:20:24,813] INFO in server_improved: GET /branches/ - 200 - 0.023s
[2025-11-26 15:20:27,390] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-11-26 15:20:27,397] INFO in server_improved: GET /users/ - 200 - 0.030s
[2025-11-26 15:20:27,408] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-11-26 15:20:27,447] INFO in server_improved: GET /users/ - 200 - 0.026s
[2025-11-26 15:20:33,231] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-11-26 15:20:33,250] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-11-26 15:20:33,275] INFO in server_improved: GET /branches/ - 200 - 0.019s
[2025-11-26 15:20:33,290] INFO in server_improved: GET /transactions/ - 200 - 0.035s
[2025-11-26 15:20:33,296] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-11-26 15:20:33,330] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-11-26 15:20:42,413] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.000s
[2025-11-26 15:20:42,474] INFO in server_improved: GET /reports/transactions - 307 - 0.046s
[2025-11-26 15:20:42,483] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-11-26 15:20:42,507] INFO in server_improved: GET /reports/transactions/ - 200 - 0.021s
[2025-11-26 15:20:50,482] INFO in server_improved: GET /settings/system/ - 200 - 0.003s
[2025-11-26 15:20:50,489] INFO in server_improved: GET /settings/system/ - 200 - 0.004s
[2025-11-26 15:20:50,498] INFO in server_improved: GET /settings/system/ - 200 - 0.002s
[2025-11-26 15:20:52,098] INFO in server_improved: GET /users/ - 200 - 0.047s
[2025-11-26 15:20:52,099] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-11-26 15:20:52,136] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-11-26 15:20:52,145] INFO in server_improved: GET /users/ - 200 - 0.032s
[2025-11-26 15:20:54,383] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-11-26 15:20:54,410] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-11-26 15:20:54,411] INFO in server_improved: GET /transactions/ - 200 - 0.054s
[2025-11-26 15:20:54,437] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-11-26 15:20:58,820] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-11-26 15:20:58,850] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-11-26 15:21:19,521] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.002s
[2025-11-26 15:21:19,531] INFO in server_improved: OPTIONS /activity/ - 200 - 0.010s
[2025-11-26 15:21:19,533] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.012s
[2025-11-26 15:21:19,542] INFO in server_improved: OPTIONS /activity/ - 200 - 0.012s
[2025-11-26 15:21:19,547] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-11-26 15:21:19,772] INFO in server_improved: GET /branches/ - 200 - 0.227s
[2025-11-26 15:21:19,787] INFO in server_improved: GET /financial/total/ - 200 - 0.066s
[2025-11-26 15:21:19,793] INFO in server_improved: GET /activity/ - 200 - 0.071s
[2025-11-26 15:21:19,805] INFO in server_improved: GET /users/ - 200 - 0.260s
[2025-11-26 15:21:19,819] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-11-26 15:21:19,838] INFO in server_improved: GET /financial/total/ - 200 - 0.027s
[2025-11-26 15:21:19,851] INFO in server_improved: GET /activity/ - 200 - 0.039s
[2025-11-26 15:21:19,872] INFO in server_improved: GET /users/ - 200 - 0.041s
[2025-12-04 14:11:02,336] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-04 14:15:50,782] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.017s
[2025-12-04 14:15:50,820] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.049s
[2025-12-04 14:15:51,007] INFO in server_improved: GET /check-initialization/ - 200 - 0.182s
[2025-12-04 14:15:51,019] INFO in server_improved: GET /check-initialization/ - 200 - 0.008s
[2025-12-04 14:15:56,267] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-12-04 14:15:57,347] INFO in server_improved: POST /login/ - 200 - 1.076s
[2025-12-04 14:16:01,572] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-12-04 14:16:01,583] INFO in server_improved: OPTIONS /users/ - 200 - 0.004s
[2025-12-04 14:16:01,587] INFO in server_improved: OPTIONS /activity/ - 200 - 0.006s
[2025-12-04 14:16:01,590] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.008s
[2025-12-04 14:16:01,592] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.008s
[2025-12-04 14:16:01,608] INFO in server_improved: OPTIONS /branches/ - 200 - 0.010s
[2025-12-04 14:16:01,612] INFO in server_improved: OPTIONS /users/ - 200 - 0.023s
[2025-12-04 14:16:01,619] INFO in server_improved: OPTIONS /activity/ - 200 - 0.004s
[2025-12-04 14:16:01,633] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-04 14:16:02,010] INFO in server_improved: GET /branches/ - 200 - 0.394s
[2025-12-04 14:16:02,033] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-12-04 14:16:02,210] INFO in server_improved: GET /activity/ - 200 - 0.583s
[2025-12-04 14:16:02,220] INFO in server_improved: GET /financial/total/ - 200 - 0.591s
[2025-12-04 14:16:02,226] INFO in server_improved: GET /users/ - 200 - 0.607s
[2025-12-04 14:16:02,259] INFO in server_improved: GET /financial/total/ - 200 - 0.033s
[2025-12-04 14:16:02,270] INFO in server_improved: GET /activity/ - 200 - 0.059s
[2025-12-04 14:16:02,300] INFO in server_improved: GET /users/ - 200 - 0.065s
[2025-12-04 14:16:09,412] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2025-12-04 14:16:09,416] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-12-04 14:16:09,468] INFO in server_improved: GET /branches/ - 200 - 0.041s
[2025-12-04 14:16:09,488] INFO in server_improved: GET /transactions/ - 200 - 0.057s
[2025-12-04 14:16:09,500] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-12-04 14:16:09,528] INFO in server_improved: GET /transactions/ - 200 - 0.020s
[2025-12-04 14:16:13,540] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:16:17,684] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:16:17,686] INFO in server_improved: GET /branches/1 - 200 - 8.257s
[2025-12-04 14:16:17,699] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-04 14:16:17,833] INFO in server_improved: GET /branches/ - 200 - 0.129s
[2025-12-04 14:16:17,839] INFO in server_improved: GET /transactions/ - 200 - 0.136s
[2025-12-04 14:16:17,839] INFO in server_improved: GET /transactions/ - 200 - 0.136s
[2025-12-04 14:16:17,870] INFO in server_improved: GET /transactions/ - 200 - 0.015s
[2025-12-04 14:16:21,895] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:16:25,949] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:16:25,951] INFO in server_improved: GET /branches/1 - 200 - 8.247s
[2025-12-04 14:16:42,829] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:16:46,912] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:16:46,920] INFO in server_improved: GET /branches/1 - 200 - 8.156s
[2025-12-04 14:17:08,267] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-04 14:17:08,290] INFO in server_improved: OPTIONS /branches/ - 200 - 0.022s
[2025-12-04 14:17:08,331] INFO in server_improved: GET /branches/ - 200 - 0.028s
[2025-12-04 14:17:08,358] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-12-04 14:17:32,873] INFO in server_improved: OPTIONS /branches/2/allocate-funds/ - 200 - 0.001s
[2025-12-04 14:17:33,105] INFO in server_improved: POST /branches/2/allocate-funds/ - 200 - 0.229s
[2025-12-04 14:17:33,154] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-12-04 14:17:37,242] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-12-04 14:17:37,301] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-12-04 14:17:37,306] INFO in server_improved: GET /transactions/ - 200 - 0.046s
[2025-12-04 14:17:37,379] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-12-04 14:17:41,350] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:17:45,408] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:17:45,409] INFO in server_improved: GET /branches/1 - 200 - 8.152s
[2025-12-04 14:17:45,466] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2025-12-04 14:17:45,469] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-12-04 14:17:45,472] INFO in server_improved: GET /transactions/ - 200 - 0.042s
[2025-12-04 14:17:45,498] INFO in server_improved: GET /transactions/ - 200 - 0.014s
[2025-12-04 14:17:49,516] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:17:53,659] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:17:53,662] INFO in server_improved: GET /branches/1 - 200 - 8.233s
[2025-12-04 14:18:03,120] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:18:07,207] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:18:07,211] INFO in server_improved: GET /branches/1 - 200 - 8.178s
[2025-12-04 14:18:19,204] INFO in server_improved: GET /branches/ - 200 - 0.033s
[2025-12-04 14:18:19,254] INFO in server_improved: GET /branches/ - 200 - 0.029s
[2025-12-04 14:18:32,192] INFO in server_improved: OPTIONS /branches/1/allocate-funds/ - 200 - 0.000s
[2025-12-04 14:18:32,239] INFO in server_improved: POST /branches/1/allocate-funds/ - 200 - 0.037s
[2025-12-04 14:18:32,276] INFO in server_improved: GET /branches/ - 200 - 0.027s
[2025-12-04 14:18:35,195] INFO in server_improved: GET /branches/ - 200 - 0.046s
[2025-12-04 14:18:35,195] INFO in server_improved: GET /transactions/ - 200 - 0.044s
[2025-12-04 14:18:35,250] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2025-12-04 14:18:35,270] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-12-04 14:18:39,217] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:18:43,297] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:18:43,298] INFO in server_improved: GET /branches/1 - 200 - 8.148s
[2025-12-04 14:18:43,343] INFO in server_improved: GET /transactions/ - 200 - 0.036s
[2025-12-04 14:18:43,343] INFO in server_improved: GET /branches/ - 200 - 0.026s
[2025-12-04 14:18:43,350] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-12-04 14:18:43,373] INFO in server_improved: GET /transactions/ - 200 - 0.018s
[2025-12-04 14:18:47,383] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:18:51,455] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:18:51,466] INFO in server_improved: GET /branches/1 - 200 - 8.160s
[2025-12-04 14:18:56,164] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:00,356] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:00,374] INFO in server_improved: GET /branches/1 - 200 - 8.271s
[2025-12-04 14:19:12,552] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-04 14:19:16,708] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:20,755] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:24,798] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:28,857] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:28,867] INFO in server_improved: POST /transactions/ - 201 - 16.311s
[2025-12-04 14:19:32,967] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:37,037] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:41,099] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:45,151] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:45,151] INFO in server_improved: OPTIONS /transactions/ab38f5f2-84da-4786-a2f3-efcb43c364a0/ - 200 - 0.000s
[2025-12-04 14:19:45,171] INFO in server_improved: POST /transactions/ - 201 - 16.312s
[2025-12-04 14:19:46,174] INFO in server_improved: GET /branches/ - 200 - 0.014s
[2025-12-04 14:19:46,192] INFO in server_improved: GET /branches/ - 200 - 0.012s
[2025-12-04 14:19:46,473] INFO in server_improved: GET /transactions/ - 200 - 0.251s
[2025-12-04 14:19:46,751] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2025-12-04 14:19:50,500] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:54,572] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:19:54,578] INFO in server_improved: GET /branches/1 - 200 - 8.355s
[2025-12-04 14:19:54,618] INFO in server_improved: GET /transactions/ - 200 - 0.024s
[2025-12-04 14:19:54,618] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-12-04 14:19:54,618] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2025-12-04 14:19:54,720] INFO in server_improved: GET /transactions/ - 200 - 0.084s
[2025-12-04 14:19:58,665] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:02,720] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:02,736] INFO in server_improved: GET /branches/1 - 200 - 8.145s
[2025-12-04 14:20:06,830] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:10,879] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:10,884] INFO in server_improved: GET /branches/1 - 200 - 8.119s
[2025-12-04 14:20:11,068] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-04 14:20:11,086] INFO in server_improved: GET /transactions/ - 200 - 0.015s
[2025-12-04 14:20:16,421] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.001s
[2025-12-04 14:20:16,424] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.001s
[2025-12-04 14:20:20,503] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:24,583] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:24,587] INFO in server_improved: GET /branches/2 - 200 - 8.161s
[2025-12-04 14:20:28,653] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:32,745] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:20:32,748] INFO in server_improved: GET /branches/2 - 200 - 8.152s
[2025-12-04 14:38:10,386] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-04 14:38:10,395] INFO in server_improved: OPTIONS /branches/ - 200 - 0.004s
[2025-12-04 14:38:10,400] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.004s
[2025-12-04 14:38:10,412] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.016s
[2025-12-04 14:38:10,415] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-04 14:38:10,459] INFO in server_improved: GET /branches/ - 200 - 0.049s
[2025-12-04 14:38:10,490] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-12-04 14:38:10,495] INFO in server_improved: GET /transactions/ - 200 - 0.066s
[2025-12-04 14:38:10,539] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-12-04 14:38:14,507] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:38:18,574] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:38:18,583] INFO in server_improved: GET /branches/1 - 200 - 8.160s
[2025-12-04 14:38:18,624] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-12-04 14:38:18,743] INFO in server_improved: GET /branches/ - 200 - 0.067s
[2025-12-04 14:38:18,753] INFO in server_improved: GET /transactions/ - 200 - 0.076s
[2025-12-04 14:38:18,769] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-12-04 14:38:18,784] INFO in server_improved: GET /transactions/ - 200 - 0.018s
[2025-12-04 14:38:22,764] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:38:26,826] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:38:26,826] INFO in server_improved: GET /branches/1 - 200 - 8.154s
[2025-12-04 14:57:40,533] INFO in server_improved: OPTIONS /branches/ - 200 - 0.053s
[2025-12-04 14:57:40,702] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.222s
[2025-12-04 14:57:40,741] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.255s
[2025-12-04 14:57:42,169] INFO in server_improved: GET /branches/ - 200 - 1.413s
[2025-12-04 14:57:42,218] INFO in server_improved: GET /transactions/ - 200 - 1.119s
[2025-12-04 14:57:42,586] INFO in server_improved: GET /transactions/ - 200 - 0.129s
[2025-12-04 14:57:45,511] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:57:49,808] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-04 14:57:49,815] INFO in server_improved: GET /branches/1 - 200 - 9.020s
[2025-12-04 14:57:49,835] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-04 14:57:49,901] INFO in server_improved: GET /branches/ - 200 - 0.056s
[2025-12-04 14:57:49,917] INFO in server_improved: GET /transactions/ - 200 - 0.062s
[2025-12-04 14:57:49,932] INFO in server_improved: GET /transactions/ - 200 - 0.080s
[2025-12-04 14:57:49,987] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-12-04 15:00:21,379] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-04 15:00:21,565] INFO in server_improved: GET /branches/ - 200 - 0.131s
[2025-12-04 15:00:28,856] INFO in server_improved: OPTIONS /users/ - 200 - 0.001s
[2025-12-04 15:00:28,971] INFO in server_improved: GET /branches/ - 200 - 0.076s
[2025-12-04 15:00:29,159] INFO in server_improved: GET /users/ - 200 - 0.248s
[2025-12-04 15:00:41,078] INFO in server_improved: GET /branches/ - 200 - 0.023s
[2025-12-04 15:00:41,094] INFO in server_improved: GET /users/ - 200 - 0.038s
[2025-12-04 15:01:41,462] INFO in server_improved: GET /check-initialization/ - 200 - 0.115s
[2025-12-04 15:01:51,668] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-12-04 15:01:53,695] INFO in server_improved: POST /login/ - 200 - 2.020s
[2025-12-04 15:01:56,427] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.001s
[2025-12-04 15:01:56,435] INFO in server_improved: OPTIONS /activity/ - 200 - 0.002s
[2025-12-04 15:01:56,468] INFO in server_improved: GET /branches/ - 200 - 0.032s
[2025-12-04 15:01:56,498] INFO in server_improved: GET /activity/ - 200 - 0.051s
[2025-12-04 15:01:56,501] INFO in server_improved: GET /users/ - 200 - 0.064s
[2025-12-04 15:01:56,504] INFO in server_improved: GET /financial/total/ - 200 - 0.060s
[2025-12-04 15:02:15,448] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-12-04 15:07:00,578] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2025-12-04 15:07:53,265] INFO in server_improved: GET /branches/ - 200 - 0.054s
[2025-12-05 14:13:10,678] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-05 14:16:31,593] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-12-05 14:16:31,991] INFO in server_improved: GET /check-initialization/ - 200 - 0.344s
[2025-12-05 14:16:37,762] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-12-05 14:16:39,406] INFO in server_improved: POST /login/ - 200 - 1.638s
[2025-12-05 14:16:45,413] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-12-05 14:16:45,424] INFO in server_improved: OPTIONS /users/ - 200 - 0.012s
[2025-12-05 14:16:45,427] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.013s
[2025-12-05 14:16:45,428] INFO in server_improved: OPTIONS /activity/ - 200 - 0.015s
[2025-12-05 14:16:46,268] INFO in server_improved: GET /branches/ - 200 - 0.817s
[2025-12-05 14:16:46,715] INFO in server_improved: GET /financial/total/ - 200 - 1.262s
[2025-12-05 14:16:46,814] INFO in server_improved: GET /activity/ - 200 - 1.344s
[2025-12-05 14:16:46,843] INFO in server_improved: GET /users/ - 200 - 1.391s
[2025-12-05 14:17:03,133] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-12-05 14:17:03,236] INFO in server_improved: GET /branches/ - 200 - 0.064s
[2025-12-05 14:21:56,251] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.001s
[2025-12-05 14:21:56,256] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.006s
[2025-12-05 14:21:56,666] INFO in server_improved: GET /branches/ - 200 - 0.415s
[2025-12-05 14:21:57,043] INFO in server_improved: GET /branches/ - 200 - 0.371s
[2025-12-05 14:23:31,020] INFO in server_improved: GET /branches/ - 200 - 0.081s
[2025-12-05 14:23:31,030] INFO in server_improved: GET /users/ - 200 - 0.095s
[2025-12-05 14:24:39,108] INFO in server_improved: GET /branches/ - 200 - 0.653s
[2025-12-05 14:24:39,421] INFO in server_improved: GET /users/ - 200 - 0.968s
[2025-12-05 14:49:26,649] INFO in server_improved: OPTIONS /reports/transactions - 200 - 0.069s
[2025-12-05 14:49:26,775] INFO in server_improved: GET /reports/transactions - 307 - 0.059s
[2025-12-05 14:49:26,798] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-12-05 14:49:28,266] INFO in server_improved: GET /reports/transactions/ - 200 - 1.452s
[2025-12-05 14:52:16,903] INFO in server_improved: OPTIONS /api/transactions/tax_summary/ - 200 - 0.000s
[2025-12-05 14:52:17,525] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.524s
[2025-12-05 14:52:17,536] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.001s
[2025-12-05 14:52:17,803] INFO in server_improved: GET /reports/transactions/ - 200 - 0.261s
[2025-12-05 14:52:19,144] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.164s
[2025-12-05 14:52:19,204] INFO in server_improved: GET /reports/transactions/ - 200 - 0.042s
[2025-12-05 15:00:01,733] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.007s
[2025-12-05 15:00:01,818] INFO in server_improved: OPTIONS /branches/ - 200 - 0.085s
[2025-12-05 15:00:01,836] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.010s
[2025-12-05 15:00:02,122] INFO in server_improved: GET /branches/ - 200 - 0.274s
[2025-12-05 15:00:02,260] INFO in server_improved: GET /branches/ - 200 - 0.131s
[2025-12-05 15:03:14,506] INFO in server_improved: OPTIONS /branches/ - 200 - 0.016s
[2025-12-05 15:03:14,756] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.002s
[2025-12-05 15:03:14,820] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.065s
[2025-12-05 15:03:14,823] INFO in server_improved: GET /branches/ - 200 - 0.193s
[2025-12-05 15:03:14,906] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-05 15:03:15,459] INFO in server_improved: GET /transactions/ - 200 - 0.173s
[2025-12-05 15:03:15,617] INFO in server_improved: GET /transactions/ - 200 - 0.072s
[2025-12-05 15:03:19,682] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:03:23,960] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:03:23,965] INFO in server_improved: GET /branches/1 - 200 - 8.684s
[2025-12-05 15:03:24,857] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-05 15:03:24,996] INFO in server_improved: GET /branches/ - 200 - 0.068s
[2025-12-05 15:03:24,999] INFO in server_improved: GET /transactions/ - 200 - 0.130s
[2025-12-05 15:03:25,004] INFO in server_improved: GET /transactions/ - 200 - 0.061s
[2025-12-05 15:03:25,041] INFO in server_improved: GET /transactions/ - 200 - 0.017s
[2025-12-05 15:03:28,897] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:03:32,986] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:03:33,035] INFO in server_improved: GET /branches/1 - 200 - 8.199s
[2025-12-05 15:08:44,027] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-12-05 15:08:44,540] INFO in server_improved: GET /transactions/ - 200 - 0.279s
[2025-12-05 15:08:44,695] INFO in server_improved: GET /transactions/ - 200 - 0.092s
[2025-12-05 15:08:48,494] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:08:52,565] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:08:52,570] INFO in server_improved: GET /branches/1 - 200 - 8.326s
[2025-12-05 15:08:52,612] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2025-12-05 15:08:52,622] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-12-05 15:08:52,642] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-12-05 15:08:52,691] INFO in server_improved: GET /transactions/ - 200 - 0.027s
[2025-12-05 15:09:57,703] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2025-12-05 15:09:57,729] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-12-05 15:10:00,639] INFO in server_improved: GET /transactions/ - 200 - 0.041s
[2025-12-05 15:10:00,662] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2025-12-05 15:10:02,296] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:06,445] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:06,448] INFO in server_improved: GET /branches/1 - 200 - 8.681s
[2025-12-05 15:10:06,514] INFO in server_improved: GET /transactions/ - 200 - 0.039s
[2025-12-05 15:10:06,571] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-12-05 15:10:10,507] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:14,617] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:14,621] INFO in server_improved: GET /branches/1 - 200 - 8.173s
[2025-12-05 15:10:14,672] INFO in server_improved: GET /transactions/ - 200 - 0.033s
[2025-12-05 15:10:14,741] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2025-12-05 15:10:41,490] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:45,622] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:45,627] INFO in server_improved: GET /branches/1 - 200 - 8.527s
[2025-12-05 15:10:49,690] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:53,761] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:10:53,761] INFO in server_improved: GET /branches/1 - 200 - 8.130s
[2025-12-05 15:10:57,809] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:11:01,863] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:11:01,866] INFO in server_improved: GET /branches/1 - 200 - 8.090s
[2025-12-05 15:33:19,635] INFO in server_improved: OPTIONS /branches/ - 200 - 0.049s
[2025-12-05 15:33:19,662] INFO in server_improved: OPTIONS /branches/ - 200 - 0.042s
[2025-12-05 15:33:21,417] INFO in server_improved: OPTIONS /transactions/ - 200 - 1.759s
[2025-12-05 15:33:21,420] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.005s
[2025-12-05 15:33:22,519] INFO in server_improved: GET /branches/ - 200 - 1.095s
[2025-12-05 15:33:22,580] INFO in server_improved: GET /transactions/ - 200 - 1.121s
[2025-12-05 15:33:23,349] INFO in server_improved: GET /branches/ - 200 - 0.809s
[2025-12-05 15:33:23,655] INFO in server_improved: GET /transactions/ - 200 - 1.036s
[2025-12-05 15:33:25,522] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:33:29,616] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:33:29,620] INFO in server_improved: GET /branches/1 - 200 - 8.161s
[2025-12-05 15:33:29,634] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-12-05 15:33:29,657] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-12-05 15:33:29,731] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2025-12-05 15:33:29,738] INFO in server_improved: GET /transactions/ - 200 - 0.100s
[2025-12-05 15:33:29,789] INFO in server_improved: GET /transactions/ - 200 - 0.031s
[2025-12-05 15:37:22,298] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-12-05 15:37:22,317] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2025-12-05 15:37:22,543] INFO in server_improved: GET /transactions/ - 200 - 0.025s
[2025-12-05 15:37:22,586] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-12-05 15:37:26,597] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:37:30,669] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:37:30,678] INFO in server_improved: GET /branches/1 - 200 - 8.171s
[2025-12-05 15:37:30,779] INFO in server_improved: GET /branches/ - 200 - 0.059s
[2025-12-05 15:37:30,782] INFO in server_improved: GET /transactions/ - 200 - 0.079s
[2025-12-05 15:37:30,809] INFO in server_improved: GET /transactions/ - 200 - 0.064s
[2025-12-05 15:37:30,870] INFO in server_improved: GET /transactions/ - 200 - 0.029s
[2025-12-05 15:37:36,106] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.001s
[2025-12-05 15:37:36,247] INFO in server_improved: OPTIONS /api/v1/users/ - 200 - 0.143s
[2025-12-05 15:37:36,275] INFO in server_improved: OPTIONS /api/v1/users/ - 200 - 0.170s
[2025-12-05 15:37:36,377] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.272s
[2025-12-05 15:37:36,448] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.008s
[2025-12-05 15:37:36,465] INFO in server_improved: GET /api/v1/users/ - 404 - 0.018s
[2025-12-05 15:37:36,558] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.015s
[2025-12-05 15:37:36,601] INFO in server_improved: GET /api/v1/users/ - 404 - 0.055s
[2025-12-05 15:37:36,708] INFO in server_improved: OPTIONS /users/ - 200 - 0.130s
[2025-12-05 15:37:36,867] INFO in server_improved: OPTIONS /users/ - 200 - 0.028s
[2025-12-05 15:37:36,940] INFO in server_improved: GET /branches/ - 200 - 0.397s
[2025-12-05 15:37:37,048] INFO in server_improved: GET /branches/ - 200 - 0.098s
[2025-12-05 15:37:37,361] INFO in server_improved: GET /users/ - 200 - 0.523s
[2025-12-05 15:37:37,762] INFO in server_improved: GET /users/ - 200 - 0.278s
[2025-12-05 15:37:51,705] INFO in server_improved: GET /api/v1/users/ - 404 - 0.110s
[2025-12-05 15:37:52,280] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.575s
[2025-12-05 15:37:52,447] INFO in server_improved: GET /api/v1/users/ - 404 - 0.010s
[2025-12-05 15:37:52,685] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.238s
[2025-12-05 15:37:53,318] INFO in server_improved: GET /users/ - 200 - 0.871s
[2025-12-05 15:37:53,499] INFO in server_improved: GET /branches/ - 200 - 0.581s
[2025-12-05 15:37:53,992] INFO in server_improved: GET /users/ - 200 - 0.500s
[2025-12-05 15:37:54,172] INFO in server_improved: GET /branches/ - 200 - 0.393s
[2025-12-05 15:45:33,013] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.019s
[2025-12-05 15:45:33,060] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.057s
[2025-12-05 15:45:33,159] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.084s
[2025-12-05 15:45:33,175] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.016s
[2025-12-05 15:45:33,179] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-12-05 15:45:33,192] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-12-05 15:45:34,146] INFO in server_improved: GET /branches/ - 200 - 0.944s
[2025-12-05 15:45:34,504] INFO in server_improved: GET /branches/ - 200 - 0.149s
[2025-12-05 15:46:21,697] INFO in server_improved: GET /api/v1/users/ - 404 - 0.004s
[2025-12-05 15:46:21,708] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.012s
[2025-12-05 15:46:21,800] INFO in server_improved: GET /api/v1/users/ - 404 - 0.034s
[2025-12-05 15:46:22,175] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.003s
[2025-12-05 15:46:22,331] INFO in server_improved: OPTIONS /branches/ - 200 - 0.011s
[2025-12-05 15:46:22,720] INFO in server_improved: GET /branches/ - 200 - 0.157s
[2025-12-05 15:46:22,916] INFO in server_improved: GET /branches/ - 200 - 0.103s
[2025-12-05 15:46:22,986] INFO in server_improved: GET /users/ - 200 - 0.992s
[2025-12-05 15:46:23,367] INFO in server_improved: GET /users/ - 200 - 0.363s
[2025-12-05 15:46:32,414] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-05 15:46:32,486] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-12-05 15:46:32,601] INFO in server_improved: GET /branches/ - 200 - 0.041s
[2025-12-05 15:46:32,757] INFO in server_improved: GET /transactions/ - 200 - 0.191s
[2025-12-05 15:46:32,773] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-12-05 15:46:32,906] INFO in server_improved: GET /transactions/ - 200 - 0.095s
[2025-12-05 15:46:39,453] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-12-05 15:46:39,460] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2025-12-05 15:46:39,464] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-12-05 15:46:39,503] INFO in server_improved: GET /branches/ - 200 - 0.030s
[2025-12-05 15:46:39,506] INFO in server_improved: GET /transactions/ - 200 - 0.040s
[2025-12-05 15:46:39,596] INFO in server_improved: GET /transactions/ - 200 - 0.050s
[2025-12-05 15:46:43,527] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:46:47,589] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 15:46:47,606] INFO in server_improved: GET /branches/1 - 200 - 8.143s
[2025-12-05 15:46:47,636] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-05 15:46:47,726] INFO in server_improved: GET /branches/ - 200 - 0.073s
[2025-12-05 15:46:47,820] INFO in server_improved: GET /transactions/ - 200 - 0.166s
[2025-12-05 15:46:47,841] INFO in server_improved: GET /transactions/ - 200 - 0.182s
[2025-12-05 15:46:47,881] INFO in server_improved: GET /transactions/ - 200 - 0.030s
[2025-12-05 15:50:36,316] INFO in server_improved: OPTIONS /api/transactions/tax_summary/ - 200 - 0.006s
[2025-12-05 15:50:36,454] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.134s
[2025-12-05 15:50:36,470] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.001s
[2025-12-05 15:50:36,522] INFO in server_improved: GET /reports/transactions/ - 200 - 0.047s
[2025-12-05 15:50:39,258] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.041s
[2025-12-05 15:50:39,283] INFO in server_improved: GET /reports/transactions/ - 200 - 0.026s
[2025-12-05 15:50:49,195] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.033s
[2025-12-05 15:50:49,234] INFO in server_improved: GET /reports/transactions/ - 200 - 0.031s
[2025-12-05 15:51:08,102] INFO in server_improved: OPTIONS /api/transactions/tax_summary/ - 200 - 0.000s
[2025-12-05 15:51:08,147] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.045s
[2025-12-05 15:51:08,162] INFO in server_improved: OPTIONS /reports/transactions/ - 200 - 0.000s
[2025-12-05 15:51:08,202] INFO in server_improved: GET /reports/transactions/ - 200 - 0.033s
[2025-12-05 15:51:12,801] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.021s
[2025-12-05 15:51:12,842] INFO in server_improved: GET /reports/transactions/ - 200 - 0.029s
[2025-12-05 15:51:13,949] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.020s
[2025-12-05 15:51:13,994] INFO in server_improved: GET /reports/transactions/ - 200 - 0.031s
[2025-12-05 15:51:20,849] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.032s
[2025-12-05 15:51:20,895] INFO in server_improved: GET /reports/transactions/ - 200 - 0.031s
[2025-12-05 15:51:21,097] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.065s
[2025-12-05 15:51:21,132] INFO in server_improved: GET /reports/transactions/ - 200 - 0.019s
[2025-12-05 15:51:21,338] INFO in server_improved: GET /api/transactions/tax_summary/ - 200 - 0.119s
[2025-12-05 15:51:21,373] INFO in server_improved: GET /reports/transactions/ - 200 - 0.024s
[2025-12-05 15:51:34,585] INFO in server_improved: OPTIONS /activity/ - 200 - 0.004s
[2025-12-05 15:51:34,734] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.151s
[2025-12-05 15:51:34,806] INFO in server_improved: OPTIONS /users/ - 200 - 0.222s
[2025-12-05 15:51:35,058] INFO in server_improved: OPTIONS /activity/ - 200 - 0.324s
[2025-12-05 15:51:35,233] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.427s
[2025-12-05 15:51:35,409] INFO in server_improved: OPTIONS /users/ - 200 - 0.351s
[2025-12-05 15:51:36,072] INFO in server_improved: GET /branches/ - 200 - 0.674s
[2025-12-05 15:51:36,104] INFO in server_improved: GET /activity/ - 200 - 0.705s
[2025-12-05 15:51:36,164] INFO in server_improved: GET /users/ - 200 - 0.499s
[2025-12-05 15:51:36,164] INFO in server_improved: GET /financial/total/ - 200 - 0.509s
[2025-12-05 15:51:36,290] INFO in server_improved: GET /branches/ - 200 - 0.022s
[2025-12-05 15:51:36,416] INFO in server_improved: GET /activity/ - 200 - 0.087s
[2025-12-05 15:51:36,525] INFO in server_improved: GET /users/ - 200 - 0.196s
[2025-12-05 15:51:36,631] INFO in server_improved: GET /financial/total/ - 200 - 0.302s
[2025-12-05 16:05:57,304] INFO in server_improved: OPTIONS /users/ - 200 - 0.065s
[2025-12-05 16:05:57,536] INFO in server_improved: OPTIONS /branches/ - 200 - 0.316s
[2025-12-05 16:05:57,559] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.338s
[2025-12-05 16:05:57,589] INFO in server_improved: OPTIONS /activity/ - 200 - 0.052s
[2025-12-05 16:05:57,635] INFO in server_improved: OPTIONS /branches/ - 200 - 0.078s
[2025-12-05 16:05:57,667] INFO in server_improved: OPTIONS /users/ - 200 - 0.099s
[2025-12-05 16:05:57,720] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.025s
[2025-12-05 16:05:57,831] INFO in server_improved: OPTIONS /activity/ - 200 - 0.071s
[2025-12-05 16:06:01,353] INFO in server_improved: GET /branches/ - 200 - 3.575s
[2025-12-05 16:06:01,412] INFO in server_improved: GET /financial/total/ - 200 - 3.483s
[2025-12-05 16:06:01,504] INFO in server_improved: GET /activity/ - 200 - 3.518s
[2025-12-05 16:06:01,642] INFO in server_improved: GET /financial/total/ - 200 - 0.064s
[2025-12-05 16:06:01,705] INFO in server_improved: GET /branches/ - 200 - 0.132s
[2025-12-05 16:06:01,725] INFO in server_improved: GET /activity/ - 200 - 0.120s
[2025-12-05 16:06:01,761] INFO in server_improved: GET /users/ - 200 - 4.049s
[2025-12-05 16:06:01,943] INFO in server_improved: GET /users/ - 200 - 0.158s
[2025-12-05 16:06:27,169] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.001s
[2025-12-05 16:06:27,172] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.016s
[2025-12-05 16:06:27,378] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.050s
[2025-12-05 16:06:27,826] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.023s
[2025-12-05 16:06:27,855] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-12-05 16:06:27,879] INFO in server_improved: OPTIONS /branches/ - 200 - 0.018s
[2025-12-05 16:06:27,952] INFO in server_improved: GET /branches/ - 200 - 0.062s
[2025-12-05 16:06:28,804] INFO in server_improved: GET /branches/ - 200 - 0.829s
[2025-12-05 16:06:53,382] INFO in server_improved: GET /branches/ - 200 - 0.083s
[2025-12-05 16:06:53,429] INFO in server_improved: GET /branches/ - 200 - 0.020s
[2025-12-05 16:06:53,560] INFO in server_improved: GET /users/ - 200 - 0.253s
[2025-12-05 16:06:53,691] INFO in server_improved: GET /financial/total/ - 200 - 0.367s
[2025-12-05 16:06:53,748] INFO in server_improved: GET /activity/ - 200 - 0.424s
[2025-12-05 16:06:53,800] INFO in server_improved: GET /users/ - 200 - 0.186s
[2025-12-05 16:06:53,842] INFO in server_improved: GET /financial/total/ - 200 - 0.031s
[2025-12-05 16:06:53,894] INFO in server_improved: GET /activity/ - 200 - 0.029s
[2025-12-05 16:14:52,194] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.031s
[2025-12-05 16:14:52,225] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.000s
[2025-12-05 16:14:55,551] INFO in server_improved: GET /branches/ - 200 - 3.305s
[2025-12-05 16:14:58,102] INFO in server_improved: GET /branches/ - 200 - 2.537s
[2025-12-05 16:15:41,347] INFO in server_improved: OPTIONS /api/v1/users/ - 200 - 0.041s
[2025-12-05 16:15:41,481] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.139s
[2025-12-05 16:15:41,705] INFO in server_improved: OPTIONS /api/v1/users/ - 200 - 0.358s
[2025-12-05 16:15:41,774] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.293s
[2025-12-05 16:15:41,824] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-05 16:15:42,093] INFO in server_improved: GET /api/v1/users/ - 404 - 0.314s
[2025-12-05 16:15:42,399] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.005s
[2025-12-05 16:15:42,988] INFO in server_improved: GET /api/v1/users/ - 404 - 0.024s
[2025-12-05 16:15:43,799] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.104s
[2025-12-05 16:15:46,692] INFO in server_improved: GET /branches/ - 200 - 2.440s
[2025-12-05 16:15:46,756] INFO in server_improved: GET /branches/ - 200 - 0.057s
[2025-12-05 16:15:47,034] INFO in server_improved: GET /users/ - 200 - 4.102s
[2025-12-05 16:15:47,378] INFO in server_improved: GET /users/ - 200 - 0.341s
[2025-12-05 16:28:36,530] INFO in server_improved: OPTIONS /users/ - 200 - 0.016s
[2025-12-05 16:28:36,546] INFO in server_improved: OPTIONS /branches/ - 200 - 0.032s
[2025-12-05 16:28:36,553] INFO in server_improved: OPTIONS /activity/ - 200 - 0.039s
[2025-12-05 16:28:36,620] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.078s
[2025-12-05 16:28:36,678] INFO in server_improved: OPTIONS /branches/ - 200 - 0.120s
[2025-12-05 16:28:36,720] INFO in server_improved: OPTIONS /users/ - 200 - 0.163s
[2025-12-05 16:28:36,825] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-05 16:28:37,320] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.588s
[2025-12-05 16:28:37,330] INFO in server_improved: OPTIONS /activity/ - 200 - 0.593s
[2025-12-05 16:28:38,760] INFO in server_improved: GET /branches/ - 200 - 1.405s
[2025-12-05 16:28:40,070] INFO in server_improved: GET /branches/ - 200 - 1.302s
[2025-12-05 16:28:40,070] INFO in server_improved: GET /financial/total/ - 200 - 2.247s
[2025-12-05 16:28:40,250] INFO in server_improved: GET /financial/total/ - 200 - 0.170s
[2025-12-05 16:28:40,255] INFO in server_improved: GET /users/ - 200 - 3.518s
[2025-12-05 16:28:40,426] INFO in server_improved: GET /users/ - 200 - 0.165s
[2025-12-05 16:28:40,681] INFO in server_improved: GET /activity/ - 200 - 3.317s
[2025-12-05 16:28:40,798] INFO in server_improved: GET /activity/ - 200 - 0.109s
[2025-12-05 16:28:54,754] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-12-05 16:28:54,803] INFO in server_improved: GET /branches/ - 200 - 0.011s
[2025-12-05 16:28:54,819] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.000s
[2025-12-05 16:28:54,819] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-05 16:28:55,324] INFO in server_improved: GET /transactions/ - 200 - 0.428s
[2025-12-05 16:28:55,472] INFO in server_improved: GET /transactions/ - 200 - 0.078s
[2025-12-05 16:28:59,240] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 16:29:03,369] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 16:29:03,381] INFO in server_improved: GET /branches/1 - 200 - 8.487s
[2025-12-05 16:29:03,403] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-05 16:29:03,411] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2025-12-05 16:29:03,501] INFO in server_improved: GET /branches/ - 200 - 0.075s
[2025-12-05 16:29:03,512] INFO in server_improved: GET /transactions/ - 200 - 0.083s
[2025-12-05 16:29:03,515] INFO in server_improved: GET /transactions/ - 200 - 0.082s
[2025-12-05 16:29:03,518] INFO in server_improved: GET /transactions/ - 200 - 0.081s
[2025-12-05 16:29:03,561] INFO in server_improved: GET /transactions/ - 200 - 0.037s
[2025-12-05 16:29:09,992] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2025-12-05 16:29:12,131] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.001s
[2025-12-05 16:29:12,137] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2025-12-05 16:29:16,200] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 16:29:21,948] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 16:29:21,961] INFO in server_improved: GET /branches/2 - 200 - 9.821s
[2025-12-05 16:29:26,037] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 16:29:30,108] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-05 16:29:30,108] INFO in server_improved: GET /branches/2 - 200 - 8.139s
[2025-12-05 16:34:31,654] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.016s
[2025-12-05 16:34:31,654] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.000s
[2025-12-05 16:34:31,669] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.000s
[2025-12-05 16:34:31,760] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.001s
[2025-12-05 16:34:31,850] INFO in server_improved: GET /audit/logs - 404 - 0.007s
[2025-12-05 16:34:31,855] INFO in server_improved: GET /audit/stats - 404 - 0.005s
[2025-12-05 16:34:32,121] INFO in server_improved: GET /audit/logs - 404 - 0.001s
[2025-12-05 16:34:32,173] INFO in server_improved: GET /audit/stats - 404 - 0.008s
[2025-12-05 16:39:17,804] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.003s
[2025-12-05 16:39:17,996] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.177s
[2025-12-05 16:39:18,022] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.197s
[2025-12-05 16:39:18,049] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.054s
[2025-12-05 16:39:18,116] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.069s
[2025-12-05 16:39:18,136] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.030s
[2025-12-05 16:39:18,159] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.001s
[2025-12-05 16:39:18,254] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.034s
[2025-12-05 16:51:22,506] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.004s
[2025-12-05 16:51:22,508] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.006s
[2025-12-05 16:51:22,512] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.000s
[2025-12-05 16:51:22,514] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.003s
[2025-12-05 16:51:22,520] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.001s
[2025-12-05 16:51:22,520] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.001s
[2025-12-05 16:51:22,532] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.000s
[2025-12-05 16:51:22,542] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.001s
[2025-12-05 17:03:18,224] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.111s
[2025-12-05 17:03:18,252] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.131s
[2025-12-05 17:03:18,271] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.148s
[2025-12-05 17:03:18,275] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.033s
[2025-12-05 17:03:18,285] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.023s
[2025-12-05 17:03:18,296] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.021s
[2025-12-05 17:03:18,456] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-05 17:03:18,599] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.010s
[2025-12-05 17:03:18,695] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.096s
[2025-12-05 17:03:18,781] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.182s
[2025-12-05 17:03:18,850] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.004s
[2025-12-05 17:03:18,853] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.005s
[2025-12-05 17:03:18,860] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.000s
[2025-12-05 17:03:18,862] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.003s
[2025-12-05 17:03:18,865] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-05 17:03:18,884] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.004s
[2025-12-05 17:03:18,889] INFO in server_improved: GET /audit/stats - 404 - 0.005s
[2025-12-05 17:03:18,897] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.012s
[2025-12-05 17:03:18,930] INFO in server_improved: GET /audit/logs - 404 - 0.002s
[2025-12-05 17:03:18,943] INFO in server_improved: GET /reminders/ - 404 - 0.005s
[2025-12-05 17:03:18,948] INFO in server_improved: GET /audit/stats - 404 - 0.004s
[2025-12-05 17:03:18,962] INFO in server_improved: GET /audit/logs - 404 - 0.002s
[2025-12-05 17:03:18,983] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-05 17:08:17,894] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-05 17:08:17,904] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-05 17:13:18,539] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.691s
[2025-12-05 17:13:18,545] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-05 17:18:17,860] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-05 17:18:17,860] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-05 17:18:17,880] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-05 17:18:17,882] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-05 17:18:17,928] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-05 17:22:00,952] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.000s
[2025-12-05 17:22:00,973] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.001s
[2025-12-05 17:22:00,991] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.001s
[2025-12-05 17:22:00,998] INFO in server_improved: GET /audit/logs - 404 - 0.003s
[2025-12-05 17:23:18,227] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-05 17:23:18,379] INFO in server_improved: GET /reminders/ - 404 - 0.003s
[2025-12-05 17:24:47,003] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.060s
[2025-12-05 17:24:47,015] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.012s
[2025-12-05 17:24:47,018] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.014s
[2025-12-05 17:24:47,027] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.007s
[2025-12-05 17:24:47,032] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.010s
[2025-12-05 17:24:47,034] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.008s
[2025-12-05 17:24:47,038] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.002s
[2025-12-05 17:24:47,044] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.003s
[2025-12-05 17:24:47,051] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.002s
[2025-12-05 17:24:47,053] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.003s
[2025-12-05 17:24:47,353] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:24:47,368] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-05 17:24:47,372] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.000s
[2025-12-05 17:24:47,382] INFO in server_improved: GET /audit/logs - 404 - 0.002s
[2025-12-05 17:24:47,386] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.000s
[2025-12-05 17:24:47,394] INFO in server_improved: GET /audit/logs - 404 - 0.001s
[2025-12-05 17:24:47,401] INFO in server_improved: GET /audit/stats - 404 - 0.007s
[2025-12-05 17:24:47,453] INFO in server_improved: GET /audit/stats - 404 - 0.001s
[2025-12-05 17:26:18,686] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.037s
[2025-12-05 17:26:18,693] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.003s
[2025-12-05 17:26:18,698] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.006s
[2025-12-05 17:26:18,734] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.003s
[2025-12-05 17:26:18,739] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.008s
[2025-12-05 17:26:18,749] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.001s
[2025-12-05 17:26:18,999] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:26:19,039] INFO in server_improved: GET /audit/logs - 404 - 0.007s
[2025-12-05 17:26:19,104] INFO in server_improved: GET /audit/stats - 404 - 0.071s
[2025-12-05 17:26:19,208] INFO in server_improved: GET /reminders/ - 404 - 0.008s
[2025-12-05 17:26:19,214] INFO in server_improved: GET /audit/logs - 404 - 0.007s
[2025-12-05 17:26:19,234] INFO in server_improved: GET /audit/stats - 404 - 0.000s
[2025-12-05 17:26:27,269] INFO in server_improved: OPTIONS /users/ - 200 - 0.013s
[2025-12-05 17:26:27,285] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.022s
[2025-12-05 17:26:27,288] INFO in server_improved: OPTIONS /activity/ - 200 - 0.032s
[2025-12-05 17:26:27,291] INFO in server_improved: OPTIONS /branches/ - 200 - 0.034s
[2025-12-05 17:26:27,294] INFO in server_improved: OPTIONS /users/ - 200 - 0.036s
[2025-12-05 17:26:27,322] INFO in server_improved: OPTIONS /branches/ - 200 - 0.062s
[2025-12-05 17:26:27,346] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.011s
[2025-12-05 17:26:27,492] INFO in server_improved: OPTIONS /activity/ - 200 - 0.149s
[2025-12-05 17:26:30,024] INFO in server_improved: GET /financial/total/ - 200 - 2.679s
[2025-12-05 17:26:30,026] INFO in server_improved: GET /activity/ - 200 - 2.455s
[2025-12-05 17:26:30,033] INFO in server_improved: GET /branches/ - 200 - 2.518s
[2025-12-05 17:26:30,055] INFO in server_improved: GET /users/ - 200 - 2.564s
[2025-12-05 17:26:30,092] INFO in server_improved: GET /financial/total/ - 200 - 0.029s
[2025-12-05 17:26:30,139] INFO in server_improved: GET /activity/ - 200 - 0.031s
[2025-12-05 17:26:30,172] INFO in server_improved: GET /branches/ - 200 - 0.033s
[2025-12-05 17:26:30,421] INFO in server_improved: GET /users/ - 200 - 0.215s
[2025-12-05 17:26:38,432] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.029s
[2025-12-05 17:26:38,438] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.001s
[2025-12-05 17:26:38,506] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.002s
[2025-12-05 17:26:38,642] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.002s
[2025-12-05 17:26:38,670] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2025-12-05 17:26:38,807] INFO in server_improved: GET /branches/ - 200 - 0.081s
[2025-12-05 17:26:39,044] INFO in server_improved: GET /branches/ - 200 - 0.084s
[2025-12-05 17:26:48,300] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.003s
[2025-12-05 17:26:48,358] INFO in server_improved: OPTIONS /api/v1/users/ - 200 - 0.059s
[2025-12-05 17:26:48,549] INFO in server_improved: OPTIONS /api/v1/branches/ - 200 - 0.249s
[2025-12-05 17:26:48,794] INFO in server_improved: OPTIONS /api/v1/users/ - 200 - 0.437s
[2025-12-05 17:26:48,919] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.002s
[2025-12-05 17:26:48,954] INFO in server_improved: GET /api/v1/users/ - 404 - 0.035s
[2025-12-05 17:26:49,108] INFO in server_improved: GET /api/v1/branches/ - 404 - 0.003s
[2025-12-05 17:26:49,380] INFO in server_improved: GET /api/v1/users/ - 404 - 0.155s
[2025-12-05 17:26:49,595] INFO in server_improved: GET /branches/ - 200 - 0.367s
[2025-12-05 17:26:49,886] INFO in server_improved: GET /branches/ - 200 - 0.021s
[2025-12-05 17:26:49,993] INFO in server_improved: GET /users/ - 200 - 0.766s
[2025-12-05 17:26:50,244] INFO in server_improved: GET /users/ - 200 - 0.059s
[2025-12-05 17:27:09,393] INFO in server_improved: OPTIONS /api/v1/backup/list - 200 - 0.000s
[2025-12-05 17:27:09,401] INFO in server_improved: OPTIONS /api/v1/backup/list - 200 - 0.008s
[2025-12-05 17:27:09,412] INFO in server_improved: GET /api/v1/backup/list - 404 - 0.001s
[2025-12-05 17:27:09,418] INFO in server_improved: GET /api/v1/backup/list - 404 - 0.002s
[2025-12-05 17:27:09,422] INFO in server_improved: OPTIONS /backup/list - 200 - 0.000s
[2025-12-05 17:27:09,431] INFO in server_improved: OPTIONS /backup/list - 200 - 0.001s
[2025-12-05 17:27:09,432] INFO in server_improved: GET /backup/list - 404 - 0.000s
[2025-12-05 17:27:09,438] INFO in server_improved: GET /backup/list - 404 - 0.003s
[2025-12-05 17:27:14,974] INFO in server_improved: GET /api/v1/backup/list - 404 - 0.001s
[2025-12-05 17:27:14,994] INFO in server_improved: GET /backup/list - 404 - 0.000s
[2025-12-05 17:30:15,559] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.001s
[2025-12-05 17:30:15,562] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.005s
[2025-12-05 17:30:15,568] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-05 17:30:15,576] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-05 17:30:15,836] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-05 17:30:15,837] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.002s
[2025-12-05 17:30:15,840] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:30:15,846] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:35:19,160] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-05 17:35:19,381] INFO in server_improved: GET /reminders/ - 404 - 0.003s
[2025-12-05 17:36:05,766] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-05 17:36:06,364] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.003s
[2025-12-05 17:36:06,520] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-05 17:36:06,752] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:41:05,803] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.002s
[2025-12-05 17:41:05,886] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.018s
[2025-12-05 17:41:05,910] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-05 17:41:05,926] INFO in server_improved: GET /reminders/ - 404 - 0.005s
[2025-12-05 17:43:19,549] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-05 17:43:19,563] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-05 17:43:19,567] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-12-05 17:43:19,776] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.015s
[2025-12-05 17:43:19,814] INFO in server_improved: OPTIONS /activity/ - 200 - 0.041s
[2025-12-05 17:43:19,822] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.047s
[2025-12-05 17:43:19,829] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.016s
[2025-12-05 17:43:19,910] INFO in server_improved: OPTIONS /activity/ - 200 - 0.069s
[2025-12-05 17:43:20,095] INFO in server_improved: GET /branches/ - 200 - 0.523s
[2025-12-05 17:43:20,119] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-12-05 17:43:20,124] INFO in server_improved: GET /financial/total/ - 200 - 0.282s
[2025-12-05 17:43:20,166] INFO in server_improved: GET /activity/ - 200 - 0.324s
[2025-12-05 17:43:20,181] INFO in server_improved: GET /financial/total/ - 200 - 0.053s
[2025-12-05 17:43:20,202] INFO in server_improved: GET /users/ - 200 - 0.488s
[2025-12-05 17:43:20,221] INFO in server_improved: GET /activity/ - 200 - 0.043s
[2025-12-05 17:43:20,256] INFO in server_improved: GET /users/ - 200 - 0.046s
[2025-12-05 17:43:34,011] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:43:34,019] INFO in server_improved: GET /reminders/ - 404 - 0.004s
[2025-12-05 17:43:42,500] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-05 17:43:42,512] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.003s
[2025-12-05 17:43:42,756] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:43:42,762] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-05 17:46:22,200] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-05 17:46:22,246] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-05 17:46:23,089] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-05 17:46:23,115] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-07 17:52:01,973] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-07 17:54:31,721] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-07 17:57:13,352] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.016s
[2025-12-07 17:57:13,354] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.015s
[2025-12-07 17:57:13,357] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.018s
[2025-12-07 17:57:13,360] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.007s
[2025-12-07 17:57:13,392] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.009s
[2025-12-07 17:57:13,404] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-07 17:57:13,558] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-07 17:57:14,362] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-07 17:57:14,913] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-07 17:57:14,970] INFO in server_improved: GET /check-initialization/ - 200 - 1.586s
[2025-12-07 17:57:15,103] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-07 17:57:15,117] INFO in server_improved: GET /check-initialization/ - 200 - 0.015s
[2025-12-07 17:57:42,242] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-12-07 17:57:43,288] INFO in server_improved: POST /login/ - 200 - 1.042s
[2025-12-07 17:57:54,390] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-07 17:57:54,397] INFO in server_improved: OPTIONS /users/ - 200 - 0.003s
[2025-12-07 17:57:54,403] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.008s
[2025-12-07 17:57:54,407] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.012s
[2025-12-07 17:57:54,412] INFO in server_improved: OPTIONS /activity/ - 200 - 0.015s
[2025-12-07 17:57:54,419] INFO in server_improved: OPTIONS /branches/ - 200 - 0.018s
[2025-12-07 17:57:54,424] INFO in server_improved: OPTIONS /users/ - 200 - 0.014s
[2025-12-07 17:57:54,429] INFO in server_improved: OPTIONS /activity/ - 200 - 0.002s
[2025-12-07 17:57:54,626] INFO in server_improved: GET /branches/ - 200 - 0.198s
[2025-12-07 17:57:54,629] INFO in server_improved: GET /users/ - 200 - 0.201s
[2025-12-07 17:57:54,658] INFO in server_improved: GET /financial/total/ - 200 - 0.226s
[2025-12-07 17:57:54,673] INFO in server_improved: GET /activity/ - 200 - 0.238s
[2025-12-07 17:57:54,689] INFO in server_improved: GET /branches/ - 200 - 0.043s
[2025-12-07 17:57:54,709] INFO in server_improved: GET /financial/total/ - 200 - 0.035s
[2025-12-07 17:57:54,728] INFO in server_improved: GET /users/ - 200 - 0.071s
[2025-12-07 17:57:54,738] INFO in server_improved: GET /activity/ - 200 - 0.010s
[2025-12-07 18:02:14,033] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.011s
[2025-12-07 18:02:14,049] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-07 18:07:14,030] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-07 18:07:14,038] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-07 18:07:14,054] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-10 04:00:34,136] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-10 04:01:42,141] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-10 04:05:04,113] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-10 04:07:59,337] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.017s
[2025-12-10 04:07:59,355] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.030s
[2025-12-10 04:07:59,382] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.006s
[2025-12-10 04:07:59,403] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.004s
[2025-12-10 04:07:59,907] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-10 04:08:00,319] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:08:00,333] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-10 04:09:51,647] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2025-12-10 04:09:51,651] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.005s
[2025-12-10 04:09:51,657] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:09:51,909] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-10 04:09:52,745] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:09:52,963] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:10:05,922] INFO in server_improved: GET /check-initialization/ - 200 - 14.003s
[2025-12-10 04:10:06,072] INFO in server_improved: GET /check-initialization/ - 200 - 0.140s
[2025-12-10 04:14:51,588] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-10 04:14:51,598] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:19:51,797] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.001s
[2025-12-10 04:19:51,824] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:19:51,901] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-10 04:19:51,935] INFO in server_improved: GET /reminders/ - 404 - 0.021s
[2025-12-10 04:23:59,892] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2025-12-10 04:23:59,895] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-12-10 04:23:59,929] INFO in server_improved: GET /check-initialization/ - 200 - 0.031s
[2025-12-10 04:23:59,942] INFO in server_improved: GET /check-initialization/ - 200 - 0.009s
[2025-12-10 04:24:50,219] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-10 04:24:50,272] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:24:50,344] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-10 04:24:50,352] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-10 04:30:23,112] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-10 04:30:23,115] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-10 04:30:23,145] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:30:23,570] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-10 04:30:23,576] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-10 04:30:23,581] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-10 04:30:39,843] INFO in server_improved: GET /check-initialization/ - 200 - 0.038s
[2025-12-10 04:30:39,866] INFO in server_improved: GET /check-initialization/ - 200 - 0.012s
[2025-12-10 04:33:58,219] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-12-10 04:33:59,884] INFO in server_improved: POST /login/ - 200 - 1.636s
[2025-12-10 04:34:06,055] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-10 04:34:06,073] INFO in server_improved: OPTIONS /users/ - 200 - 0.019s
[2025-12-10 04:34:06,097] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.004s
[2025-12-10 04:34:06,188] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.094s
[2025-12-10 04:34:06,190] INFO in server_improved: OPTIONS /activity/ - 200 - 0.096s
[2025-12-10 04:34:06,206] INFO in server_improved: OPTIONS /activity/ - 200 - 0.111s
[2025-12-10 04:34:06,206] INFO in server_improved: OPTIONS /branches/ - 200 - 0.111s
[2025-12-10 04:34:06,206] INFO in server_improved: OPTIONS /users/ - 200 - 0.016s
[2025-12-10 04:34:07,913] INFO in server_improved: GET /branches/ - 200 - 1.532s
[2025-12-10 04:34:08,330] INFO in server_improved: GET /branches/ - 200 - 0.114s
[2025-12-10 04:34:09,904] INFO in server_improved: GET /financial/total/ - 200 - 3.522s
[2025-12-10 04:34:09,978] INFO in server_improved: GET /activity/ - 200 - 3.266s
[2025-12-10 04:34:10,176] INFO in server_improved: GET /financial/total/ - 200 - 0.240s
[2025-12-10 04:34:10,207] INFO in server_improved: GET /activity/ - 200 - 0.105s
[2025-12-10 04:34:10,224] INFO in server_improved: GET /users/ - 200 - 3.843s
[2025-12-10 04:34:10,389] INFO in server_improved: GET /users/ - 200 - 0.133s
[2025-12-10 04:35:35,800] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.006s
[2025-12-10 04:35:35,811] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:40:36,782] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-10 04:40:36,791] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:40:36,852] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-10 04:40:36,861] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:44:56,157] INFO in server_improved: OPTIONS /api/v1/health/system - 200 - 0.001s
[2025-12-10 04:44:56,162] INFO in server_improved: GET /api/v1/health/system - 404 - 0.002s
[2025-12-10 04:44:56,168] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:44:56,189] INFO in server_improved: GET /api/v1/health/system - 404 - 0.010s
[2025-12-10 04:44:56,193] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.004s
[2025-12-10 04:44:56,306] INFO in server_improved: OPTIONS /health/system - 200 - 0.001s
[2025-12-10 04:44:56,309] INFO in server_improved: GET /health/system - 404 - 0.000s
[2025-12-10 04:44:56,445] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:44:56,605] INFO in server_improved: GET /health/system - 404 - 0.007s
[2025-12-10 04:44:56,745] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:45:15,670] INFO in server_improved: GET /api/v1/health/system - 404 - 0.003s
[2025-12-10 04:45:15,684] INFO in server_improved: GET /health/system - 404 - 0.007s
[2025-12-10 04:45:17,509] INFO in server_improved: GET /api/v1/health/system - 404 - 0.000s
[2025-12-10 04:45:17,521] INFO in server_improved: GET /health/system - 404 - 0.000s
[2025-12-10 04:45:34,712] INFO in server_improved: GET /api/v1/health/system - 404 - 0.000s
[2025-12-10 04:45:34,904] INFO in server_improved: GET /health/system - 404 - 0.000s
[2025-12-10 04:45:36,506] INFO in server_improved: GET /api/v1/health/system - 404 - 0.004s
[2025-12-10 04:45:36,609] INFO in server_improved: GET /health/system - 404 - 0.000s
[2025-12-10 04:45:37,361] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:45:37,479] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-10 04:45:37,548] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:45:37,620] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 04:51:26,830] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-10 04:51:26,836] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-10 04:51:26,851] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-10 04:51:26,858] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-10 04:55:37,816] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.010s
[2025-12-10 04:55:37,826] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 05:00:38,135] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.031s
[2025-12-10 05:00:38,260] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-10 05:05:37,804] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-10 05:05:37,814] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.007s
[2025-12-10 05:05:37,822] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.009s
[2025-12-10 05:05:37,824] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-10 05:10:37,790] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.011s
[2025-12-10 05:10:37,810] INFO in server_improved: GET /reminders/ - 404 - 0.006s
[2025-12-15 08:40:43,228] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-15 08:41:06,320] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-15 08:43:51,503] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.013s
[2025-12-15 08:43:52,127] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.639s
[2025-12-15 08:43:52,930] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.008s
[2025-12-15 08:43:53,488] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 08:43:53,897] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-15 08:43:53,980] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-15 08:43:54,646] INFO in server_improved: GET /reminders/ - 404 - 0.002s
[2025-12-15 08:44:05,333] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2025-12-15 08:44:05,337] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2025-12-15 08:44:05,339] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-15 08:44:05,528] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-15 08:44:05,603] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 08:44:05,973] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 08:44:06,039] INFO in server_improved: GET /check-initialization/ - 200 - 0.701s
[2025-12-15 08:44:06,054] INFO in server_improved: GET /check-initialization/ - 200 - 0.008s
[2025-12-15 08:44:09,950] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2025-12-15 08:44:11,441] INFO in server_improved: POST /login/ - 200 - 1.487s
[2025-12-15 08:44:22,279] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-12-15 08:44:22,283] INFO in server_improved: OPTIONS /users/ - 200 - 0.005s
[2025-12-15 08:44:22,285] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.006s
[2025-12-15 08:44:22,288] INFO in server_improved: OPTIONS /activity/ - 200 - 0.007s
[2025-12-15 08:44:22,293] INFO in server_improved: OPTIONS /branches/ - 200 - 0.012s
[2025-12-15 08:44:22,295] INFO in server_improved: OPTIONS /users/ - 200 - 0.013s
[2025-12-15 08:44:22,296] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-15 08:44:22,968] ERROR in base_events: Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Program Files\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Program Files\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
[2025-12-15 08:44:22,979] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.010s
[2025-12-15 08:44:22,979] INFO in server_improved: OPTIONS /activity/ - 200 - 0.003s
[2025-12-15 08:44:23,411] INFO in server_improved: GET /financial/total/ - 200 - 0.422s
[2025-12-15 08:44:23,545] INFO in server_improved: GET /financial/total/ - 200 - 0.029s
[2025-12-15 08:44:23,611] INFO in server_improved: GET /branches/ - 200 - 0.633s
[2025-12-15 08:44:23,694] INFO in server_improved: GET /branches/ - 200 - 0.040s
[2025-12-15 08:44:24,121] INFO in server_improved: GET /activity/ - 200 - 1.119s
[2025-12-15 08:44:24,141] INFO in server_improved: GET /users/ - 200 - 1.162s
[2025-12-15 08:44:24,256] INFO in server_improved: GET /users/ - 200 - 0.076s
[2025-12-15 08:44:24,298] INFO in server_improved: GET /activity/ - 200 - 0.138s
[2025-12-15 08:46:11,297] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.000s
[2025-12-15 08:46:11,411] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.114s
[2025-12-15 08:46:11,494] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.197s
[2025-12-15 08:46:11,510] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.100s
[2025-12-15 08:46:11,510] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.000s
[2025-12-15 08:46:11,558] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.000s
[2025-12-15 08:46:11,593] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.005s
[2025-12-15 08:46:11,636] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.043s
[2025-12-15 08:46:11,651] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.000s
[2025-12-15 08:46:11,668] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.017s
[2025-12-15 08:46:11,668] INFO in server_improved: GET /audit/logs - 404 - 0.000s
[2025-12-15 08:46:11,695] INFO in server_improved: GET /audit/stats - 404 - 0.002s
[2025-12-15 08:46:11,723] INFO in server_improved: GET /audit/logs - 404 - 0.001s
[2025-12-15 08:46:11,734] INFO in server_improved: GET /audit/stats - 404 - 0.000s
[2025-12-15 08:47:22,321] INFO in server_improved: GET /branches/ - 200 - 0.158s
[2025-12-15 08:47:22,378] INFO in server_improved: GET /users/ - 200 - 0.209s
[2025-12-15 08:47:22,414] INFO in server_improved: GET /activity/ - 200 - 0.244s
[2025-12-15 08:47:22,473] INFO in server_improved: GET /financial/total/ - 200 - 0.303s
[2025-12-15 08:47:22,570] INFO in server_improved: GET /branches/ - 200 - 0.047s
[2025-12-15 08:47:22,713] INFO in server_improved: GET /users/ - 200 - 0.189s
[2025-12-15 08:47:22,755] INFO in server_improved: GET /activity/ - 200 - 0.219s
[2025-12-15 08:47:22,763] INFO in server_improved: GET /financial/total/ - 200 - 0.052s
[2025-12-15 08:49:06,017] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 08:49:06,038] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 11:42:50,031] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.003s
[2025-12-15 11:42:50,036] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-15 11:42:50,075] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-15 11:42:50,080] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 11:44:06,732] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 11:44:06,742] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 11:49:05,987] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 11:49:06,000] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 11:54:05,992] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-15 11:54:06,002] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 11:54:06,010] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-15 11:54:06,015] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 11:59:06,003] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 11:59:06,025] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:04:36,032] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.041s
[2025-12-15 12:04:36,032] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 12:04:36,053] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.007s
[2025-12-15 12:04:36,058] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 12:09:35,978] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 12:09:36,051] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 12:10:46,377] INFO in server_improved: OPTIONS /users/ - 200 - 0.022s
[2025-12-15 12:10:46,391] INFO in server_improved: OPTIONS /branches/ - 200 - 0.033s
[2025-12-15 12:10:46,443] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.070s
[2025-12-15 12:10:46,478] INFO in server_improved: OPTIONS /activity/ - 200 - 0.086s
[2025-12-15 12:10:46,527] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.086s
[2025-12-15 12:10:46,842] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.383s
[2025-12-15 12:10:46,916] INFO in server_improved: OPTIONS /branches/ - 200 - 0.064s
[2025-12-15 12:10:47,839] INFO in server_improved: OPTIONS /users/ - 200 - 0.984s
[2025-12-15 12:10:47,961] INFO in server_improved: OPTIONS /activity/ - 200 - 1.100s
[2025-12-15 12:10:48,241] INFO in server_improved: OPTIONS /financial/total/ - 200 - 1.354s
[2025-12-15 12:10:48,546] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.209s
[2025-12-15 12:10:48,572] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.065s
[2025-12-15 12:10:51,006] INFO in server_improved: GET /branches/ - 200 - 2.110s
[2025-12-15 12:10:51,018] INFO in server_improved: GET /branches/ - 200 - 2.693s
[2025-12-15 12:10:51,024] INFO in server_improved: GET /activity/ - 200 - 2.511s
[2025-12-15 12:10:51,028] INFO in server_improved: GET /financial/total/ - 200 - 2.464s
[2025-12-15 12:10:51,087] INFO in server_improved: GET /reminders/ - 404 - 0.010s
[2025-12-15 12:10:51,098] INFO in server_improved: GET /users/ - 200 - 2.094s
[2025-12-15 12:10:51,121] INFO in server_improved: GET /users/ - 200 - 4.205s
[2025-12-15 12:10:51,171] INFO in server_improved: GET /reminders/ - 404 - 0.030s
[2025-12-15 12:10:51,226] INFO in server_improved: GET /activity/ - 200 - 0.165s
[2025-12-15 12:10:51,278] INFO in server_improved: GET /financial/total/ - 200 - 0.217s
[2025-12-15 12:15:21,616] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.004s
[2025-12-15 12:15:23,055] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.122s
[2025-12-15 12:15:23,058] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 1.443s
[2025-12-15 12:15:23,060] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 1.327s
[2025-12-15 12:15:23,092] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.023s
[2025-12-15 12:15:23,110] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.018s
[2025-12-15 12:15:23,154] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.002s
[2025-12-15 12:15:23,333] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.000s
[2025-12-15 12:15:23,488] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.155s
[2025-12-15 12:15:23,488] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.000s
[2025-12-15 12:15:23,866] INFO in server_improved: GET /audit/stats - 404 - 0.001s
[2025-12-15 12:15:23,931] INFO in server_improved: GET /audit/logs - 404 - 0.005s
[2025-12-15 12:15:23,958] INFO in server_improved: GET /audit/stats - 404 - 0.000s
[2025-12-15 12:15:24,097] INFO in server_improved: GET /audit/logs - 404 - 0.001s
[2025-12-15 12:15:47,045] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-15 12:15:47,049] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-15 12:15:47,065] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:20:47,037] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-15 12:20:47,057] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.004s
[2025-12-15 12:20:47,080] INFO in server_improved: GET /reminders/ - 404 - 0.003s
[2025-12-15 12:25:47,013] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.020s
[2025-12-15 12:25:47,030] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:28:14,006] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-15 12:29:32,110] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.000s
[2025-12-15 12:29:32,117] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.007s
[2025-12-15 12:29:32,120] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.010s
[2025-12-15 12:29:32,124] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.008s
[2025-12-15 12:29:32,126] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.007s
[2025-12-15 12:29:32,137] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.008s
[2025-12-15 12:29:32,141] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.012s
[2025-12-15 12:29:32,155] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.005s
[2025-12-15 12:29:32,160] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.007s
[2025-12-15 12:29:32,166] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.011s
[2025-12-15 12:29:32,304] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-15 12:29:32,369] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.010s
[2025-12-15 12:29:32,444] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.085s
[2025-12-15 12:29:32,472] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.113s
[2025-12-15 12:29:32,520] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.151s
[2025-12-15 12:29:32,554] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.005s
[2025-12-15 12:29:32,590] INFO in server_improved: GET /reminders/ - 404 - 0.036s
[2025-12-15 12:29:32,619] INFO in server_improved: GET /audit/stats - 404 - 0.023s
[2025-12-15 12:29:32,641] INFO in server_improved: GET /audit/logs - 404 - 0.052s
[2025-12-15 12:29:32,711] INFO in server_improved: GET /audit/stats - 404 - 0.050s
[2025-12-15 12:29:32,737] INFO in server_improved: GET /reminders/ - 404 - 0.041s
[2025-12-15 12:29:32,745] INFO in server_improved: GET /audit/logs - 404 - 0.007s
[2025-12-15 12:30:54,576] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-15 12:30:54,589] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.001s
[2025-12-15 12:30:54,591] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.003s
[2025-12-15 12:30:54,598] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.003s
[2025-12-15 12:30:54,607] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.008s
[2025-12-15 12:30:54,618] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.003s
[2025-12-15 12:30:54,624] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.010s
[2025-12-15 12:30:54,663] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-15 12:30:55,201] INFO in server_improved: GET /audit/logs - 404 - 0.000s
[2025-12-15 12:30:55,206] INFO in server_improved: GET /audit/stats - 404 - 0.000s
[2025-12-15 12:30:55,212] INFO in server_improved: GET /reminders/ - 404 - 0.006s
[2025-12-15 12:30:55,212] INFO in server_improved: GET /audit/logs - 404 - 0.000s
[2025-12-15 12:30:55,257] INFO in server_improved: GET /audit/stats - 404 - 0.006s
[2025-12-15 12:30:55,311] INFO in server_improved: GET /reminders/ - 404 - 0.060s
[2025-12-15 12:31:16,601] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-15 12:31:16,604] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 12:31:16,722] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 12:31:16,738] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:32:55,263] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.004s
[2025-12-15 12:32:55,273] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.000s
[2025-12-15 12:32:55,313] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.003s
[2025-12-15 12:32:55,410] INFO in server_improved: GET /audit/logs - 404 - 0.097s
[2025-12-15 12:32:55,491] INFO in server_improved: GET /audit/stats - 404 - 0.016s
[2025-12-15 12:32:55,543] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.054s
[2025-12-15 12:32:55,605] INFO in server_improved: GET /audit/logs - 404 - 0.028s
[2025-12-15 12:32:55,650] INFO in server_improved: GET /audit/stats - 404 - 0.007s
[2025-12-15 12:35:54,984] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 12:35:55,000] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:40:54,990] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.005s
[2025-12-15 12:40:54,990] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 12:40:55,006] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-15 12:40:55,014] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:45:54,988] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 12:45:55,008] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-15 12:50:54,988] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-15 12:50:55,008] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-15 12:55:57,360] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-15 12:57:00,119] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.022s
[2025-12-15 12:57:00,130] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.028s
[2025-12-15 12:57:00,136] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.032s
[2025-12-15 12:57:00,195] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.066s
[2025-12-15 12:57:00,525] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.392s
[2025-12-15 12:57:00,727] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.534s
[2025-12-15 12:57:00,880] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.046s
[2025-12-15 12:57:01,012] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.134s
[2025-12-15 12:57:01,131] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.251s
[2025-12-15 12:57:01,280] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.006s
[2025-12-15 12:57:01,311] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.036s
[2025-12-15 12:57:01,368] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.002s
[2025-12-15 12:57:01,725] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.001s
[2025-12-15 12:57:01,733] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.004s
[2025-12-15 12:57:01,735] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.006s
[2025-12-15 12:57:01,746] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.015s
[2025-12-15 12:57:01,758] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.027s
[2025-12-15 12:57:01,764] INFO in server_improved: GET /reminders/ - 404 - 0.031s
[2025-12-15 12:57:01,769] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.018s
[2025-12-15 12:57:01,815] INFO in server_improved: GET /audit/logs - 404 - 0.007s
[2025-12-15 12:57:01,825] INFO in server_improved: GET /audit/stats - 404 - 0.015s
[2025-12-15 12:57:01,833] INFO in server_improved: GET /reminders/ - 404 - 0.008s
[2025-12-15 12:57:01,850] INFO in server_improved: GET /audit/logs - 404 - 0.002s
[2025-12-15 12:57:01,853] INFO in server_improved: GET /audit/stats - 404 - 0.003s
[2025-12-15 13:08:46,350] INFO in main: Audit middleware enabled
[2025-12-15 13:08:46,356] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:08:46,356] INFO in main: Core models imported successfully
[2025-12-15 13:08:46,356] INFO in main: AuditLog model imported successfully
[2025-12-15 13:08:49,754] INFO in main: Audit middleware enabled
[2025-12-15 13:08:49,760] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:08:49,760] INFO in main: Core models imported successfully
[2025-12-15 13:08:49,760] INFO in main: AuditLog model imported successfully
[2025-12-15 13:10:42,976] INFO in main: Audit middleware enabled
[2025-12-15 13:10:42,976] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:10:42,976] INFO in main: Core models imported successfully
[2025-12-15 13:10:42,976] INFO in main: AuditLog model imported successfully
[2025-12-15 13:16:45,243] INFO in main: Audit middleware enabled
[2025-12-15 13:16:45,243] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:16:45,243] INFO in main: Core models imported successfully
[2025-12-15 13:16:45,243] INFO in main: AuditLog model imported successfully
[2025-12-15 13:16:47,548] INFO in main: Audit router loaded successfully
[2025-12-15 13:16:47,576] WARNING in main: Reminders router not available
[2025-12-15 13:16:47,591] WARNING in main: Backup router not available
[2025-12-15 13:16:47,591] INFO in main: All routers loaded successfully
[2025-12-15 13:16:47,831] INFO in main: Old server_improved loaded for backward compatibility
[2025-12-15 13:16:47,864] INFO in main: Application startup
[2025-12-15 13:16:47,864] INFO in main: Environment: development
[2025-12-15 13:16:47,864] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:18:54,119] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:18:54,120] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:18:59,220] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:03,287] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:07,353] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:11,411] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:15,492] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:15,492] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:15,507] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:15,507] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:15,507] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:15,523] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:15,539] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 20.364s
[2025-12-15 13:19:15,539] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.015s
[2025-12-15 13:19:15,539] INFO in __init__: OPTIONS /api/v1/audit/stats - Status: 200 - Time: 0.015s
[2025-12-15 13:19:15,539] INFO in __init__: OPTIONS /api/v1/audit/logs - Status: 200 - Time: 0.015s
[2025-12-15 13:19:15,539] INFO in __init__: OPTIONS /api/v1/audit/logs - Status: 200 - Time: 0.015s
[2025-12-15 13:19:15,539] INFO in __init__: OPTIONS /api/v1/audit/stats - Status: 200 - Time: 0.015s
[2025-12-15 13:19:19,712] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:19,714] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:23,793] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:27,868] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:31,951] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:36,012] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:36,014] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:36,016] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:36,020] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:36,023] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:40,092] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:19:40,100] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:40,103] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 20.384s
[2025-12-15 13:19:40,111] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:40,113] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 4.076s
[2025-12-15 13:19:40,123] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:19:40,738] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 51, in get_audit_logs
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 51, in get_audit_logs
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-15 13:19:42,555] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 104, in get_audit_stats
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 104, in get_audit_stats
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-15 13:19:42,793] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 51, in get_audit_logs
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 51, in get_audit_logs
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-15 13:19:42,990] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 104, in get_audit_stats
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 104, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 71, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 104, in get_audit_stats
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-15 13:23:00,251] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:00,251] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:04,958] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:05,186] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:09,859] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:14,391] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:18,495] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:22,579] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:22,581] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:22,581] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:22,589] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:22,592] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:22,605] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 22.329s
[2025-12-15 13:23:22,607] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 17.414s
[2025-12-15 13:23:22,615] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.011s
[2025-12-15 13:23:22,620] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.016s
[2025-12-15 13:23:22,621] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.016s
[2025-12-15 13:23:22,625] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.020s
[2025-12-15 13:23:26,896] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:26,896] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:31,040] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:31,048] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:31,053] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 4.148s
[2025-12-15 13:23:31,053] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.001s
[2025-12-15 13:23:31,158] INFO in main: Application shutdown
[2025-12-15 13:23:40,675] INFO in main: Audit middleware enabled
[2025-12-15 13:23:40,675] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:23:40,675] INFO in main: Core models imported successfully
[2025-12-15 13:23:40,685] INFO in main: AuditLog model imported successfully
[2025-12-15 13:23:41,889] INFO in main: Audit router loaded successfully
[2025-12-15 13:23:41,893] WARNING in main: Reminders router not available
[2025-12-15 13:23:41,898] WARNING in main: Backup router not available
[2025-12-15 13:23:41,900] INFO in main: All routers loaded successfully
[2025-12-15 13:23:42,041] INFO in main: Old server_improved loaded for backward compatibility
[2025-12-15 13:23:42,041] INFO in main: Application startup
[2025-12-15 13:23:42,041] INFO in main: Environment: development
[2025-12-15 13:23:42,047] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:23:42,065] INFO in main: Application shutdown
[2025-12-15 13:23:44,868] INFO in main: Audit middleware enabled
[2025-12-15 13:23:44,868] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:23:44,869] INFO in main: Core models imported successfully
[2025-12-15 13:23:44,869] INFO in main: AuditLog model imported successfully
[2025-12-15 13:23:45,208] INFO in main: Audit router loaded successfully
[2025-12-15 13:23:45,213] WARNING in main: Reminders router not available
[2025-12-15 13:23:45,216] WARNING in main: Backup router not available
[2025-12-15 13:23:45,216] INFO in main: All routers loaded successfully
[2025-12-15 13:23:45,363] INFO in main: Old server_improved loaded for backward compatibility
[2025-12-15 13:23:45,375] INFO in main: Application startup
[2025-12-15 13:23:45,375] INFO in main: Environment: development
[2025-12-15 13:23:45,376] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:23:54,047] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:54,048] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:54,064] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.002s
[2025-12-15 13:23:54,064] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:58,169] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:23:58,172] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:23:58,172] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.000s
[2025-12-15 13:24:02,212] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:02,214] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:02,226] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.012s
[2025-12-15 13:24:02,226] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:29,013] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:29,013] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:33,298] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:38,273] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:42,467] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:46,539] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:46,547] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:46,550] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:46,566] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:46,574] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:46,585] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 17.554s
[2025-12-15 13:24:46,593] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:50,658] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:50,659] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:50,659] INFO in __init__: GET /activity/ - Status: 404 - Time: 4.075s
[2025-12-15 13:24:50,668] INFO in __init__: GET /users/ - Status: 404 - Time: 4.084s
[2025-12-15 13:24:50,669] INFO in __init__: GET /financial/total/ - Status: 404 - Time: 4.085s
[2025-12-15 13:24:50,671] INFO in __init__: GET /branches/ - Status: 404 - Time: 4.086s
[2025-12-15 13:24:50,677] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:50,684] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:50,690] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:50,695] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:50,761] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.102s
[2025-12-15 13:24:54,799] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:24:54,801] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:54,813] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:24:58,882] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:25:02,945] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:25:07,003] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:25:11,067] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:25:11,070] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,072] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,083] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,083] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,097] INFO in __init__: GET /branches/ - Status: 404 - Time: 16.280s
[2025-12-15 13:25:11,105] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,110] INFO in __init__: GET /users/ - Status: 404 - Time: 0.019s
[2025-12-15 13:25:11,111] INFO in __init__: GET /financial/total/ - Status: 404 - Time: 0.019s
[2025-12-15 13:25:11,111] INFO in __init__: GET /activity/ - Status: 404 - Time: 0.021s
[2025-12-15 13:25:11,111] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.021s
[2025-12-15 13:25:11,114] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,117] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,120] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:11,123] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:25:12,181] INFO in main: Application shutdown
[2025-12-15 13:38:38,053] INFO in main: Audit middleware enabled
[2025-12-15 13:38:38,066] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:38:38,066] INFO in main: Core models imported successfully
[2025-12-15 13:38:38,066] INFO in main: AuditLog model imported successfully
[2025-12-15 13:47:57,911] INFO in main: Audit middleware enabled
[2025-12-15 13:47:57,931] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:47:57,932] INFO in main: Core models imported successfully
[2025-12-15 13:47:57,933] INFO in main: AuditLog model imported successfully
[2025-12-15 13:50:16,443] INFO in main: Audit middleware enabled
[2025-12-15 13:50:16,444] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:50:16,444] INFO in main: Core models imported successfully
[2025-12-15 13:50:16,444] INFO in main: AuditLog model imported successfully
[2025-12-15 13:50:16,850] INFO in main: Audit router loaded successfully
[2025-12-15 13:50:16,863] WARNING in main: Reminders router not available
[2025-12-15 13:50:16,889] WARNING in main: Backup router not available
[2025-12-15 13:50:16,890] INFO in main: All routers loaded successfully
[2025-12-15 13:50:17,052] INFO in main: Loaded 46 legacy routes from server_improved for backward compatibility
[2025-12-15 13:50:17,080] INFO in main: Application startup
[2025-12-15 13:50:17,080] INFO in main: Environment: development
[2025-12-15 13:50:17,080] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:52:47,523] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:52:47,527] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:52:51,829] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:52:55,900] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:52:59,948] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:04,029] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:08,100] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:08,102] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:08,106] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:08,106] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:08,119] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:08,130] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:08,189] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 20.409s
[2025-12-15 13:53:08,189] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.043s
[2025-12-15 13:53:08,189] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.041s
[2025-12-15 13:53:08,189] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.038s
[2025-12-15 13:53:08,189] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.038s
[2025-12-15 13:53:08,195] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.044s
[2025-12-15 13:53:12,299] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:16,376] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:20,440] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:24,501] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:24,503] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:24,504] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:24,545] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:24,551] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:28,843] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:32,909] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:32,912] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:32,918] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:36,976] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:41,018] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:53:41,066] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:41,066] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:41,077] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 16.503s
[2025-12-15 13:53:41,077] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 16.502s
[2025-12-15 13:53:41,077] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 16.502s
[2025-12-15 13:53:41,077] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 16.502s
[2025-12-15 13:53:41,086] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 8.164s
[2025-12-15 13:53:41,087] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 8.164s
[2025-12-15 13:53:41,099] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:41,100] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:53:41,508] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 0.432s
[2025-12-15 13:53:41,516] INFO in __init__: GET /activity/ - Status: 200 - Time: 0.439s
[2025-12-15 13:54:02,794] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:02,797] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:06,881] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:10,965] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:15,029] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:19,107] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:19,108] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:19,114] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:19,123] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:19,128] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:19,140] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 16.333s
[2025-12-15 13:54:19,156] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:23,222] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:23,225] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:23,233] INFO in __init__: GET /branches/ - Status: 405 - Time: 4.094s
[2025-12-15 13:54:23,236] INFO in __init__: GET /users/ - Status: 405 - Time: 4.096s
[2025-12-15 13:54:23,242] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:23,246] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:23,275] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.042s
[2025-12-15 13:54:27,343] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:27,353] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:27,367] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:31,434] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:35,494] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:35,496] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:35,499] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:35,502] INFO in __init__: GET /branches/ - Status: 405 - Time: 8.133s
[2025-12-15 13:54:35,510] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:39,573] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:43,645] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:43,647] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:43,650] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:43,653] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 24.515s
[2025-12-15 13:54:43,655] INFO in __init__: GET /users/ - Status: 405 - Time: 8.153s
[2025-12-15 13:54:43,658] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:43,662] INFO in __init__: GET /activity/ - Status: 200 - Time: 24.523s
[2025-12-15 13:54:43,666] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.011s
[2025-12-15 13:54:43,687] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 8.184s
[2025-12-15 13:54:43,699] INFO in __init__: GET /activity/ - Status: 200 - Time: 0.044s
[2025-12-15 13:54:47,772] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:54:47,773] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:54:47,789] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.004s
[2025-12-15 13:54:47,789] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:58:33,206] INFO in main: Application shutdown
[2025-12-15 13:58:47,401] INFO in main: Audit middleware enabled
[2025-12-15 13:58:47,401] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:58:47,401] INFO in main: Core models imported successfully
[2025-12-15 13:58:47,401] INFO in main: AuditLog model imported successfully
[2025-12-15 13:58:48,402] INFO in main: Audit router loaded successfully
[2025-12-15 13:58:48,419] WARNING in main: Reminders router not available
[2025-12-15 13:58:48,443] WARNING in main: Backup router not available
[2025-12-15 13:58:48,451] INFO in main: All routers loaded successfully
[2025-12-15 13:58:49,259] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-15 13:58:49,357] INFO in main: Application startup
[2025-12-15 13:58:49,357] INFO in main: Environment: development
[2025-12-15 13:58:49,383] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:58:49,414] INFO in main: Application shutdown
[2025-12-15 13:58:58,152] INFO in main: Audit middleware enabled
[2025-12-15 13:58:58,153] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:58:58,153] INFO in main: Core models imported successfully
[2025-12-15 13:58:58,153] INFO in main: AuditLog model imported successfully
[2025-12-15 13:58:59,019] INFO in main: Audit router loaded successfully
[2025-12-15 13:58:59,019] WARNING in main: Reminders router not available
[2025-12-15 13:58:59,026] WARNING in main: Backup router not available
[2025-12-15 13:58:59,026] INFO in main: All routers loaded successfully
[2025-12-15 13:58:59,220] INFO in main: Mounted server_improved app for backward compatibility
[2025-12-15 13:58:59,223] INFO in main: Application startup
[2025-12-15 13:58:59,223] INFO in main: Environment: development
[2025-12-15 13:58:59,225] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:59:04,001] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:59:04,023] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:59:04,312] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-15 13:59:04,317] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.040s
[2025-12-15 13:59:04,317] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:59:04,580] INFO in main: Application shutdown
[2025-12-15 13:59:09,208] INFO in main: Audit middleware enabled
[2025-12-15 13:59:09,208] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:59:09,208] INFO in main: Core models imported successfully
[2025-12-15 13:59:09,208] INFO in main: AuditLog model imported successfully
[2025-12-15 13:59:09,819] INFO in main: Audit router loaded successfully
[2025-12-15 13:59:09,822] WARNING in main: Reminders router not available
[2025-12-15 13:59:09,822] WARNING in main: Backup router not available
[2025-12-15 13:59:09,825] INFO in main: All routers loaded successfully
[2025-12-15 13:59:10,126] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-15 13:59:10,126] INFO in main: Application startup
[2025-12-15 13:59:10,126] INFO in main: Environment: development
[2025-12-15 13:59:10,126] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:59:14,229] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 13:59:14,230] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:59:14,268] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-15 13:59:14,276] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 13:59:35,994] INFO in main: Application shutdown
[2025-12-15 13:59:40,522] INFO in main: Audit middleware enabled
[2025-12-15 13:59:40,525] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:59:40,525] INFO in main: Core models imported successfully
[2025-12-15 13:59:40,525] INFO in main: AuditLog model imported successfully
[2025-12-15 13:59:41,103] INFO in main: Audit router loaded successfully
[2025-12-15 13:59:41,109] WARNING in main: Reminders router not available
[2025-12-15 13:59:41,112] WARNING in main: Backup router not available
[2025-12-15 13:59:41,112] INFO in main: All routers loaded successfully
[2025-12-15 13:59:41,311] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-15 13:59:41,316] INFO in main: Application startup
[2025-12-15 13:59:41,316] INFO in main: Environment: development
[2025-12-15 13:59:41,316] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 13:59:47,358] INFO in main: Application shutdown
[2025-12-15 13:59:51,555] INFO in main: Audit middleware enabled
[2025-12-15 13:59:51,555] INFO in main: Using Redis-based rate limiting
[2025-12-15 13:59:51,555] INFO in main: Core models imported successfully
[2025-12-15 13:59:51,555] INFO in main: AuditLog model imported successfully
[2025-12-15 13:59:51,907] INFO in main: Audit router loaded successfully
[2025-12-15 13:59:51,915] WARNING in main: Reminders router not available
[2025-12-15 13:59:51,916] WARNING in main: Backup router not available
[2025-12-15 13:59:51,916] INFO in main: All routers loaded successfully
[2025-12-15 13:59:52,059] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-15 13:59:52,059] INFO in main: Application startup
[2025-12-15 13:59:52,069] INFO in main: Environment: development
[2025-12-15 13:59:52,070] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 14:04:03,072] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:04:03,078] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:04:03,113] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.001s
[2025-12-15 14:04:07,194] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:04:07,197] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:04:07,198] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.000s
[2025-12-15 14:04:07,206] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:04:11,283] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:04:11,284] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:04:11,286] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-15 14:04:11,295] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:05:41,707] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:05:41,707] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:05:45,779] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:05:49,854] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:05:53,925] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:05:57,987] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:02,057] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:02,059] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:02,062] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:02,062] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:02,067] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:02,073] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:02,076] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 20.363s
[2025-12-15 14:06:02,079] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.005s
[2025-12-15 14:06:02,079] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.005s
[2025-12-15 14:06:02,079] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.003s
[2025-12-15 14:06:02,079] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.003s
[2025-12-15 14:06:02,079] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.003s
[2025-12-15 14:06:06,164] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:06,167] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:10,227] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:14,278] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:18,330] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:22,400] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:26,472] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:26,473] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:26,478] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:26,480] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:26,485] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:26,492] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:26,514] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 20.343s
[2025-12-15 14:06:30,607] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:35,000] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:39,504] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:39,510] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:39,513] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:39,515] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:39,524] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 13.021s
[2025-12-15 14:06:39,524] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 13.019s
[2025-12-15 14:06:39,524] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 13.019s
[2025-12-15 14:06:39,526] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 13.021s
[2025-12-15 14:06:39,533] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:43,631] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:47,691] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:47,695] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:47,695] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:47,715] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 8.193s
[2025-12-15 14:06:51,766] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:06:51,768] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:51,857] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:06:55,982] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:00,055] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:00,357] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 12.645s
[2025-12-15 14:07:00,537] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:00,882] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:01,275] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:06,707] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:06,718] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:06,740] INFO in __init__: GET /branches/ - Status: 200 - Time: 40.237s
[2025-12-15 14:07:11,124] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:11,124] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:11,128] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 4.401s
[2025-12-15 14:07:11,132] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:11,139] INFO in __init__: GET /users/ - Status: 200 - Time: 31.617s
[2025-12-15 14:07:15,237] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:19,257] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:23,323] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:27,400] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:27,402] INFO in __init__: GET /activity/ - Status: 200 - Time: 47.880s
[2025-12-15 14:07:27,404] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:27,406] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:27,410] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:27,411] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:27,420] INFO in __init__: GET /branches/ - Status: 200 - Time: 39.708s
[2025-12-15 14:07:27,425] INFO in __init__: GET /users/ - Status: 200 - Time: 35.564s
[2025-12-15 14:07:27,435] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.015s
[2025-12-15 14:07:27,442] INFO in __init__: GET /activity/ - Status: 200 - Time: 26.287s
[2025-12-15 14:07:27,443] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 26.288s
[2025-12-15 14:07:31,535] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:07:31,536] INFO in __init__: GET /branches/ - Status: 200 - Time: 20.406s
[2025-12-15 14:07:31,536] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:31,539] INFO in __init__: GET /activity/ - Status: 200 - Time: 4.119s
[2025-12-15 14:07:31,542] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.005s
[2025-12-15 14:07:31,544] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:07:31,547] INFO in __init__: GET /users/ - Status: 200 - Time: 4.127s
[2025-12-15 14:07:31,549] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 4.129s
[2025-12-15 14:09:33,113] INFO in main: Application shutdown
[2025-12-15 14:09:43,439] INFO in main: Audit middleware enabled
[2025-12-15 14:09:43,440] INFO in main: Using Redis-based rate limiting
[2025-12-15 14:09:43,440] INFO in main: Core models imported successfully
[2025-12-15 14:09:43,440] INFO in main: AuditLog model imported successfully
[2025-12-15 14:09:44,331] INFO in main: Audit router loaded successfully
[2025-12-15 14:09:44,344] WARNING in main: Reminders router not available
[2025-12-15 14:09:44,354] WARNING in main: Backup router not available
[2025-12-15 14:09:44,354] INFO in main: All routers loaded successfully
[2025-12-15 14:09:44,509] INFO in server_improved: Audit middleware enabled
[2025-12-15 14:09:44,509] INFO in server_improved: Using Redis-based rate limiting
[2025-12-15 14:09:45,073] ERROR in main: Error loading legacy endpoints from server_improved: name 'FastAPIRequestValidationError' is not defined
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\main.py", line 249, in <module>
    import server_improved
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 2943, in <module>
    "transaction_id": highest_profit_tx.id
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'FastAPIRequestValidationError' is not defined. Did you mean: 'RequestValidationError'?
[2025-12-15 14:09:45,258] INFO in main: Application startup
[2025-12-15 14:09:45,258] INFO in main: Environment: development
[2025-12-15 14:09:45,260] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 14:09:45,294] INFO in main: Application shutdown
[2025-12-15 14:09:49,940] INFO in main: Audit middleware enabled
[2025-12-15 14:09:49,940] INFO in main: Using Redis-based rate limiting
[2025-12-15 14:09:49,941] INFO in main: Core models imported successfully
[2025-12-15 14:09:49,943] INFO in main: AuditLog model imported successfully
[2025-12-15 14:09:50,506] INFO in main: Audit router loaded successfully
[2025-12-15 14:09:50,516] WARNING in main: Reminders router not available
[2025-12-15 14:09:50,516] WARNING in main: Backup router not available
[2025-12-15 14:09:50,520] INFO in main: All routers loaded successfully
[2025-12-15 14:09:50,615] INFO in server_improved: Audit middleware enabled
[2025-12-15 14:09:50,615] INFO in server_improved: Using Redis-based rate limiting
[2025-12-15 14:09:50,615] INFO in server_improved: Core models imported successfully
[2025-12-15 14:09:50,615] INFO in server_improved: AuditLog model imported successfully
[2025-12-15 14:09:50,785] ERROR in main: Error loading legacy endpoints from server_improved: name 'FastAPIRequestValidationError' is not defined
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\main.py", line 249, in <module>
    import server_improved
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 2968, in <module>
    @app.exception_handler(FastAPIRequestValidationError)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'FastAPIRequestValidationError' is not defined. Did you mean: 'RequestValidationError'?
[2025-12-15 14:09:50,826] INFO in main: Application startup
[2025-12-15 14:09:50,827] INFO in main: Environment: development
[2025-12-15 14:09:50,828] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 14:09:57,550] INFO in main: Application shutdown
[2025-12-15 14:10:02,362] INFO in main: Audit middleware enabled
[2025-12-15 14:10:02,362] INFO in main: Using Redis-based rate limiting
[2025-12-15 14:10:02,362] INFO in main: Core models imported successfully
[2025-12-15 14:10:02,362] INFO in main: AuditLog model imported successfully
[2025-12-15 14:10:02,759] INFO in main: Audit router loaded successfully
[2025-12-15 14:10:02,761] WARNING in main: Reminders router not available
[2025-12-15 14:10:02,762] WARNING in main: Backup router not available
[2025-12-15 14:10:02,762] INFO in main: All routers loaded successfully
[2025-12-15 14:10:02,842] INFO in server_improved: Audit middleware enabled
[2025-12-15 14:10:02,842] INFO in server_improved: Using Redis-based rate limiting
[2025-12-15 14:10:02,842] INFO in server_improved: Core models imported successfully
[2025-12-15 14:10:02,844] INFO in server_improved: AuditLog model imported successfully
[2025-12-15 14:10:03,009] INFO in main: Loaded 52 legacy routes from server_improved for backward compatibility
[2025-12-15 14:10:03,011] INFO in main: Application startup
[2025-12-15 14:10:03,012] INFO in main: Environment: development
[2025-12-15 14:10:03,012] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 14:10:06,752] INFO in main: Application shutdown
[2025-12-15 14:10:11,768] INFO in main: Audit middleware enabled
[2025-12-15 14:10:11,772] INFO in main: Using Redis-based rate limiting
[2025-12-15 14:10:11,775] INFO in main: Core models imported successfully
[2025-12-15 14:10:11,777] INFO in main: AuditLog model imported successfully
[2025-12-15 14:10:12,358] INFO in main: Audit router loaded successfully
[2025-12-15 14:10:12,364] WARNING in main: Reminders router not available
[2025-12-15 14:10:12,366] WARNING in main: Backup router not available
[2025-12-15 14:10:12,366] INFO in main: All routers loaded successfully
[2025-12-15 14:10:12,449] INFO in server_improved: Audit middleware enabled
[2025-12-15 14:10:12,451] INFO in server_improved: Using Redis-based rate limiting
[2025-12-15 14:10:12,451] INFO in server_improved: Core models imported successfully
[2025-12-15 14:10:12,453] INFO in server_improved: AuditLog model imported successfully
[2025-12-15 14:10:12,645] INFO in server_improved: Audit router loaded successfully
[2025-12-15 14:10:12,652] WARNING in server_improved: Reminders router not available
[2025-12-15 14:10:12,655] WARNING in server_improved: Backup router not available
[2025-12-15 14:10:12,655] INFO in server_improved: All routers loaded successfully
[2025-12-15 14:10:12,655] INFO in main: Loaded 83 legacy routes from server_improved for backward compatibility
[2025-12-15 14:10:12,658] INFO in main: Application startup
[2025-12-15 14:10:12,658] INFO in main: Environment: development
[2025-12-15 14:10:12,661] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 14:10:15,947] INFO in main: Application shutdown
[2025-12-15 14:31:35,704] INFO in server_improved: Audit middleware enabled
[2025-12-15 14:31:35,720] INFO in server_improved: Using Redis-based rate limiting
[2025-12-15 14:31:35,739] INFO in server_improved: Core models imported successfully
[2025-12-15 14:31:35,739] INFO in server_improved: AuditLog model imported successfully
[2025-12-15 14:31:37,341] INFO in server_improved: Audit router loaded successfully
[2025-12-15 14:31:37,350] WARNING in server_improved: Reminders router not available
[2025-12-15 14:31:37,372] WARNING in server_improved: Backup router not available
[2025-12-15 14:31:37,375] INFO in server_improved: All routers loaded successfully
[2025-12-15 14:31:37,398] INFO in server_improved: Application startup
[2025-12-15 14:31:37,398] INFO in server_improved: Environment: development
[2025-12-15 14:31:37,398] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-15 14:31:41,762] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:31:41,768] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:31:42,026] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.000s
[2025-12-15 14:31:42,037] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 4.357s
[2025-12-15 14:31:46,119] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:31:46,119] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:31:46,145] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.012s
[2025-12-15 14:31:46,152] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:31:46,161] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.114s
[2025-12-15 14:31:50,232] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:31:50,232] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:31:50,242] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.001s
[2025-12-15 14:31:50,248] INFO in server_improved: OPTIONS /reminders/ - 200 - 4.074s
[2025-12-15 14:32:11,867] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:11,869] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:16,228] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:20,585] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:24,677] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:28,745] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:32,838] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:32,841] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:32,862] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:32,877] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:33,215] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:33,447] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:33,498] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 21.617s
[2025-12-15 14:32:33,620] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 25.812s
[2025-12-15 14:32:33,717] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.188s
[2025-12-15 14:32:33,727] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.199s
[2025-12-15 14:32:34,015] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.485s
[2025-12-15 14:32:34,823] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 1.275s
[2025-12-15 14:32:34,824] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 1.275s
[2025-12-15 14:32:34,845] INFO in server_improved: OPTIONS /branches/ - 200 - 22.958s
[2025-12-15 14:32:35,009] INFO in server_improved: OPTIONS /financial/total/ - 200 - 23.118s
[2025-12-15 14:32:35,362] INFO in server_improved: OPTIONS /activity/ - 200 - 23.471s
[2025-12-15 14:32:35,379] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 23.489s
[2025-12-15 14:32:35,391] INFO in server_improved: OPTIONS /users/ - 200 - 23.501s
[2025-12-15 14:32:39,960] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:39,976] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:32:44,737] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:48,787] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:52,859] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:32:56,925] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:33:00,974] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:33:05,040] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:33:05,042] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,046] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,046] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,054] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,062] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,066] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,068] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 25.083s
[2025-12-15 14:33:05,097] INFO in server_improved: OPTIONS /branches/ - 200 - 30.252s
[2025-12-15 14:33:05,127] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.058s
[2025-12-15 14:33:05,135] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.066s
[2025-12-15 14:33:05,135] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.067s
[2025-12-15 14:33:05,138] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.067s
[2025-12-15 14:33:05,138] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.068s
[2025-12-15 14:33:05,336] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,338] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:33:05,343] INFO in server_improved: OPTIONS /users/ - 200 - 25.339s
[2025-12-15 14:33:05,344] INFO in server_improved: OPTIONS /financial/total/ - 200 - 25.340s
[2025-12-15 14:33:05,344] INFO in server_improved: GET /api/v1/reminders/ - 404 - 25.340s
[2025-12-15 14:33:05,344] INFO in server_improved: GET /api/v1/reminders/ - 404 - 25.340s
[2025-12-15 14:33:05,344] INFO in server_improved: OPTIONS /activity/ - 200 - 25.335s
[2025-12-15 14:33:05,609] ERROR in server_improved: GET /branches/ - 500 - 25.606s - Exception: name 'SessionLocal' is not defined
[2025-12-15 14:33:05,609] ERROR in server_improved: Unhandled exception: name 'SessionLocal' is not defined
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 3028, in log_request_metrics
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 291, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 634, in solve_dependencies
    |     solved = await solve_generator(
    |              ^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 560, in solve_generator
    |     return await stack.enter_async_context(cm)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 35, in contextmanager_in_threadpool
    |     raise e
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 27, in contextmanager_in_threadpool
    |     yield await run_in_threadpool(cm.__enter__)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 137, in __enter__
    |     return next(self.gen)
    |            ^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 225, in get_db
    |     db = SessionLocal()
    |          ^^^^^^^^^^^^
    | NameError: name 'SessionLocal' is not defined
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 3028, in log_request_metrics
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 634, in solve_dependencies
    solved = await solve_generator(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 560, in solve_generator
    return await stack.enter_async_context(cm)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 35, in contextmanager_in_threadpool
    raise e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 225, in get_db
    db = SessionLocal()
         ^^^^^^^^^^^^
NameError: name 'SessionLocal' is not defined
[2025-12-15 14:36:27,146] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:31,240] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:35,831] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:40,417] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:44,503] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:48,590] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:48,610] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:36:48,648] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:36:49,005] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:36:49,017] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:36:49,029] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:36:49,122] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:36:49,551] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.420s
[2025-12-15 14:36:49,553] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.421s
[2025-12-15 14:36:49,554] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.169s
[2025-12-15 14:36:49,557] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.170s
[2025-12-15 14:36:49,559] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.173s
[2025-12-15 14:36:49,560] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.173s
[2025-12-15 14:36:49,570] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 27.483s
[2025-12-15 14:36:49,681] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 27.595s
[2025-12-15 14:36:49,747] INFO in server_improved: OPTIONS /financial/total/ - 200 - 27.659s
[2025-12-15 14:36:49,752] INFO in server_improved: OPTIONS /users/ - 200 - 27.665s
[2025-12-15 14:36:49,756] INFO in server_improved: OPTIONS /branches/ - 200 - 27.668s
[2025-12-15 14:36:49,762] INFO in server_improved: OPTIONS /activity/ - 200 - 27.674s
[2025-12-15 14:36:53,913] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:36:58,002] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:37:03,068] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:37:07,657] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:37:12,617] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:37:12,619] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:37:12,619] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:37:12,619] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:37:12,680] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:37:12,838] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:37:16,918] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 14:37:16,918] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 14:37:21,060] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 17:37:24,163] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-15 17:37:24,168] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 17:37:25,207] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 17:37:25,215] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 10812.367s
[2025-12-15 17:37:25,223] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 10812.375s
[2025-12-15 17:37:25,223] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 10812.375s
[2025-12-15 17:37:25,225] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 10812.377s
[2025-12-15 17:37:25,225] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 10812.377s
[2025-12-15 17:37:25,257] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 17:37:26,196] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 10809.230s
[2025-12-15 17:37:26,720] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-15 17:37:27,204] INFO in server_improved: OPTIONS /financial/total/ - 200 - 10837.369s
[2025-12-15 17:37:27,204] INFO in server_improved: OPTIONS /users/ - 200 - 10837.368s
[2025-12-15 17:37:27,208] INFO in server_improved: OPTIONS /branches/ - 200 - 10837.372s
[2025-12-15 17:37:27,208] INFO in server_improved: GET /api/v1/reminders/ - 404 - 10837.371s
[2025-12-15 17:37:27,208] INFO in server_improved: OPTIONS /activity/ - 200 - 10837.371s
[2025-12-15 17:37:27,218] INFO in server_improved: GET /api/v1/reminders/ - 404 - 10814.369s
[2025-12-15 17:37:27,473] ERROR in server_improved: GET /activity/ - 500 - 10810.492s - Exception: name 'SessionLocal' is not defined
[2025-12-15 17:37:27,694] ERROR in server_improved: Unhandled exception: name 'SessionLocal' is not defined
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 3028, in log_request_metrics
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 291, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 634, in solve_dependencies
    |     solved = await solve_generator(
    |              ^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 560, in solve_generator
    |     return await stack.enter_async_context(cm)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 35, in contextmanager_in_threadpool
    |     raise e
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 27, in contextmanager_in_threadpool
    |     yield await run_in_threadpool(cm.__enter__)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 137, in __enter__
    |     return next(self.gen)
    |            ^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 225, in get_db
    |     db = SessionLocal()
    |          ^^^^^^^^^^^^
    | NameError: name 'SessionLocal' is not defined
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 3028, in log_request_metrics
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 634, in solve_dependencies
    solved = await solve_generator(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 560, in solve_generator
    return await stack.enter_async_context(cm)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 35, in contextmanager_in_threadpool
    raise e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 225, in get_db
    db = SessionLocal()
         ^^^^^^^^^^^^
NameError: name 'SessionLocal' is not defined
[2025-12-16 02:51:37,272] ERROR in server_improved: GET /financial/total/ - 500 - 44060.291s - Exception: name 'SessionLocal' is not defined
[2025-12-16 02:51:37,272] ERROR in server_improved: Unhandled exception: name 'SessionLocal' is not defined
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 3028, in log_request_metrics
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 291, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 634, in solve_dependencies
    |     solved = await solve_generator(
    |              ^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 560, in solve_generator
    |     return await stack.enter_async_context(cm)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 35, in contextmanager_in_threadpool
    |     raise e
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 27, in contextmanager_in_threadpool
    |     yield await run_in_threadpool(cm.__enter__)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 137, in __enter__
    |     return next(self.gen)
    |            ^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 225, in get_db
    |     db = SessionLocal()
    |          ^^^^^^^^^^^^
    | NameError: name 'SessionLocal' is not defined
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 3028, in log_request_metrics
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 634, in solve_dependencies
    solved = await solve_generator(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\dependencies\utils.py", line 560, in solve_generator
    return await stack.enter_async_context(cm)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 35, in contextmanager_in_threadpool
    raise e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 225, in get_db
    db = SessionLocal()
         ^^^^^^^^^^^^
NameError: name 'SessionLocal' is not defined
[2025-12-16 02:57:36,157] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 02:57:36,182] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 02:57:36,189] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.000s
[2025-12-16 02:57:36,195] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 4.104s
[2025-12-16 02:57:40,258] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 02:57:40,258] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 02:57:40,262] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 02:57:40,262] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 02:57:40,273] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.069s
[2025-12-16 02:57:44,396] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 02:57:44,396] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 02:57:44,401] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.000s
[2025-12-16 02:57:44,401] INFO in server_improved: OPTIONS /reminders/ - 200 - 4.065s
[2025-12-16 02:57:48,492] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 02:57:48,494] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 02:57:48,499] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 02:57:48,499] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 02:57:48,510] INFO in server_improved: GET /reminders/ - 404 - 4.086s
[2025-12-16 03:03:50,095] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:03:50,095] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:03:50,106] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.010s
[2025-12-16 03:03:50,111] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:03:50,116] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.077s
[2025-12-16 03:03:54,195] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:03:54,195] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:03:54,631] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.004s
[2025-12-16 03:03:54,631] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:03:54,641] INFO in server_improved: GET /reminders/ - 404 - 4.514s
[2025-12-16 03:06:17,254] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:06:17,259] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:06:17,259] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:06:17,271] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:06:17,271] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.079s
[2025-12-16 03:06:21,371] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:06:21,371] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:06:21,374] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:06:21,374] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:06:21,380] INFO in server_improved: GET /reminders/ - 404 - 4.090s
[2025-12-16 03:11:18,228] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:11:18,235] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:11:18,244] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.004s
[2025-12-16 03:11:18,245] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 4.083s
[2025-12-16 03:11:22,324] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:11:22,327] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:11:22,346] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.007s
[2025-12-16 03:11:22,350] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:11:22,354] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.103s
[2025-12-16 03:11:27,184] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:11:27,184] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:11:27,328] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.136s
[2025-12-16 03:11:27,328] INFO in server_improved: OPTIONS /reminders/ - 200 - 4.215s
[2025-12-16 03:11:31,380] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:11:31,381] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:11:31,396] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.001s
[2025-12-16 03:11:31,406] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:11:31,412] INFO in server_improved: GET /reminders/ - 404 - 4.084s
[2025-12-16 03:16:20,246] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:16:20,246] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:16:20,252] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:16:20,252] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:16:21,652] INFO in server_improved: GET /api/v1/reminders/ - 404 - 5.447s
[2025-12-16 03:16:26,797] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:16:26,798] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:16:26,802] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:16:26,802] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:16:26,802] INFO in server_improved: GET /reminders/ - 404 - 4.052s
[2025-12-16 03:21:28,453] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:21:28,453] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:21:28,453] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.000s
[2025-12-16 03:21:28,453] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 4.074s
[2025-12-16 03:21:32,549] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:21:32,550] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:21:32,553] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.003s
[2025-12-16 03:21:32,553] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:21:32,553] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.090s
[2025-12-16 03:21:36,986] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:21:36,987] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:21:36,993] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.004s
[2025-12-16 03:21:36,993] INFO in server_improved: OPTIONS /reminders/ - 200 - 4.069s
[2025-12-16 03:21:41,052] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:21:41,052] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:21:41,054] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:21:41,056] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:21:41,057] INFO in server_improved: GET /reminders/ - 404 - 4.064s
[2025-12-16 03:26:31,218] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:26:31,221] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:26:31,221] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:26:31,221] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:26:31,221] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.039s
[2025-12-16 03:26:35,302] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:26:35,305] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:26:35,311] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.002s
[2025-12-16 03:26:35,312] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:26:35,315] INFO in server_improved: GET /reminders/ - 404 - 4.074s
[2025-12-16 03:27:23,705] INFO in server_improved: Application shutdown
[2025-12-16 03:35:44,991] INFO in server_improved: Audit middleware enabled
[2025-12-16 03:35:44,991] INFO in server_improved: Using Redis-based rate limiting
[2025-12-16 03:35:44,991] INFO in server_improved: Core models imported successfully
[2025-12-16 03:35:44,991] INFO in server_improved: AuditLog model imported successfully
[2025-12-16 03:35:46,738] INFO in server_improved: Audit router loaded successfully
[2025-12-16 03:35:46,754] WARNING in server_improved: Reminders router not available
[2025-12-16 03:35:46,774] WARNING in server_improved: Backup router not available
[2025-12-16 03:35:46,774] INFO in server_improved: All routers loaded successfully
[2025-12-16 03:35:46,801] INFO in server_improved: Application startup
[2025-12-16 03:35:46,801] INFO in server_improved: Environment: development
[2025-12-16 03:35:46,801] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 03:36:31,495] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:36:31,499] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:36:32,804] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.001s
[2025-12-16 03:36:32,810] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 5.417s
[2025-12-16 03:36:36,954] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:36:36,954] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:36:36,974] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.020s
[2025-12-16 03:36:36,974] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:36:36,981] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.131s
[2025-12-16 03:36:41,352] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:36:41,352] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:36:41,364] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.003s
[2025-12-16 03:36:41,365] INFO in server_improved: OPTIONS /reminders/ - 200 - 4.344s
[2025-12-16 03:36:45,551] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:36:45,552] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:36:45,552] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:36:45,552] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:36:45,560] INFO in server_improved: GET /reminders/ - 404 - 4.084s
[2025-12-16 03:36:49,504] INFO in server_improved: Application shutdown
[2025-12-16 03:36:55,558] INFO in server_improved: Audit middleware enabled
[2025-12-16 03:36:55,558] INFO in server_improved: Using Redis-based rate limiting
[2025-12-16 03:36:55,558] INFO in server_improved: Using database module for engine and SessionLocal
[2025-12-16 03:36:55,560] INFO in server_improved: Core models imported successfully
[2025-12-16 03:36:55,560] INFO in server_improved: AuditLog model imported successfully
[2025-12-16 03:36:56,298] INFO in server_improved: Audit router loaded successfully
[2025-12-16 03:36:56,300] WARNING in server_improved: Reminders router not available
[2025-12-16 03:36:56,302] WARNING in server_improved: Backup router not available
[2025-12-16 03:36:56,303] INFO in server_improved: All routers loaded successfully
[2025-12-16 03:36:56,306] INFO in server_improved: Application startup
[2025-12-16 03:36:56,306] INFO in server_improved: Environment: development
[2025-12-16 03:36:56,307] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 03:37:02,868] INFO in server_improved: Application shutdown
[2025-12-16 03:37:06,373] INFO in server_improved: Audit middleware enabled
[2025-12-16 03:37:06,412] INFO in server_improved: Using Redis-based rate limiting
[2025-12-16 03:37:06,412] INFO in server_improved: Using database module for engine and SessionLocal
[2025-12-16 03:37:06,412] INFO in server_improved: Core models imported successfully
[2025-12-16 03:37:06,412] INFO in server_improved: AuditLog model imported successfully
[2025-12-16 03:37:06,856] INFO in server_improved: Audit router loaded successfully
[2025-12-16 03:37:06,856] WARNING in server_improved: Reminders router not available
[2025-12-16 03:37:06,867] WARNING in server_improved: Backup router not available
[2025-12-16 03:37:06,867] INFO in server_improved: All routers loaded successfully
[2025-12-16 03:37:06,867] INFO in server_improved: Application startup
[2025-12-16 03:37:06,867] INFO in server_improved: Environment: development
[2025-12-16 03:37:06,867] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 03:39:20,270] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:39:20,270] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:20,526] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.011s
[2025-12-16 03:39:20,526] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:20,536] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.358s
[2025-12-16 03:39:24,608] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:39:28,675] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:39:28,675] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:28,675] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:28,681] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.006s
[2025-12-16 03:39:28,681] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.006s
[2025-12-16 03:39:28,681] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:28,681] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:28,696] INFO in server_improved: GET /reminders/ - 404 - 8.139s
[2025-12-16 03:39:28,700] INFO in server_improved: GET /api/v1/reminders/ - 404 - 8.144s
[2025-12-16 03:39:32,776] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:39:32,776] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:32,781] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:39:32,781] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:39:32,792] INFO in server_improved: GET /reminders/ - 404 - 4.070s
[2025-12-16 03:40:49,802] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:40:49,805] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:40:53,870] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:40:53,870] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:40:57,933] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:01,979] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:01,981] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:01,981] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:01,981] INFO in __init__: OPTIONS /check-initialization/ - Status: 200 - Time: 12.172s
[2025-12-16 03:41:01,989] INFO in __init__: OPTIONS /check-initialization/ - Status: 200 - Time: 8.115s
[2025-12-16 03:41:01,993] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 16.256s
[2025-12-16 03:41:01,993] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.013s
[2025-12-16 03:41:01,993] INFO in __init__: OPTIONS /login/ - Status: 200 - Time: 0.004s
[2025-12-16 03:41:01,999] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:02,004] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 12.195s
[2025-12-16 03:41:02,011] INFO in server_improved: GET /api/v1/reminders/ - 404 - 8.136s
[2025-12-16 03:41:02,011] INFO in server_improved: OPTIONS /login/ - 200 - 8.136s
[2025-12-16 03:41:06,066] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:06,067] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:10,119] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:10,120] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:14,184] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:14,184] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:18,270] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:18,273] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:18,273] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 12.206s
[2025-12-16 03:41:18,293] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:18,293] INFO in __init__: GET /reminders/ - Status: 404 - Time: 4.109s
[2025-12-16 03:41:22,348] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:41:22,348] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:22,348] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:41:22,354] INFO in server_improved: GET /api/v1/reminders/ - 404 - 20.333s
[2025-12-16 03:41:22,354] INFO in server_improved: GET /reminders/ - 404 - 12.234s
[2025-12-16 03:41:23,902] INFO in __init__: POST /login/ - Status: 200 - Time: 9.717s
[2025-12-16 03:41:23,902] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 5.608s
[2025-12-16 03:41:23,902] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 1.548s
[2025-12-16 03:41:23,902] INFO in server_improved: POST /login/ - 200 - 17.834s
[2025-12-16 03:41:23,905] INFO in server_improved: GET /check-initialization/ - 200 - 9.721s
[2025-12-16 03:41:23,906] INFO in server_improved: GET /check-initialization/ - 200 - 5.613s
[2025-12-16 03:43:18,058] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:18,058] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:18,058] INFO in __init__: OPTIONS /initialize-system/ - Status: 200 - Time: 0.000s
[2025-12-16 03:43:18,067] INFO in server_improved: OPTIONS /initialize-system/ - 200 - 4.056s
[2025-12-16 03:43:22,119] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:22,119] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:22,133] INFO in __init__: POST /initialize-system/ - Status: 400 - Time: 0.012s
[2025-12-16 03:43:22,134] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:22,136] INFO in server_improved: POST /initialize-system/ - 400 - 4.056s
[2025-12-16 03:43:38,686] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:38,686] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:42,752] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:42,754] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:46,821] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:50,886] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:54,953] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:43:54,955] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:54,961] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:54,961] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:43:54,968] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 12.214s
[2025-12-16 03:43:54,969] INFO in __init__: OPTIONS /check-initialization/ - Status: 200 - Time: 12.213s
[2025-12-16 03:43:54,972] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 20.323s
[2025-12-16 03:43:54,977] INFO in __init__: OPTIONS /check-initialization/ - Status: 200 - Time: 0.008s
[2025-12-16 03:43:54,977] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.008s
[2025-12-16 03:43:54,977] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 16.290s
[2025-12-16 03:43:54,987] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 12.230s
[2025-12-16 03:43:55,001] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 12.243s
[2025-12-16 03:44:00,311] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:44:04,367] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:44:04,368] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:44:04,372] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:44:08,429] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:44:08,432] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:44:12,530] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:44:12,532] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:44:12,551] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 8.173s
[2025-12-16 03:44:12,552] INFO in __init__: POST /login/ - Status: 200 - Time: 17.583s
[2025-12-16 03:44:12,741] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:44:12,746] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.213s
[2025-12-16 03:44:12,746] INFO in server_improved: GET /api/v1/reminders/ - 404 - 17.734s
[2025-12-16 03:44:12,746] INFO in server_improved: POST /login/ - 200 - 29.989s
[2025-12-16 03:44:12,746] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:44:12,757] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.325s
[2025-12-16 03:44:12,757] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 4.325s
[2025-12-16 03:44:12,757] INFO in server_improved: GET /check-initialization/ - 200 - 8.381s
[2025-12-16 03:44:12,850] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 8.475s
[2025-12-16 03:44:12,850] INFO in server_improved: GET /check-initialization/ - 200 - 17.839s
[2025-12-16 03:44:19,910] INFO in server_improved: Application shutdown
[2025-12-16 03:46:04,472] INFO in server_improved: Audit middleware enabled
[2025-12-16 03:46:04,482] INFO in server_improved: Using Redis-based rate limiting
[2025-12-16 03:46:04,482] INFO in server_improved: Using database module for engine and SessionLocal
[2025-12-16 03:46:04,492] INFO in server_improved: Core models imported successfully
[2025-12-16 03:46:04,493] INFO in server_improved: AuditLog model imported successfully
[2025-12-16 03:46:06,050] INFO in server_improved: Audit router loaded successfully
[2025-12-16 03:46:06,060] WARNING in server_improved: Reminders router not available
[2025-12-16 03:46:06,077] WARNING in server_improved: Backup router not available
[2025-12-16 03:46:06,077] INFO in server_improved: All routers loaded successfully
[2025-12-16 03:46:06,091] INFO in server_improved: Application startup
[2025-12-16 03:46:06,091] INFO in server_improved: Environment: development
[2025-12-16 03:46:06,091] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 03:50:55,313] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:50:55,314] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:50:55,826] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.007s
[2025-12-16 03:50:55,826] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:50:55,826] INFO in server_improved: GET /api/v1/reminders/ - 404 - 4.605s
[2025-12-16 03:50:59,907] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:50:59,907] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:50:59,913] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.006s
[2025-12-16 03:50:59,913] INFO in server_improved: OPTIONS /reminders/ - 200 - 4.066s
[2025-12-16 03:51:03,993] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:51:03,994] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:51:03,994] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 03:51:03,994] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:51:03,994] INFO in server_improved: GET /reminders/ - 404 - 4.081s
[2025-12-16 03:52:42,110] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 03:52:42,113] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:52:42,669] INFO in __init__: POST /initialize-system/ - Status: 400 - Time: 0.551s
[2025-12-16 03:52:42,669] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 03:52:42,675] INFO in server_improved: POST /initialize-system/ - 400 - 4.648s
[2025-12-16 03:53:32,259] INFO in server_improved: Application shutdown
[2025-12-16 03:53:44,685] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 03:53:51,788] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 03:55:51,205] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.006s
[2025-12-16 03:55:51,209] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.004s
[2025-12-16 03:55:51,222] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 03:57:04,933] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-16 03:57:04,938] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.002s
[2025-12-16 03:57:04,940] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.004s
[2025-12-16 03:57:04,945] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-16 03:57:05,131] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-16 03:57:05,144] INFO in server_improved: GET /reminders/ - 404 - 0.003s
[2025-12-16 03:57:05,166] INFO in server_improved: GET /check-initialization/ - 200 - 0.221s
[2025-12-16 03:57:05,192] INFO in server_improved: GET /check-initialization/ - 200 - 0.019s
[2025-12-16 03:57:09,733] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2025-12-16 03:57:11,075] INFO in server_improved: POST /login/ - 200 - 1.328s
[2025-12-16 03:57:18,394] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2025-12-16 03:57:18,398] INFO in server_improved: OPTIONS /users/ - 200 - 0.006s
[2025-12-16 03:57:18,401] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.008s
[2025-12-16 03:57:18,402] INFO in server_improved: OPTIONS /activity/ - 200 - 0.010s
[2025-12-16 03:57:18,408] INFO in server_improved: OPTIONS /users/ - 200 - 0.008s
[2025-12-16 03:57:18,410] INFO in server_improved: OPTIONS /branches/ - 200 - 0.010s
[2025-12-16 03:57:18,414] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.009s
[2025-12-16 03:57:18,422] INFO in server_improved: OPTIONS /activity/ - 200 - 0.004s
[2025-12-16 03:57:19,903] INFO in server_improved: GET /branches/ - 200 - 1.485s
[2025-12-16 03:57:19,920] INFO in server_improved: GET /users/ - 200 - 1.503s
[2025-12-16 03:57:20,017] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2025-12-16 03:57:20,079] INFO in server_improved: GET /activity/ - 200 - 1.646s
[2025-12-16 03:57:20,103] INFO in server_improved: GET /users/ - 200 - 0.109s
[2025-12-16 03:57:20,163] INFO in server_improved: GET /activity/ - 200 - 0.035s
[2025-12-16 03:57:20,243] INFO in server_improved: GET /financial/total/ - 200 - 1.809s
[2025-12-16 03:57:20,311] INFO in server_improved: GET /financial/total/ - 200 - 0.026s
[2025-12-16 03:57:28,999] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.001s
[2025-12-16 03:57:29,016] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.001s
[2025-12-16 03:57:29,025] INFO in server_improved: OPTIONS /api/v1/audit/logs - 200 - 0.007s
[2025-12-16 03:57:29,035] INFO in server_improved: OPTIONS /api/v1/audit/stats - 200 - 0.015s
[2025-12-16 03:57:29,043] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.020s
[2025-12-16 03:57:29,049] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.002s
[2025-12-16 03:57:29,056] INFO in server_improved: GET /api/v1/audit/logs - 404 - 0.001s
[2025-12-16 03:57:29,062] INFO in server_improved: GET /api/v1/audit/stats - 404 - 0.002s
[2025-12-16 03:57:29,160] INFO in server_improved: OPTIONS /audit/stats - 200 - 0.014s
[2025-12-16 03:57:29,176] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.028s
[2025-12-16 03:57:29,217] INFO in server_improved: OPTIONS /audit/logs - 200 - 0.033s
[2025-12-16 03:57:29,268] INFO in server_improved: GET /audit/stats - 404 - 0.053s
[2025-12-16 03:57:29,312] INFO in server_improved: GET /audit/logs - 404 - 0.004s
[2025-12-16 03:57:29,409] INFO in server_improved: GET /audit/stats - 404 - 0.001s
[2025-12-16 03:57:29,417] INFO in server_improved: GET /audit/logs - 404 - 0.002s
[2025-12-16 04:02:05,180] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 04:02:05,193] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 04:02:05,202] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 04:03:02,656] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 04:07:05,242] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.001s
[2025-12-16 04:07:05,247] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.005s
[2025-12-16 04:07:05,258] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-16 08:48:51,485] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.001s
[2025-12-16 08:48:52,025] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 08:48:52,494] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 08:48:52,633] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 08:51:54,452] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.005s
[2025-12-16 08:51:54,456] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 08:56:54,406] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 08:56:54,413] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:01:54,425] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-16 09:01:54,437] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 09:01:54,445] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 09:01:54,453] INFO in server_improved: GET /reminders/ - 404 - 0.008s
[2025-12-16 09:03:17,326] INFO in server_improved: OPTIONS /users/ - 200 - 0.037s
[2025-12-16 09:03:17,327] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.011s
[2025-12-16 09:03:17,330] INFO in server_improved: OPTIONS /activity/ - 200 - 0.013s
[2025-12-16 09:03:17,331] INFO in server_improved: OPTIONS /branches/ - 200 - 0.013s
[2025-12-16 09:03:17,334] INFO in server_improved: OPTIONS /branches/ - 200 - 0.015s
[2025-12-16 09:03:17,346] INFO in server_improved: OPTIONS /users/ - 200 - 0.025s
[2025-12-16 09:03:17,354] INFO in server_improved: OPTIONS /activity/ - 200 - 0.006s
[2025-12-16 09:03:17,546] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.191s
[2025-12-16 09:03:19,153] INFO in server_improved: GET /activity/ - 200 - 1.622s
[2025-12-16 09:03:19,191] INFO in server_improved: GET /financial/total/ - 200 - 1.657s
[2025-12-16 09:03:19,219] INFO in server_improved: GET /financial/total/ - 200 - 0.020s
[2025-12-16 09:03:19,234] INFO in server_improved: GET /activity/ - 200 - 0.035s
[2025-12-16 09:03:19,239] INFO in server_improved: GET /users/ - 200 - 1.884s
[2025-12-16 09:03:19,242] INFO in server_improved: GET /branches/ - 200 - 1.709s
[2025-12-16 09:03:19,263] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2025-12-16 09:03:19,273] INFO in server_improved: GET /users/ - 200 - 0.028s
[2025-12-16 09:07:16,418] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 09:07:16,429] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:12:16,459] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.001s
[2025-12-16 09:12:16,467] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-16 09:12:16,479] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 09:12:16,483] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:17:16,436] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.002s
[2025-12-16 09:17:16,445] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:22:16,407] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 09:22:16,420] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:27:16,449] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-16 09:27:16,460] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 09:27:16,470] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 09:27:16,470] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:32:16,439] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 09:32:16,450] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-16 09:37:16,447] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 09:37:16,457] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:42:16,431] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-16 09:42:16,546] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.069s
[2025-12-16 09:42:16,559] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 09:42:16,567] INFO in server_improved: GET /reminders/ - 404 - 0.008s
[2025-12-16 09:47:16,425] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.010s
[2025-12-16 09:47:16,436] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 09:52:16,686] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.262s
[2025-12-16 09:52:16,702] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.006s
[2025-12-16 09:52:16,709] INFO in server_improved: GET /reminders/ - 404 - 0.003s
[2025-12-16 09:57:16,524] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.109s
[2025-12-16 09:57:16,530] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.001s
[2025-12-16 09:57:16,573] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 10:02:16,422] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.005s
[2025-12-16 10:02:16,471] INFO in server_improved: GET /reminders/ - 404 - 0.001s
[2025-12-16 10:07:16,429] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.011s
[2025-12-16 10:07:16,449] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 10:07:16,468] INFO in server_improved: GET /reminders/ - 404 - 0.004s
[2025-12-16 10:12:16,423] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-16 10:12:16,432] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 10:12:16,531] INFO in server_improved: GET /reminders/ - 404 - 0.004s
[2025-12-16 10:17:16,421] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 10:17:16,421] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 10:22:16,441] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 10:22:16,461] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 10:22:16,476] INFO in server_improved: GET /reminders/ - 404 - 0.004s
[2025-12-16 12:48:22,307] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-16 12:48:22,484] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.000s
[2025-12-16 12:48:25,155] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 12:48:25,166] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 12:55:32,148] INFO in main: Audit middleware enabled
[2025-12-16 12:55:32,148] INFO in main: Using Redis-based rate limiting
[2025-12-16 12:55:32,148] INFO in main: Core models imported successfully
[2025-12-16 12:55:32,148] INFO in main: AuditLog model imported successfully
[2025-12-16 12:58:07,421] INFO in main: Audit middleware enabled
[2025-12-16 12:58:07,421] INFO in main: Using Redis-based rate limiting
[2025-12-16 12:58:07,421] INFO in main: Core models imported successfully
[2025-12-16 12:58:07,425] INFO in main: AuditLog model imported successfully
[2025-12-16 12:58:10,632] INFO in main: Audit router loaded successfully
[2025-12-16 12:58:10,653] WARNING in main: Reminders router not available
[2025-12-16 12:58:10,687] WARNING in main: Backup router not available
[2025-12-16 12:58:10,688] INFO in main: All routers loaded successfully
[2025-12-16 12:58:10,991] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-16 12:58:11,018] INFO in main: Application startup
[2025-12-16 12:58:11,021] INFO in main: Environment: development
[2025-12-16 12:58:11,026] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 12:58:27,393] INFO in main: Application shutdown
[2025-12-16 12:58:30,718] INFO in main: Audit middleware enabled
[2025-12-16 12:58:30,719] INFO in main: Using Redis-based rate limiting
[2025-12-16 12:58:30,720] INFO in main: Core models imported successfully
[2025-12-16 12:58:31,277] INFO in main: Audit router loaded successfully
[2025-12-16 12:58:31,280] WARNING in main: Reminders router not available
[2025-12-16 12:58:31,282] WARNING in main: Backup router not available
[2025-12-16 12:58:31,282] INFO in main: All routers loaded successfully
[2025-12-16 12:58:31,458] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-16 12:58:31,462] INFO in main: Application startup
[2025-12-16 12:58:31,462] INFO in main: Environment: development
[2025-12-16 12:58:31,462] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 12:58:39,797] INFO in main: Application shutdown
[2025-12-16 12:58:42,500] INFO in main: Audit middleware enabled
[2025-12-16 12:58:42,500] INFO in main: Using Redis-based rate limiting
[2025-12-16 12:58:42,500] INFO in main: Core models imported successfully
[2025-12-16 12:58:42,979] INFO in main: Audit router loaded successfully
[2025-12-16 12:58:42,979] WARNING in main: Reminders router not available
[2025-12-16 12:58:42,979] WARNING in main: Backup router not available
[2025-12-16 12:58:42,979] INFO in main: All routers loaded successfully
[2025-12-16 12:58:43,133] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-16 12:58:43,136] INFO in main: Application startup
[2025-12-16 12:58:43,136] INFO in main: Environment: development
[2025-12-16 12:58:43,136] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 12:58:58,956] INFO in main: Application shutdown
[2025-12-16 12:59:08,355] INFO in main: Audit middleware enabled
[2025-12-16 12:59:08,375] INFO in main: Using Redis-based rate limiting
[2025-12-16 12:59:08,375] INFO in main: Core models imported successfully
[2025-12-16 12:59:11,207] INFO in main: Audit router loaded successfully
[2025-12-16 12:59:11,501] WARNING in main: Reminders router not available
[2025-12-16 12:59:11,733] WARNING in main: Backup router not available
[2025-12-16 12:59:11,733] INFO in main: All routers loaded successfully
[2025-12-16 12:59:11,948] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-16 12:59:11,979] INFO in main: Application startup
[2025-12-16 12:59:11,979] INFO in main: Environment: development
[2025-12-16 12:59:11,979] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 12:59:16,141] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:20,198] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:24,280] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:28,355] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:28,355] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:28,851] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:28,860] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:28,862] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:32,913] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:32,913] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:32,913] INFO in __init__: OPTIONS /check-initialization/ - Status: 200 - Time: 4.050s
[2025-12-16 12:59:32,913] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 4.047s
[2025-12-16 12:59:32,922] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 4.056s
[2025-12-16 12:59:32,922] INFO in __init__: OPTIONS /check-initialization/ - Status: 200 - Time: 4.056s
[2025-12-16 12:59:32,922] INFO in __init__: OPTIONS /login/ - Status: 200 - Time: 0.010s
[2025-12-16 12:59:37,056] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:37,056] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:41,144] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:41,144] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:45,224] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:45,257] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:49,325] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:49,326] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:49,326] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 8.175s
[2025-12-16 12:59:49,504] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:51,194] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 1.868s
[2025-12-16 12:59:51,194] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 14.136s
[2025-12-16 12:59:51,198] INFO in __init__: POST /login/ - Status: 200 - Time: 5.931s
[2025-12-16 12:59:59,777] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 12:59:59,778] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 12:59:59,782] INFO in __init__: OPTIONS /initialize-system/ - Status: 200 - Time: 0.004s
[2025-12-16 13:00:03,851] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:03,854] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:03,901] INFO in __init__: POST /initialize-system/ - Status: 400 - Time: 0.047s
[2025-12-16 13:00:03,901] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:14,318] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:14,319] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:14,349] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 0.022s
[2025-12-16 13:00:19,057] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:19,057] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:23,127] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:23,130] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:24,052] INFO in __init__: POST /login/ - Status: 200 - Time: 4.989s
[2025-12-16 13:00:24,052] INFO in __init__: GET /check-initialization/ - Status: 200 - Time: 0.922s
[2025-12-16 13:00:29,351] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:29,352] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:33,434] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:33,436] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:37,517] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:41,598] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:45,651] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:49,714] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:49,718] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:49,723] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:49,728] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:49,733] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:49,735] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 20.383s
[2025-12-16 13:00:49,748] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 16.305s
[2025-12-16 13:00:49,754] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.018s
[2025-12-16 13:00:49,754] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.018s
[2025-12-16 13:00:49,754] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.018s
[2025-12-16 13:00:49,754] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.018s
[2025-12-16 13:00:53,863] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:57,957] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:00:57,958] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:00:57,958] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:01:02,044] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:01:06,103] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:01:10,169] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:01:14,252] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:01:18,304] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:01:18,306] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:01:18,309] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:01:18,311] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:01:18,369] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:01:18,373] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:01:18,373] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 20.399s
[2025-12-16 13:01:18,373] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 20.399s
[2025-12-16 13:01:18,449] INFO in __init__: GET /branches/ - Status: 200 - Time: 0.075s
[2025-12-16 13:01:18,505] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 0.132s
[2025-12-16 13:01:18,522] INFO in __init__: GET /users/ - Status: 200 - Time: 0.149s
[2025-12-16 13:01:18,635] INFO in __init__: GET /activity/ - Status: 200 - Time: 0.262s
[2025-12-16 13:01:18,644] INFO in __init__: GET /branches/ - Status: 200 - Time: 0.270s
[2025-12-16 13:01:23,260] INFO in main: Application shutdown
[2025-12-16 13:02:57,120] INFO in main: Audit middleware enabled
[2025-12-16 13:02:57,120] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:02:57,125] INFO in main: Core models imported successfully
[2025-12-16 13:02:57,515] INFO in main: Audit router loaded successfully
[2025-12-16 13:02:57,517] WARNING in main: Reminders router not available
[2025-12-16 13:02:57,517] WARNING in main: Backup router not available
[2025-12-16 13:02:57,517] INFO in main: All routers loaded successfully
[2025-12-16 13:02:57,651] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-16 13:02:57,658] INFO in main: Application startup
[2025-12-16 13:02:57,658] INFO in main: Environment: development
[2025-12-16 13:02:57,658] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:09:21,790] INFO in main: Application shutdown
[2025-12-16 13:09:33,607] INFO in main: Audit middleware enabled
[2025-12-16 13:09:33,607] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:09:33,609] INFO in main: Core models imported successfully
[2025-12-16 13:09:34,376] INFO in main: Audit router loaded successfully
[2025-12-16 13:09:34,404] WARNING in main: Reminders router not available
[2025-12-16 13:09:34,410] WARNING in main: Backup router not available
[2025-12-16 13:09:34,410] INFO in main: All routers loaded successfully
[2025-12-16 13:09:34,552] INFO in main: Loaded 54 legacy routes from server_improved for backward compatibility
[2025-12-16 13:09:34,552] INFO in main: Application startup
[2025-12-16 13:09:34,552] INFO in main: Environment: development
[2025-12-16 13:09:34,552] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:10:11,012] INFO in main: Application shutdown
[2025-12-16 13:18:13,074] INFO in main: Audit middleware enabled
[2025-12-16 13:18:13,075] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:18:13,076] INFO in main: Core models imported successfully
[2025-12-16 13:18:15,635] INFO in main: Audit router loaded successfully
[2025-12-16 13:18:15,666] WARNING in main: Reminders router not available
[2025-12-16 13:18:15,679] WARNING in main: Backup router not available
[2025-12-16 13:18:15,679] INFO in main: All routers loaded successfully
[2025-12-16 13:18:16,350] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:18:16,465] INFO in main: Application startup
[2025-12-16 13:18:16,465] INFO in main: Environment: development
[2025-12-16 13:18:16,465] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:18:35,471] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:18:35,471] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:18:39,802] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:18:43,853] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:18:47,915] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:18:47,916] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:18:47,918] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:18:47,920] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:18:51,988] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:18:56,034] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:18:56,034] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:18:56,039] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:18:56,084] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 20.313s
[2025-12-16 13:18:56,084] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 8.161s
[2025-12-16 13:18:56,084] INFO in __init__: OPTIONS /api/v1/audit/stats - Status: 200 - Time: 8.161s
[2025-12-16 13:18:56,091] INFO in __init__: OPTIONS /api/v1/audit/logs - Status: 200 - Time: 8.169s
[2025-12-16 13:18:56,091] INFO in __init__: OPTIONS /api/v1/audit/logs - Status: 200 - Time: 0.053s
[2025-12-16 13:18:56,091] INFO in __init__: OPTIONS /api/v1/audit/stats - Status: 200 - Time: 0.053s
[2025-12-16 13:19:00,232] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:19:00,236] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:04,293] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:19:08,361] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:19:08,361] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:08,361] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:12,473] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:19:16,528] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:19:20,583] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:19:20,584] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 20.348s
[2025-12-16 13:19:20,589] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:20,592] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:20,594] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:20,600] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:21,102] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.503s
[2025-12-16 13:19:21,107] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:19:21,160] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 59, in get_audit_logs
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 59, in get_audit_logs
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-16 13:19:22,273] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 112, in get_audit_stats
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 112, in get_audit_stats
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-16 13:19:22,382] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 112, in get_audit_stats
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 112, in get_audit_stats
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-16 13:19:22,509] ERROR in main: Unhandled exception: 'dict' object has no attribute 'role'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 59, in get_audit_logs
    |     if current_user.role != "director":
    |        ^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\rate_limit.py", line 82, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\audit_middleware.py", line 88, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 108, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware\__init__.py", line 73, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\routers\audit.py", line 59, in get_audit_logs
    if current_user.role != "director":
       ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'role'
[2025-12-16 13:20:59,878] INFO in main: Application shutdown
[2025-12-16 13:21:09,843] INFO in main: Audit middleware enabled
[2025-12-16 13:21:09,843] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:21:09,846] INFO in main: Core models imported successfully
[2025-12-16 13:21:15,463] INFO in main: Audit middleware enabled
[2025-12-16 13:21:15,464] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:21:15,464] INFO in main: Core models imported successfully
[2025-12-16 13:21:23,714] INFO in main: Audit middleware enabled
[2025-12-16 13:21:23,714] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:21:23,714] INFO in main: Core models imported successfully
[2025-12-16 13:21:33,518] INFO in main: Audit middleware enabled
[2025-12-16 13:21:33,519] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:21:33,519] INFO in main: Core models imported successfully
[2025-12-16 13:21:34,020] INFO in main: Audit router loaded successfully
[2025-12-16 13:21:34,045] WARNING in main: Reminders router not available
[2025-12-16 13:21:34,070] WARNING in main: Backup router not available
[2025-12-16 13:21:34,070] INFO in main: All routers loaded successfully
[2025-12-16 13:21:34,368] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:21:34,371] INFO in main: Application startup
[2025-12-16 13:21:34,372] INFO in main: Environment: development
[2025-12-16 13:21:34,373] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:21:45,692] INFO in main: Application shutdown
[2025-12-16 13:21:49,334] INFO in main: Audit middleware enabled
[2025-12-16 13:21:49,335] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:21:49,335] INFO in main: Core models imported successfully
[2025-12-16 13:21:49,950] INFO in main: Audit router loaded successfully
[2025-12-16 13:21:49,954] WARNING in main: Reminders router not available
[2025-12-16 13:21:49,963] WARNING in main: Backup router not available
[2025-12-16 13:21:49,966] INFO in main: All routers loaded successfully
[2025-12-16 13:21:50,778] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:21:50,780] INFO in main: Application startup
[2025-12-16 13:21:50,781] INFO in main: Environment: development
[2025-12-16 13:21:50,781] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:21:58,870] INFO in main: Application shutdown
[2025-12-16 13:22:08,737] INFO in main: Audit middleware enabled
[2025-12-16 13:22:08,738] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:22:08,739] INFO in main: Core models imported successfully
[2025-12-16 13:22:09,733] INFO in main: Audit router loaded successfully
[2025-12-16 13:22:09,736] WARNING in main: Reminders router not available
[2025-12-16 13:22:09,740] WARNING in main: Backup router not available
[2025-12-16 13:22:09,740] INFO in main: All routers loaded successfully
[2025-12-16 13:22:09,935] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:22:09,935] INFO in main: Application startup
[2025-12-16 13:22:09,935] INFO in main: Environment: development
[2025-12-16 13:22:09,935] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:22:14,132] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:18,190] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:22,259] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:26,306] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:30,372] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:34,448] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:34,450] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:34,612] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:34,612] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:34,612] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:34,622] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:34,626] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:34,626] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.000s
[2025-12-16 13:22:34,626] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.000s
[2025-12-16 13:22:34,632] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.007s
[2025-12-16 13:22:34,632] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.007s
[2025-12-16 13:22:34,632] INFO in __init__: OPTIONS /users/ - Status: 200 - Time: 0.007s
[2025-12-16 13:22:34,632] INFO in __init__: OPTIONS /branches/ - Status: 200 - Time: 0.007s
[2025-12-16 13:22:38,709] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:42,774] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:22:42,777] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:42,782] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:22:42,791] INFO in __init__: OPTIONS /activity/ - Status: 200 - Time: 0.004s
[2025-12-16 13:22:42,793] INFO in __init__: OPTIONS /financial/total/ - Status: 200 - Time: 0.006s
[2025-12-16 13:23:35,453] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:23:35,455] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:23:35,504] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.001s
[2025-12-16 13:23:35,505] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:23:39,569] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:23:39,569] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:23:39,575] INFO in __init__: OPTIONS /reminders/ - Status: 200 - Time: 0.000s
[2025-12-16 13:23:43,619] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:23:43,623] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:23:43,627] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.000s
[2025-12-16 13:23:43,627] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:24:29,462] INFO in main: Application shutdown
[2025-12-16 13:24:33,811] INFO in main: Audit middleware enabled
[2025-12-16 13:24:33,812] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:24:33,812] INFO in main: Core models imported successfully
[2025-12-16 13:24:34,262] INFO in main: Audit router loaded successfully
[2025-12-16 13:24:34,264] WARNING in main: Reminders router not available
[2025-12-16 13:24:34,266] WARNING in main: Backup router not available
[2025-12-16 13:24:34,266] INFO in main: All routers loaded successfully
[2025-12-16 13:24:34,479] INFO in main: Added important legacy route: ['POST'] /users/
[2025-12-16 13:24:34,479] INFO in main: Added important legacy route: ['POST'] /branches/
[2025-12-16 13:24:34,480] INFO in main: Added important legacy route: ['GET'] /branches/
[2025-12-16 13:24:34,481] INFO in main: Added important legacy route: ['GET'] /users/
[2025-12-16 13:24:34,482] INFO in main: Added important legacy route: ['GET'] /financial/total/
[2025-12-16 13:24:34,482] INFO in main: Added important legacy route: ['GET'] /activity/
[2025-12-16 13:24:34,482] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:24:34,484] INFO in main: All critical routes loaded: ['/users/', '/branches/', '/branches/', '/users/', '/financial/total/', '/activity/']
[2025-12-16 13:24:34,486] INFO in main: Application startup
[2025-12-16 13:24:34,487] INFO in main: Environment: development
[2025-12-16 13:24:34,487] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:25:39,497] INFO in main: Application shutdown
[2025-12-16 13:26:15,298] INFO in main: Audit middleware enabled
[2025-12-16 13:26:15,299] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:26:15,299] INFO in main: Core models imported successfully
[2025-12-16 13:26:17,882] INFO in main: Audit router loaded successfully
[2025-12-16 13:26:17,902] WARNING in main: Reminders router not available
[2025-12-16 13:26:17,925] WARNING in main: Backup router not available
[2025-12-16 13:26:17,925] INFO in main: All routers loaded successfully
[2025-12-16 13:26:18,443] INFO in main: Added important legacy route: ['POST'] /users/
[2025-12-16 13:26:18,443] INFO in main: Added important legacy route: ['POST'] /branches/
[2025-12-16 13:26:18,445] INFO in main: Added important legacy route: ['GET'] /branches/
[2025-12-16 13:26:18,450] INFO in main: Added important legacy route: ['GET'] /users/
[2025-12-16 13:26:18,452] INFO in main: Added important legacy route: ['GET'] /financial/total/
[2025-12-16 13:26:18,453] INFO in main: Added important legacy route: ['GET'] /activity/
[2025-12-16 13:26:18,453] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:26:18,455] INFO in main: All critical routes loaded: ['/users/', '/branches/', '/branches/', '/users/', '/financial/total/', '/activity/']
[2025-12-16 13:26:18,459] INFO in main: Application startup
[2025-12-16 13:26:18,459] INFO in main: Environment: development
[2025-12-16 13:26:18,462] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:26:22,732] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:26,813] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:30,896] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:34,967] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:39,030] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:39,034] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:39,358] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:39,376] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:39,380] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:39,385] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:43,551] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:47,624] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:51,651] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:26:51,654] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:51,654] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:51,654] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:51,667] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 12.268s
[2025-12-16 13:26:51,671] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:52,148] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.487s
[2025-12-16 13:26:52,162] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:26:52,439] INFO in __init__: GET /branches/ - Status: 200 - Time: 13.048s
[2025-12-16 13:26:52,439] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 13.037s
[2025-12-16 13:26:52,485] INFO in __init__: GET /users/ - Status: 200 - Time: 0.824s
[2025-12-16 13:26:52,485] INFO in __init__: GET /users/ - Status: 200 - Time: 13.092s
[2025-12-16 13:26:52,494] INFO in __init__: GET /branches/ - Status: 200 - Time: 0.833s
[2025-12-16 13:26:52,515] INFO in __init__: GET /activity/ - Status: 200 - Time: 13.122s
[2025-12-16 13:27:56,135] INFO in main: Application shutdown
[2025-12-16 13:28:00,464] INFO in main: Audit middleware enabled
[2025-12-16 13:28:00,464] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:28:00,464] INFO in main: Core models imported successfully
[2025-12-16 13:28:01,042] INFO in main: Audit router loaded successfully
[2025-12-16 13:28:01,047] WARNING in main: Reminders router not available
[2025-12-16 13:28:01,047] WARNING in main: Backup router not available
[2025-12-16 13:28:01,047] INFO in main: All routers loaded successfully
[2025-12-16 13:28:01,139] INFO in server_improved: Using shared database connection from database module
[2025-12-16 13:28:01,291] INFO in main: Added important legacy route: ['POST'] /users/
[2025-12-16 13:28:01,291] INFO in main: Added important legacy route: ['POST'] /branches/
[2025-12-16 13:28:01,292] INFO in main: Added important legacy route: ['GET'] /branches/
[2025-12-16 13:28:01,292] INFO in main: Added important legacy route: ['GET'] /users/
[2025-12-16 13:28:01,292] INFO in main: Added important legacy route: ['GET'] /financial/total/
[2025-12-16 13:28:01,293] INFO in main: Added important legacy route: ['GET'] /activity/
[2025-12-16 13:28:01,293] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:28:01,294] INFO in main: All critical routes loaded: ['/users/', '/branches/', '/branches/', '/users/', '/financial/total/', '/activity/']
[2025-12-16 13:28:01,295] INFO in main: Application startup
[2025-12-16 13:28:01,296] INFO in main: Environment: development
[2025-12-16 13:28:01,296] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:28:15,754] INFO in main: Application shutdown
[2025-12-16 13:28:19,559] INFO in main: Audit middleware enabled
[2025-12-16 13:28:19,560] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:28:19,560] INFO in main: Core models imported successfully
[2025-12-16 13:28:20,685] INFO in main: Audit router loaded successfully
[2025-12-16 13:28:20,685] WARNING in main: Reminders router not available
[2025-12-16 13:28:20,694] WARNING in main: Backup router not available
[2025-12-16 13:28:20,694] INFO in main: All routers loaded successfully
[2025-12-16 13:28:20,790] INFO in server_improved: Using shared database connection from database module
[2025-12-16 13:28:20,852] INFO in server_improved: Using shared get_current_user from dependencies module
[2025-12-16 13:28:20,975] INFO in main: Added important legacy route: ['POST'] /users/
[2025-12-16 13:28:20,975] INFO in main: Added important legacy route: ['POST'] /branches/
[2025-12-16 13:28:20,975] INFO in main: Added important legacy route: ['GET'] /branches/
[2025-12-16 13:28:20,975] INFO in main: Added important legacy route: ['GET'] /users/
[2025-12-16 13:28:20,975] INFO in main: Added important legacy route: ['GET'] /financial/total/
[2025-12-16 13:28:20,975] INFO in main: Added important legacy route: ['GET'] /activity/
[2025-12-16 13:28:20,975] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:28:20,975] INFO in main: All critical routes loaded: ['/users/', '/branches/', '/branches/', '/users/', '/financial/total/', '/activity/']
[2025-12-16 13:28:20,975] INFO in main: Application startup
[2025-12-16 13:28:20,975] INFO in main: Environment: development
[2025-12-16 13:28:20,975] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:28:49,907] INFO in main: Application shutdown
[2025-12-16 13:28:53,620] INFO in main: Audit middleware enabled
[2025-12-16 13:28:53,620] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:28:53,620] INFO in main: Core models imported successfully
[2025-12-16 13:28:54,243] INFO in main: Audit router loaded successfully
[2025-12-16 13:28:54,246] WARNING in main: Reminders router not available
[2025-12-16 13:28:54,248] WARNING in main: Backup router not available
[2025-12-16 13:28:54,248] INFO in main: All routers loaded successfully
[2025-12-16 13:28:54,252] INFO in server_improved: Using shared database connection from database module
[2025-12-16 13:28:54,293] INFO in server_improved: Using shared get_current_user from dependencies module
[2025-12-16 13:28:54,461] INFO in main: Added important legacy route: ['POST'] /users/
[2025-12-16 13:28:54,462] INFO in main: Added important legacy route: ['POST'] /branches/
[2025-12-16 13:28:54,463] INFO in main: Added important legacy route: ['GET'] /branches/
[2025-12-16 13:28:54,464] INFO in main: Added important legacy route: ['GET'] /users/
[2025-12-16 13:28:54,464] INFO in main: Added important legacy route: ['GET'] /financial/total/
[2025-12-16 13:28:54,465] INFO in main: Added important legacy route: ['GET'] /activity/
[2025-12-16 13:28:54,465] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:28:54,466] INFO in main: All critical routes loaded: ['/users/', '/branches/', '/branches/', '/users/', '/financial/total/', '/activity/']
[2025-12-16 13:28:54,468] INFO in main: Application startup
[2025-12-16 13:28:54,469] INFO in main: Environment: development
[2025-12-16 13:28:54,469] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:29:11,721] INFO in main: Application shutdown
[2025-12-16 13:29:14,363] INFO in main: Audit middleware enabled
[2025-12-16 13:29:14,363] INFO in main: Using Redis-based rate limiting
[2025-12-16 13:29:14,363] INFO in main: Core models imported successfully
[2025-12-16 13:29:14,681] INFO in main: Audit router loaded successfully
[2025-12-16 13:29:14,681] WARNING in main: Reminders router not available
[2025-12-16 13:29:14,681] WARNING in main: Backup router not available
[2025-12-16 13:29:14,681] INFO in main: All routers loaded successfully
[2025-12-16 13:29:14,743] INFO in server_improved: Using shared database connection from database module
[2025-12-16 13:29:14,763] INFO in server_improved: Using shared get_current_user from dependencies module
[2025-12-16 13:29:14,820] INFO in main: Added important legacy route: ['POST'] /users/
[2025-12-16 13:29:14,825] INFO in main: Added important legacy route: ['POST'] /branches/
[2025-12-16 13:29:14,825] INFO in main: Added important legacy route: ['GET'] /branches/
[2025-12-16 13:29:14,825] INFO in main: Added important legacy route: ['GET'] /users/
[2025-12-16 13:29:14,825] INFO in main: Added important legacy route: ['GET'] /financial/total/
[2025-12-16 13:29:14,825] INFO in main: Added important legacy route: ['GET'] /activity/
[2025-12-16 13:29:14,825] INFO in main: Loaded 53 legacy routes from server_improved for backward compatibility
[2025-12-16 13:29:14,825] INFO in main: All critical routes loaded: ['/users/', '/branches/', '/branches/', '/users/', '/financial/total/', '/activity/']
[2025-12-16 13:29:14,825] INFO in main: Application startup
[2025-12-16 13:29:14,825] INFO in main: Environment: development
[2025-12-16 13:29:14,825] INFO in main: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 13:29:50,098] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:29:50,098] ERROR in audit: Failed to log audit action: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\relationships.py", line 1868, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:29:54,814] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:29:58,880] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:02,929] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:06,993] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:11,063] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:11,065] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:11,065] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:11,065] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:11,076] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:11,078] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:11,078] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 20.937s
[2025-12-16 13:30:11,099] INFO in __init__: OPTIONS /api/v1/reminders/ - Status: 200 - Time: 0.020s
[2025-12-16 13:30:15,242] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:15,246] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:19,312] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:19,312] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:23,384] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:27,439] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:27,445] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:27,449] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:27,460] INFO in __init__: GET /branches/ - Status: 200 - Time: 16.382s
[2025-12-16 13:30:27,461] INFO in __init__: GET /activity/ - Status: 200 - Time: 16.383s
[2025-12-16 13:30:27,462] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 16.384s
[2025-12-16 13:30:27,462] INFO in __init__: GET /users/ - Status: 200 - Time: 16.384s
[2025-12-16 13:30:27,479] INFO in __init__: GET /branches/ - Status: 200 - Time: 12.233s
[2025-12-16 13:30:27,498] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 0.043s
[2025-12-16 13:30:27,509] INFO in __init__: GET /users/ - Status: 200 - Time: 8.197s
[2025-12-16 13:30:27,515] INFO in __init__: GET /activity/ - Status: 200 - Time: 0.061s
[2025-12-16 13:30:48,428] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:48,430] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:30:52,489] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:30:56,564] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:00,641] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:04,691] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:04,693] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:04,693] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:04,702] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:04,706] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:04,710] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 16.275s
[2025-12-16 13:31:04,718] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:08,794] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:08,797] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:08,880] INFO in __init__: GET /api/v1/reminders/ - Status: 404 - Time: 0.080s
[2025-12-16 13:31:12,956] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:12,956] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:12,977] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:17,076] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:17,079] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:17,088] INFO in __init__: GET /activity/ - Status: 200 - Time: 12.379s
[2025-12-16 13:31:17,089] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 12.380s
[2025-12-16 13:31:17,093] INFO in __init__: GET /users/ - Status: 200 - Time: 12.383s
[2025-12-16 13:31:17,095] INFO in __init__: GET /branches/ - Status: 200 - Time: 12.386s
[2025-12-16 13:31:21,162] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:25,219] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:29,285] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:29,286] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:29,294] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:29,298] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:29,367] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.010s
[2025-12-16 13:31:29,368] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:29,370] INFO in __init__: GET /branches/ - Status: 200 - Time: 16.371s
[2025-12-16 13:31:33,434] ERROR in rate_limit: Rate limiting error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2025-12-16 13:31:33,435] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:33,443] INFO in __init__: GET /users/ - Status: 200 - Time: 16.356s
[2025-12-16 13:31:33,445] INFO in __init__: GET /financial/total/ - Status: 200 - Time: 4.143s
[2025-12-16 13:31:33,447] INFO in __init__: GET /reminders/ - Status: 404 - Time: 0.008s
[2025-12-16 13:31:33,449] ERROR in audit: Failed to log audit action: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "D:\payment-system\payment-system-web\backend\utils\audit.py", line 48, in log_action
    audit_log = AuditLog(
                ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[AuditLog(audit_logs)]'. Original exception was: When initializing mapper Mapper[AuditLog(audit_logs)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.audit_log.AuditLog'> class after both dependent classes have been defined.
[2025-12-16 13:31:33,452] INFO in __init__: GET /activity/ - Status: 200 - Time: 4.150s
[2025-12-16 13:31:38,647] INFO in main: Application shutdown
[2025-12-16 16:01:29,267] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:02:24,207] INFO in server_improved: OPTIONS /api/v1/reminders/ - 200 - 0.000s
[2025-12-16 16:02:24,227] INFO in server_improved: GET /api/v1/reminders/ - 404 - 0.005s
[2025-12-16 16:02:24,732] INFO in server_improved: OPTIONS /reminders/ - 200 - 0.000s
[2025-12-16 16:02:24,745] INFO in server_improved: GET /reminders/ - 404 - 0.000s
[2025-12-16 16:03:19,271] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2025-12-16 16:03:19,285] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2025-12-16 16:03:19,302] INFO in server_improved: OPTIONS /activity/ - 200 - 0.018s
[2025-12-16 16:03:19,360] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.075s
[2025-12-16 16:03:19,375] INFO in server_improved: OPTIONS /users/ - 200 - 0.002s
[2025-12-16 16:03:19,459] INFO in server_improved: OPTIONS /activity/ - 200 - 0.084s
[2025-12-16 16:03:19,480] INFO in server_improved: OPTIONS /branches/ - 200 - 0.044s
[2025-12-16 16:03:19,487] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.051s
[2025-12-16 16:03:20,819] INFO in server_improved: GET /financial/total/ - 200 - 1.037s
[2025-12-16 16:03:20,886] INFO in server_improved: GET /branches/ - 200 - 1.405s
[2025-12-16 16:03:20,902] INFO in server_improved: GET /financial/total/ - 200 - 0.067s
[2025-12-16 16:03:20,982] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2025-12-16 16:03:21,034] INFO in server_improved: GET /activity/ - 200 - 1.417s
[2025-12-16 16:03:21,038] INFO in server_improved: GET /users/ - 200 - 1.558s
[2025-12-16 16:03:21,136] INFO in server_improved: GET /activity/ - 200 - 0.049s
[2025-12-16 16:03:21,160] INFO in server_improved: GET /users/ - 200 - 0.040s
[2025-12-16 16:12:16,465] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:13:33,159] INFO in server_improved: OPTIONS /branches/ - 200 - 0.003s
[2025-12-16 16:13:33,219] INFO in server_improved: OPTIONS /activity/ - 200 - 0.026s
[2025-12-16 16:13:33,221] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.029s
[2025-12-16 16:13:33,226] INFO in server_improved: OPTIONS /branches/ - 200 - 0.034s
[2025-12-16 16:13:33,230] INFO in server_improved: OPTIONS /users/ - 200 - 0.038s
[2025-12-16 16:13:33,232] INFO in server_improved: OPTIONS /users/ - 200 - 0.040s
[2025-12-16 16:13:33,242] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.004s
[2025-12-16 16:13:33,259] INFO in server_improved: OPTIONS /activity/ - 200 - 0.007s
[2025-12-16 16:13:33,914] INFO in server_improved: GET /financial/total/ - 200 - 0.663s
[2025-12-16 16:13:33,931] INFO in server_improved: GET /financial/total/ - 200 - 0.010s
[2025-12-16 16:13:33,952] INFO in server_improved: GET /branches/ - 200 - 0.701s
[2025-12-16 16:13:33,966] INFO in server_improved: GET /branches/ - 200 - 0.008s
[2025-12-16 16:13:34,072] INFO in server_improved: GET /users/ - 200 - 0.801s
[2025-12-16 16:13:34,099] INFO in server_improved: GET /activity/ - 200 - 0.850s
[2025-12-16 16:13:34,104] INFO in server_improved: GET /users/ - 200 - 0.029s
[2025-12-16 16:13:34,127] INFO in server_improved: GET /activity/ - 200 - 0.018s
[2025-12-16 16:18:28,152] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:18:28,625] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:18:28,629] INFO in server_improved: Application startup
[2025-12-16 16:18:28,629] INFO in server_improved: Environment: development
[2025-12-16 16:18:28,629] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:18:50,517] INFO in server_improved: Application shutdown
[2025-12-16 16:18:54,045] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:18:54,166] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:18:54,174] INFO in server_improved: Application startup
[2025-12-16 16:18:54,175] INFO in server_improved: Environment: development
[2025-12-16 16:18:54,175] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:26:53,935] INFO in server_improved: Application shutdown
[2025-12-16 16:26:57,016] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:26:57,129] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:26:57,136] INFO in server_improved: Application startup
[2025-12-16 16:26:57,136] INFO in server_improved: Environment: development
[2025-12-16 16:26:57,137] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:27:06,235] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.010s
[2025-12-16 16:27:06,242] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.007s
[2025-12-16 16:27:06,242] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.007s
[2025-12-16 16:27:06,242] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.007s
[2025-12-16 16:27:06,242] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.007s
[2025-12-16 16:27:06,258] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.016s
[2025-12-16 16:27:06,279] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.008s
[2025-12-16 16:27:06,293] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.018s
[2025-12-16 16:27:06,297] INFO in middleware: GET /branches/ - Status: 404 - Time: 0.022s
[2025-12-16 16:27:06,313] INFO in middleware: GET /financial/total/ - Status: 404 - Time: 0.034s
[2025-12-16 16:27:06,313] INFO in middleware: GET /activity/ - Status: 404 - Time: 0.034s
[2025-12-16 16:27:06,314] INFO in middleware: GET /users/ - Status: 404 - Time: 0.031s
[2025-12-16 16:27:06,372] INFO in middleware: GET /financial/total/ - Status: 404 - Time: 0.006s
[2025-12-16 16:27:06,376] INFO in middleware: GET /activity/ - Status: 404 - Time: 0.007s
[2025-12-16 16:27:06,377] INFO in middleware: GET /branches/ - Status: 404 - Time: 0.008s
[2025-12-16 16:27:06,378] INFO in middleware: GET /users/ - Status: 404 - Time: 0.008s
[2025-12-16 16:27:25,025] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.002s
[2025-12-16 16:27:25,030] INFO in middleware: GET /branches/ - Status: 404 - Time: 0.000s
[2025-12-16 16:27:25,036] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.000s
[2025-12-16 16:27:25,045] INFO in middleware: GET /users/ - Status: 404 - Time: 0.000s
[2025-12-16 16:27:25,058] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.001s
[2025-12-16 16:27:25,063] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.003s
[2025-12-16 16:27:25,070] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.003s
[2025-12-16 16:27:25,077] INFO in middleware: GET /financial/total/ - Status: 404 - Time: 0.008s
[2025-12-16 16:27:25,084] INFO in middleware: GET /activity/ - Status: 404 - Time: 0.007s
[2025-12-16 16:27:25,088] INFO in middleware: GET /branches/ - Status: 404 - Time: 0.003s
[2025-12-16 16:27:25,105] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.001s
[2025-12-16 16:27:25,110] INFO in middleware: GET /users/ - Status: 404 - Time: 0.001s
[2025-12-16 16:27:25,165] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.003s
[2025-12-16 16:27:25,176] INFO in middleware: GET /financial/total/ - Status: 404 - Time: 0.000s
[2025-12-16 16:27:25,562] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.002s
[2025-12-16 16:27:25,568] INFO in middleware: GET /activity/ - Status: 404 - Time: 0.000s
[2025-12-16 16:28:40,836] INFO in server_improved: Application shutdown
[2025-12-16 16:28:44,282] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:28:44,406] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:28:44,413] INFO in server_improved: Application startup
[2025-12-16 16:28:44,413] INFO in server_improved: Environment: development
[2025-12-16 16:28:44,413] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:29:07,771] INFO in server_improved: Application shutdown
[2025-12-16 16:29:10,759] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:29:10,842] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:29:10,842] INFO in server_improved: Application startup
[2025-12-16 16:29:10,842] INFO in server_improved: Environment: development
[2025-12-16 16:29:10,842] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:30:24,829] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.004s
[2025-12-16 16:30:24,832] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.006s
[2025-12-16 16:30:24,836] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.007s
[2025-12-16 16:30:24,836] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.007s
[2025-12-16 16:30:24,839] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.011s
[2025-12-16 16:30:24,839] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.011s
[2025-12-16 16:30:24,860] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.004s
[2025-12-16 16:30:24,860] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.004s
[2025-12-16 16:30:25,399] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.539s
[2025-12-16 16:30:25,473] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.066s
[2025-12-16 16:30:25,494] INFO in middleware: GET /users/ - Status: 200 - Time: 0.634s
[2025-12-16 16:30:25,515] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.017s
[2025-12-16 16:30:25,608] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.362s
[2025-12-16 16:30:25,632] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.386s
[2025-12-16 16:30:25,634] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.774s
[2025-12-16 16:30:25,745] INFO in middleware: GET /users/ - Status: 200 - Time: 0.885s
[2025-12-16 16:30:50,657] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.005s
[2025-12-16 16:30:50,661] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.003s
[2025-12-16 16:30:50,666] INFO in middleware: GET /branches/1 - Status: 404 - Time: 0.002s
[2025-12-16 16:30:50,666] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.016s
[2025-12-16 16:30:50,677] INFO in middleware: GET /transactions/ - Status: 404 - Time: 0.002s
[2025-12-16 16:30:50,690] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.018s
[2025-12-16 16:31:47,600] INFO in server_improved: Application shutdown
[2025-12-16 16:32:06,117] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:32:06,856] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:32:06,892] INFO in server_improved: Application startup
[2025-12-16 16:32:06,895] INFO in server_improved: Environment: development
[2025-12-16 16:32:06,897] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:32:06,914] INFO in server_improved: Application shutdown
[2025-12-16 16:32:28,138] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:32:28,249] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:32:28,257] INFO in server_improved: Application startup
[2025-12-16 16:32:28,257] INFO in server_improved: Environment: development
[2025-12-16 16:32:28,257] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:32:28,538] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.190s
[2025-12-16 16:32:37,613] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.011s
[2025-12-16 16:32:37,628] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.013s
[2025-12-16 16:32:37,662] INFO in middleware: GET /transactions/ - Status: 404 - Time: 0.007s
[2025-12-16 16:32:37,695] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.049s
[2025-12-16 16:32:37,717] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.005s
[2025-12-16 16:32:37,750] INFO in middleware: GET /transactions/ - Status: 404 - Time: 0.006s
[2025-12-16 16:32:37,756] INFO in middleware: GET /transactions/ - Status: 404 - Time: 0.006s
[2025-12-16 16:32:37,775] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.037s
[2025-12-16 16:33:18,146] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.003s
[2025-12-16 16:33:18,161] INFO in middleware: GET /transactions/ - Status: 404 - Time: 0.008s
[2025-12-16 16:33:22,210] INFO in middleware: GET /transactions/ - Status: 404 - Time: 0.002s
[2025-12-16 16:35:33,147] INFO in server_improved: Application shutdown
[2025-12-16 16:35:42,554] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:35:42,749] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:35:42,840] INFO in server_improved: Application startup
[2025-12-16 16:35:42,846] INFO in server_improved: Environment: development
[2025-12-16 16:35:42,851] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:36:01,181] INFO in server_improved: Application shutdown
[2025-12-16 16:36:05,648] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:36:05,819] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:36:05,846] INFO in server_improved: Application startup
[2025-12-16 16:36:05,846] INFO in server_improved: Environment: development
[2025-12-16 16:36:05,853] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:36:18,142] INFO in server_improved: Application shutdown
[2025-12-16 16:36:21,547] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:36:21,637] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:36:21,676] INFO in server_improved: Application startup
[2025-12-16 16:36:21,677] INFO in server_improved: Environment: development
[2025-12-16 16:36:21,677] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:36:38,523] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.783s
[2025-12-16 16:36:38,589] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.007s
[2025-12-16 16:36:38,605] INFO in middleware: GET /branches/1 - Status: 200 - Time: 1.860s
[2025-12-16 16:36:38,662] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.027s
[2025-12-16 16:36:38,693] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.063s
[2025-12-16 16:36:38,700] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.957s
[2025-12-16 16:36:38,727] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.024s
[2025-12-16 16:36:38,743] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.015s
[2025-12-16 16:36:38,755] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.009s
[2025-12-16 16:36:45,838] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.019s
[2025-12-16 16:36:57,398] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.004s
[2025-12-16 16:36:57,402] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.008s
[2025-12-16 16:36:57,412] INFO in middleware: GET /check-initialization/ - Status: 404 - Time: 0.001s
[2025-12-16 16:36:57,419] INFO in middleware: GET /check-initialization/ - Status: 404 - Time: 0.001s
[2025-12-16 16:37:05,926] INFO in middleware: OPTIONS /initialize-system/ - Status: 200 - Time: 0.000s
[2025-12-16 16:37:05,932] INFO in middleware: POST /initialize-system/ - Status: 404 - Time: 0.000s
[2025-12-16 16:37:11,773] INFO in middleware: GET /check-initialization/ - Status: 404 - Time: 0.005s
[2025-12-16 16:37:11,783] INFO in middleware: GET /check-initialization/ - Status: 404 - Time: 0.002s
[2025-12-16 16:37:24,754] INFO in middleware: GET /check-initialization/ - Status: 404 - Time: 0.004s
[2025-12-16 16:37:24,769] INFO in middleware: GET /check-initialization/ - Status: 404 - Time: 0.007s
[2025-12-16 16:38:38,639] INFO in server_improved: Application shutdown
[2025-12-16 16:38:43,552] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:38:43,682] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:38:43,725] INFO in server_improved: Application startup
[2025-12-16 16:38:43,725] INFO in server_improved: Environment: development
[2025-12-16 16:38:43,725] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:38:46,406] INFO in server_improved: Application shutdown
[2025-12-16 16:38:49,088] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:38:49,200] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:38:49,234] INFO in server_improved: Application startup
[2025-12-16 16:38:49,236] INFO in server_improved: Environment: development
[2025-12-16 16:38:49,236] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:39:23,770] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.103s
[2025-12-16 16:39:23,783] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.008s
[2025-12-16 16:39:29,861] INFO in middleware: OPTIONS /login/ - Status: 200 - Time: 0.001s
[2025-12-16 16:39:31,473] INFO in middleware: POST /login/ - Status: 200 - Time: 1.607s
[2025-12-16 16:39:32,600] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.037s
[2025-12-16 16:39:32,629] INFO in middleware: GET /users/ - Status: 200 - Time: 0.064s
[2025-12-16 16:39:32,665] INFO in middleware: GET /users/ - Status: 200 - Time: 0.021s
[2025-12-16 16:39:32,773] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.163s
[2025-12-16 16:39:32,795] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.214s
[2025-12-16 16:39:32,797] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.216s
[2025-12-16 16:39:32,833] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.017s
[2025-12-16 16:39:32,868] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.052s
[2025-12-16 16:41:32,091] INFO in server_improved: Application shutdown
[2025-12-16 16:41:37,557] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:41:38,416] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:41:38,452] INFO in server_improved: Application startup
[2025-12-16 16:41:38,452] INFO in server_improved: Environment: development
[2025-12-16 16:41:38,452] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:41:51,666] INFO in server_improved: Application shutdown
[2025-12-16 16:41:55,824] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:41:55,952] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:41:56,015] INFO in server_improved: Application startup
[2025-12-16 16:41:56,018] INFO in server_improved: Environment: development
[2025-12-16 16:41:56,018] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:41:57,745] INFO in server_improved: Application shutdown
[2025-12-16 16:42:03,904] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:42:04,375] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:42:04,678] INFO in server_improved: Application startup
[2025-12-16 16:42:04,682] INFO in server_improved: Environment: development
[2025-12-16 16:42:04,684] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:42:05,560] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2025-12-16 16:42:05,569] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.008s
[2025-12-16 16:42:05,645] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.010s
[2025-12-16 16:42:05,645] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.009s
[2025-12-16 16:42:05,645] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.009s
[2025-12-16 16:42:05,645] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.009s
[2025-12-16 16:42:05,645] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.009s
[2025-12-16 16:42:05,645] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.009s
[2025-12-16 16:42:06,101] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.253s
[2025-12-16 16:42:06,130] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.016s
[2025-12-16 16:42:06,197] INFO in middleware: GET /users/ - Status: 200 - Time: 0.350s
[2025-12-16 16:42:06,222] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.374s
[2025-12-16 16:42:06,246] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.399s
[2025-12-16 16:42:06,256] INFO in middleware: GET /users/ - Status: 200 - Time: 0.043s
[2025-12-16 16:42:06,274] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.037s
[2025-12-16 16:42:06,416] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.128s
[2025-12-16 16:42:15,377] INFO in server_improved: Application shutdown
[2025-12-16 16:42:17,968] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:42:18,593] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:42:18,616] INFO in server_improved: Application startup
[2025-12-16 16:42:18,617] INFO in server_improved: Environment: development
[2025-12-16 16:42:18,617] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:46:40,196] INFO in server_improved: Application shutdown
[2025-12-16 16:46:46,320] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:46:46,479] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:46:46,551] INFO in server_improved: Application startup
[2025-12-16 16:46:46,552] INFO in server_improved: Environment: development
[2025-12-16 16:46:46,553] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:46:50,841] INFO in server_improved: Application shutdown
[2025-12-16 16:46:53,487] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:46:53,602] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:46:53,643] INFO in server_improved: Application startup
[2025-12-16 16:46:53,643] INFO in server_improved: Environment: development
[2025-12-16 16:46:53,643] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2025-12-16 16:47:04,469] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.137s
[2025-12-16 16:47:04,504] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.015s
[2025-12-16 16:47:04,529] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.190s
[2025-12-16 16:47:04,544] INFO in middleware: GET /users/ - Status: 200 - Time: 0.203s
[2025-12-16 16:47:04,586] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.031s
[2025-12-16 16:47:04,607] INFO in middleware: GET /users/ - Status: 200 - Time: 0.052s
[2025-12-16 16:47:04,648] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.307s
[2025-12-16 16:47:04,724] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.065s
[2025-12-16 16:47:42,323] INFO in server_improved: Application shutdown
[2025-12-16 16:47:45,105] INFO in cache: Successfully connected to Redis at localhost:6379
[2025-12-16 16:47:45,289] INFO in server_improved: Auth router loaded successfully
[2025-12-16 16:47:45,383] INFO in server_improved: Application startup
[2025-12-16 16:47:45,383] INFO in server_improved: Environment: development
[2026-01-06 11:59:13,554] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-06 11:59:15,153] INFO in server_improved: Auth router loaded successfully
[2026-01-06 11:59:15,285] INFO in server_improved: Application startup
[2026-01-06 11:59:15,286] INFO in server_improved: Environment: development
[2026-01-06 11:59:15,310] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:09:39,411] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.062s
[2026-01-06 12:09:39,461] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.142s
[2026-01-06 12:09:40,610] INFO in middleware: OPTIONS /login/ - Status: 200 - Time: 0.001s
[2026-01-06 12:09:41,080] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-06 12:09:41,155] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 1.509s
[2026-01-06 12:09:41,173] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-06 12:09:41,178] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.018s
[2026-01-06 12:09:44,589] INFO in middleware: POST /login/ - Status: 200 - Time: 3.951s
[2026-01-06 12:09:54,078] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-06 12:09:54,153] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.007s
[2026-01-06 12:09:54,154] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.008s
[2026-01-06 12:09:54,154] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.007s
[2026-01-06 12:09:54,155] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.008s
[2026-01-06 12:09:54,156] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.008s
[2026-01-06 12:09:54,321] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.170s
[2026-01-06 12:09:54,714] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.324s
[2026-01-06 12:09:55,545] INFO in middleware: GET /users/ - Status: 200 - Time: 1.155s
[2026-01-06 12:09:56,063] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.673s
[2026-01-06 12:09:56,078] INFO in middleware: GET /users/ - Status: 200 - Time: 0.131s
[2026-01-06 12:09:56,279] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.175s
[2026-01-06 12:09:57,337] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 2.947s
[2026-01-06 12:09:57,443] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.082s
[2026-01-06 12:09:58,055] INFO in middleware: GET /activity/ - Status: 200 - Time: 3.654s
[2026-01-06 12:09:58,223] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.162s
[2026-01-06 12:43:50,856] INFO in server_improved: Application shutdown
[2026-01-06 12:44:11,319] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-06 12:44:11,951] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:44:12,108] INFO in server_improved: Application startup
[2026-01-06 12:44:12,129] INFO in server_improved: Environment: development
[2026-01-06 12:44:12,130] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:44:54,861] INFO in server_improved: Application shutdown
[2026-01-06 12:45:07,211] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-06 12:45:07,565] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:45:07,784] INFO in server_improved: Application startup
[2026-01-06 12:45:07,789] INFO in server_improved: Environment: development
[2026-01-06 12:45:07,790] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:45:24,859] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.009s
[2026-01-06 12:45:24,874] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.017s
[2026-01-06 12:45:24,877] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.019s
[2026-01-06 12:45:24,878] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.021s
[2026-01-06 12:45:24,879] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.021s
[2026-01-06 12:45:24,916] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.042s
[2026-01-06 12:45:25,090] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.172s
[2026-01-06 12:45:25,108] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.009s
[2026-01-06 12:45:25,169] INFO in middleware: GET /users/ - Status: 200 - Time: 0.221s
[2026-01-06 12:45:25,195] INFO in middleware: GET /users/ - Status: 200 - Time: 0.017s
[2026-01-06 12:45:25,212] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.278s
[2026-01-06 12:45:25,225] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.276s
[2026-01-06 12:45:25,246] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.031s
[2026-01-06 12:45:25,247] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.012s
[2026-01-06 12:50:55,501] INFO in server_improved: Application shutdown
[2026-01-06 12:51:08,780] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-06 12:51:09,079] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:51:09,363] INFO in server_improved: Application startup
[2026-01-06 12:51:09,363] INFO in server_improved: Environment: development
[2026-01-06 12:51:09,363] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:53:04,401] INFO in server_improved: Application shutdown
[2026-01-06 12:54:19,809] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:54:19,992] INFO in server_improved: Application startup
[2026-01-06 12:54:19,993] INFO in server_improved: Environment: development
[2026-01-06 12:54:19,993] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:54:20,006] INFO in server_improved: Application shutdown
[2026-01-06 12:54:42,045] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:54:42,237] INFO in server_improved: Application startup
[2026-01-06 12:54:42,238] INFO in server_improved: Environment: development
[2026-01-06 12:54:42,247] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:54:42,302] INFO in server_improved: Application shutdown
[2026-01-06 12:54:53,193] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:54:53,382] INFO in server_improved: Application startup
[2026-01-06 12:54:53,383] INFO in server_improved: Environment: development
[2026-01-06 12:54:53,384] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:55:04,926] INFO in server_improved: Application shutdown
[2026-01-06 12:55:20,624] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:55:21,310] INFO in server_improved: Application startup
[2026-01-06 12:55:21,311] INFO in server_improved: Environment: development
[2026-01-06 12:55:21,312] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:55:23,986] INFO in server_improved: Application shutdown
[2026-01-06 12:55:42,897] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:55:43,219] INFO in server_improved: Application startup
[2026-01-06 12:55:43,219] INFO in server_improved: Environment: development
[2026-01-06 12:55:43,221] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:55:43,241] INFO in server_improved: Application shutdown
[2026-01-06 12:55:56,976] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:55:57,576] INFO in server_improved: Application startup
[2026-01-06 12:55:57,576] INFO in server_improved: Environment: development
[2026-01-06 12:55:57,587] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 12:56:38,680] INFO in server_improved: Application shutdown
[2026-01-06 12:56:47,291] INFO in server_improved: Auth router loaded successfully
[2026-01-06 12:56:47,597] INFO in server_improved: Application startup
[2026-01-06 12:56:47,597] INFO in server_improved: Environment: development
[2026-01-06 12:56:47,597] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 13:00:23,268] INFO in server_improved: Application shutdown
[2026-01-06 13:00:37,792] INFO in server_improved: Auth router loaded successfully
[2026-01-06 13:00:37,866] INFO in server_improved: Application startup
[2026-01-06 13:00:37,867] INFO in server_improved: Environment: development
[2026-01-06 13:00:37,868] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-06 13:06:41,242] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.023s
[2026-01-06 13:06:41,248] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.018s
[2026-01-06 13:06:41,248] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.018s
[2026-01-06 13:06:41,248] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.018s
[2026-01-06 13:06:41,256] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.024s
[2026-01-06 13:06:41,256] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.023s
[2026-01-06 13:06:41,303] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.008s
[2026-01-06 13:06:41,330] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.032s
[2026-01-06 13:06:42,127] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.825s
[2026-01-06 13:06:42,146] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.014s
[2026-01-06 13:06:42,170] INFO in middleware: GET /users/ - Status: 200 - Time: 0.868s
[2026-01-06 13:06:42,203] INFO in middleware: GET /users/ - Status: 200 - Time: 0.014s
[2026-01-06 13:06:42,237] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.939s
[2026-01-06 13:06:42,276] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.977s
[2026-01-06 13:06:42,282] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.036s
[2026-01-06 13:06:42,315] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.013s
[2026-01-06 13:08:13,764] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.002s
[2026-01-06 13:08:13,809] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.046s
[2026-01-06 13:08:13,977] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.136s
[2026-01-06 13:08:14,373] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.054s
[2026-01-06 13:08:25,009] INFO in middleware: OPTIONS /api/branches/2/tax_rate/ - Status: 200 - Time: 0.000s
[2026-01-06 13:08:25,015] INFO in middleware: PUT /api/branches/2/tax_rate/ - Status: 405 - Time: 0.000s
[2026-01-06 13:08:28,939] INFO in middleware: PUT /api/branches/2/tax_rate/ - Status: 405 - Time: 0.001s
[2026-01-06 13:12:00,757] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.001s
[2026-01-06 13:12:00,800] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.005s
[2026-01-06 13:12:01,005] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.171s
[2026-01-06 13:12:01,211] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.000s
[2026-01-06 13:12:01,626] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.781s
[2026-01-06 13:12:01,773] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.938s
[2026-01-06 13:12:01,884] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-06 13:12:01,992] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.058s
[2026-01-06 13:12:02,015] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.062s
[2026-01-06 13:12:02,087] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.225s
[2026-01-06 13:12:02,132] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.029s
[2026-01-06 13:12:02,202] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.037s
[2026-01-06 13:12:47,179] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.016s
[2026-01-06 13:12:47,200] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.016s
[2026-01-06 13:12:47,355] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.025s
[2026-01-07 01:33:09,778] INFO in server_improved: Application shutdown
[2026-01-07 11:50:21,566] INFO in server_improved: Auth router loaded successfully
[2026-01-07 11:50:22,563] INFO in server_improved: Application startup
[2026-01-07 11:50:22,563] INFO in server_improved: Environment: development
[2026-01-07 11:50:22,563] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:00:42,713] INFO in server_improved: Application shutdown
[2026-01-07 12:01:25,355] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:01:25,472] INFO in server_improved: Application startup
[2026-01-07 12:01:25,474] INFO in server_improved: Environment: development
[2026-01-07 12:01:25,474] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:07:41,104] INFO in server_improved: Application shutdown
[2026-01-07 12:07:58,327] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:07:58,627] INFO in server_improved: Application startup
[2026-01-07 12:07:58,627] INFO in server_improved: Environment: development
[2026-01-07 12:07:58,628] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:08:02,318] INFO in server_improved: Application shutdown
[2026-01-07 12:08:20,345] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:08:20,678] INFO in server_improved: Application startup
[2026-01-07 12:08:20,678] INFO in server_improved: Environment: development
[2026-01-07 12:08:20,678] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:08:20,745] INFO in server_improved: Application shutdown
[2026-01-07 12:08:33,002] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:08:33,145] INFO in server_improved: Application startup
[2026-01-07 12:08:33,146] INFO in server_improved: Environment: development
[2026-01-07 12:08:33,149] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:08:42,408] INFO in server_improved: Application shutdown
[2026-01-07 12:08:58,887] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:08:59,079] INFO in server_improved: Application startup
[2026-01-07 12:08:59,080] INFO in server_improved: Environment: development
[2026-01-07 12:08:59,080] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:09:18,368] INFO in server_improved: Application shutdown
[2026-01-07 12:09:34,388] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:09:34,618] INFO in server_improved: Application startup
[2026-01-07 12:09:34,618] INFO in server_improved: Environment: development
[2026-01-07 12:09:34,618] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:09:53,325] INFO in server_improved: Application shutdown
[2026-01-07 12:10:14,344] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:10:14,592] INFO in server_improved: Application startup
[2026-01-07 12:10:14,604] INFO in server_improved: Environment: development
[2026-01-07 12:10:14,611] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:12:00,945] INFO in server_improved: Application shutdown
[2026-01-07 12:12:20,974] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:12:21,345] INFO in server_improved: Application startup
[2026-01-07 12:12:21,351] INFO in server_improved: Environment: development
[2026-01-07 12:12:21,351] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:12:21,553] INFO in server_improved: Application shutdown
[2026-01-07 12:12:35,578] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:12:35,909] INFO in server_improved: Application startup
[2026-01-07 12:12:35,910] INFO in server_improved: Environment: development
[2026-01-07 12:12:35,911] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:12:39,411] INFO in server_improved: Application shutdown
[2026-01-07 12:12:51,186] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:12:51,380] INFO in server_improved: Application startup
[2026-01-07 12:12:51,380] INFO in server_improved: Environment: development
[2026-01-07 12:12:51,380] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:13:06,614] INFO in server_improved: Application shutdown
[2026-01-07 12:13:12,625] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:13:12,798] INFO in server_improved: Application startup
[2026-01-07 12:13:12,799] INFO in server_improved: Environment: development
[2026-01-07 12:13:12,802] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:18:46,558] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.132s
[2026-01-07 12:18:46,581] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.133s
[2026-01-07 12:18:46,581] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.035s
[2026-01-07 12:18:46,586] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.040s
[2026-01-07 12:18:48,353] INFO in middleware: GET /branches/1 - Status: 401 - Time: 1.230s
[2026-01-07 12:18:48,356] INFO in middleware: GET /transactions/ - Status: 401 - Time: 1.232s
[2026-01-07 12:18:48,358] INFO in middleware: GET /branches/ - Status: 401 - Time: 1.680s
[2026-01-07 12:18:48,390] INFO in middleware: GET /branches/ - Status: 401 - Time: 0.008s
[2026-01-07 12:19:50,111] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-07 12:19:50,222] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 13.197s
[2026-01-07 12:19:50,232] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-07 12:19:50,235] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.009s
[2026-01-07 12:19:57,132] INFO in middleware: OPTIONS /login/ - Status: 200 - Time: 0.002s
[2026-01-07 12:19:59,082] INFO in middleware: POST /login/ - Status: 200 - Time: 1.946s
[2026-01-07 12:20:09,947] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.000s
[2026-01-07 12:20:10,026] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.079s
[2026-01-07 12:20:10,026] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.079s
[2026-01-07 12:20:10,026] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.079s
[2026-01-07 12:20:10,193] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.246s
[2026-01-07 12:20:10,684] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.106s
[2026-01-07 12:20:11,229] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.281s
[2026-01-07 12:20:11,930] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 1.347s
[2026-01-07 12:20:12,011] INFO in middleware: GET /users/ - Status: 200 - Time: 1.434s
[2026-01-07 12:20:12,242] INFO in middleware: GET /activity/ - Status: 200 - Time: 1.660s
[2026-01-07 12:20:12,877] INFO in middleware: GET /users/ - Status: 200 - Time: 0.042s
[2026-01-07 12:20:12,905] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.070s
[2026-01-07 12:20:12,959] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.116s
[2026-01-07 12:20:12,977] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.131s
[2026-01-07 12:23:57,472] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.125s
[2026-01-07 12:23:57,787] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.331s
[2026-01-07 12:23:57,805] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.335s
[2026-01-07 12:23:57,809] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.074s
[2026-01-07 12:23:57,824] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-07 12:23:57,871] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.022s
[2026-01-07 12:23:58,519] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.672s
[2026-01-07 12:23:58,540] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.186s
[2026-01-07 12:23:58,578] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.030s
[2026-01-07 12:23:58,662] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.052s
[2026-01-07 12:23:59,571] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.021s
[2026-01-07 12:23:59,595] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.019s
[2026-01-07 12:23:59,960] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.035s
[2026-01-07 12:24:05,593] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.081s
[2026-01-07 12:24:05,595] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.083s
[2026-01-07 12:24:05,614] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.093s
[2026-01-07 12:24:05,615] INFO in middleware: GET /users/ - Status: 200 - Time: 0.104s
[2026-01-07 12:24:05,682] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.035s
[2026-01-07 12:24:05,730] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.081s
[2026-01-07 12:24:05,900] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.237s
[2026-01-07 12:24:05,913] INFO in middleware: GET /users/ - Status: 200 - Time: 0.244s
[2026-01-07 12:24:20,542] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.002s
[2026-01-07 12:24:20,601] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.001s
[2026-01-07 12:24:20,630] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.023s
[2026-01-07 12:24:20,688] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.012s
[2026-01-07 12:24:50,887] INFO in middleware: OPTIONS /api/branches/2/tax_rate/ - Status: 200 - Time: 0.010s
[2026-01-07 12:24:51,529] INFO in middleware: PUT /api/branches/2/tax_rate/ - Status: 200 - Time: 0.636s
[2026-01-07 12:24:51,549] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.003s
[2026-01-07 12:25:14,795] INFO in middleware: OPTIONS /branches/2/allocate-funds/ - Status: 200 - Time: 0.002s
[2026-01-07 12:25:15,510] INFO in middleware: POST /branches/2/allocate-funds/ - Status: 200 - Time: 0.646s
[2026-01-07 12:25:15,711] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.016s
[2026-01-07 12:44:52,164] INFO in server_improved: Application shutdown
[2026-01-07 12:45:14,383] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:45:14,471] INFO in server_improved: Application startup
[2026-01-07 12:45:14,481] INFO in server_improved: Environment: development
[2026-01-07 12:45:14,482] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:47:36,564] INFO in server_improved: Application shutdown
[2026-01-07 12:47:49,905] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:47:50,110] INFO in server_improved: Application startup
[2026-01-07 12:47:50,110] INFO in server_improved: Environment: development
[2026-01-07 12:47:50,111] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:48:40,572] INFO in server_improved: Application shutdown
[2026-01-07 12:49:01,206] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:49:01,462] INFO in server_improved: Application startup
[2026-01-07 12:49:01,464] INFO in server_improved: Environment: development
[2026-01-07 12:49:01,465] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:49:01,500] INFO in server_improved: Application shutdown
[2026-01-07 12:49:11,772] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:49:12,147] INFO in server_improved: Application startup
[2026-01-07 12:49:12,207] INFO in server_improved: Environment: development
[2026-01-07 12:49:12,215] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:49:12,289] INFO in server_improved: Application shutdown
[2026-01-07 12:49:18,741] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:49:18,851] INFO in server_improved: Application startup
[2026-01-07 12:49:18,852] INFO in server_improved: Environment: development
[2026-01-07 12:49:18,852] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 12:55:03,997] INFO in server_improved: Application shutdown
[2026-01-07 12:55:19,261] INFO in server_improved: Auth router loaded successfully
[2026-01-07 12:55:19,345] INFO in server_improved: Application startup
[2026-01-07 12:55:19,346] INFO in server_improved: Environment: development
[2026-01-07 12:55:19,347] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-07 13:11:41,629] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.015s
[2026-01-07 13:11:41,630] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.014s
[2026-01-07 13:11:41,631] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.015s
[2026-01-07 13:11:41,663] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.040s
[2026-01-07 13:11:42,395] INFO in middleware: GET /users/ - Status: 200 - Time: 0.701s
[2026-01-07 13:11:42,447] INFO in middleware: GET /users/ - Status: 200 - Time: 0.017s
[2026-01-07 13:11:42,572] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.856s
[2026-01-07 13:11:42,590] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.007s
[2026-01-08 12:39:00,621] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:39:01,244] INFO in server_improved: Application startup
[2026-01-08 12:39:01,244] INFO in server_improved: Environment: development
[2026-01-08 12:39:01,244] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:41:25,094] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.023s
[2026-01-08 12:41:25,159] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.097s
[2026-01-08 12:41:26,315] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-08 12:41:26,338] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.968s
[2026-01-08 12:41:26,349] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-08 12:41:26,353] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.011s
[2026-01-08 12:41:29,351] INFO in middleware: OPTIONS /login/ - Status: 200 - Time: 0.001s
[2026-01-08 12:41:37,307] INFO in middleware: POST /login/ - Status: 200 - Time: 7.943s
[2026-01-08 12:41:59,814] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.002s
[2026-01-08 12:41:59,977] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.006s
[2026-01-08 12:41:59,978] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.007s
[2026-01-08 12:41:59,978] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.007s
[2026-01-08 12:41:59,979] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.007s
[2026-01-08 12:41:59,986] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.012s
[2026-01-08 12:42:00,010] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.035s
[2026-01-08 12:42:00,024] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.002s
[2026-01-08 12:42:05,631] INFO in middleware: GET /activity/ - Status: 200 - Time: 5.480s
[2026-01-08 12:42:05,694] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.054s
[2026-01-08 12:42:07,353] INFO in middleware: GET /users/ - Status: 200 - Time: 5.223s
[2026-01-08 12:42:07,353] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 5.223s
[2026-01-08 12:42:07,423] INFO in middleware: GET /users/ - Status: 200 - Time: 0.019s
[2026-01-08 12:42:07,451] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.020s
[2026-01-08 12:42:08,226] INFO in middleware: GET /branches/ - Status: 200 - Time: 8.076s
[2026-01-08 12:42:08,283] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.010s
[2026-01-08 12:42:38,740] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.003s
[2026-01-08 12:42:38,820] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.079s
[2026-01-08 12:42:39,020] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.152s
[2026-01-08 12:42:39,194] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.121s
[2026-01-08 12:42:59,680] INFO in middleware: OPTIONS /branches/2 - Status: 200 - Time: 0.001s
[2026-01-08 12:43:01,367] INFO in middleware: PUT /branches/2 - Status: 200 - Time: 1.653s
[2026-01-08 12:43:01,439] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.035s
[2026-01-08 12:45:25,232] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.219s
[2026-01-08 12:45:25,565] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.001s
[2026-01-08 12:45:25,899] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.616s
[2026-01-08 12:45:26,171] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.272s
[2026-01-08 12:45:27,253] INFO in middleware: GET /branches/1 - Status: 200 - Time: 1.083s
[2026-01-08 12:45:27,412] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.003s
[2026-01-08 12:45:27,688] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.212s
[2026-01-08 12:45:27,736] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.393s
[2026-01-08 12:45:27,899] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.144s
[2026-01-08 12:45:28,243] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.737s
[2026-01-08 12:45:28,621] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.546s
[2026-01-08 12:45:28,806] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.160s
[2026-01-08 12:45:30,639] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.174s
[2026-01-08 12:45:30,962] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.110s
[2026-01-08 12:45:31,181] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.065s
[2026-01-08 12:46:10,616] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.203s
[2026-01-08 12:46:14,719] INFO in server_improved: Application shutdown
[2026-01-08 12:47:31,583] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:47:32,112] INFO in server_improved: Application startup
[2026-01-08 12:47:32,114] INFO in server_improved: Environment: development
[2026-01-08 12:47:32,117] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:47:32,196] INFO in server_improved: Application shutdown
[2026-01-08 12:48:06,658] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:48:07,809] INFO in server_improved: Application startup
[2026-01-08 12:48:07,809] INFO in server_improved: Environment: development
[2026-01-08 12:48:07,810] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:48:07,989] INFO in server_improved: Application shutdown
[2026-01-08 12:48:43,516] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:48:43,931] INFO in server_improved: Application startup
[2026-01-08 12:48:43,931] INFO in server_improved: Environment: development
[2026-01-08 12:48:43,932] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:49:19,342] INFO in server_improved: Application shutdown
[2026-01-08 12:50:05,948] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:50:07,410] INFO in server_improved: Application startup
[2026-01-08 12:50:07,411] INFO in server_improved: Environment: development
[2026-01-08 12:50:07,412] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:50:13,833] INFO in server_improved: Application shutdown
[2026-01-08 12:50:36,089] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:50:36,566] INFO in server_improved: Application startup
[2026-01-08 12:50:36,567] INFO in server_improved: Environment: development
[2026-01-08 12:50:36,569] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:50:48,976] INFO in server_improved: Application shutdown
[2026-01-08 12:51:08,868] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:51:09,061] INFO in server_improved: Application startup
[2026-01-08 12:51:09,061] INFO in server_improved: Environment: development
[2026-01-08 12:51:09,062] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:51:09,130] INFO in server_improved: Application shutdown
[2026-01-08 12:51:21,831] INFO in server_improved: Auth router loaded successfully
[2026-01-08 12:51:21,962] INFO in server_improved: Application startup
[2026-01-08 12:51:21,962] INFO in server_improved: Environment: development
[2026-01-08 12:51:21,963] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 12:52:32,661] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.002s
[2026-01-08 12:52:33,692] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches 
WHERE branches.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 2, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1091, in get_transactions
    destination_branch = db.query(Branch).filter(Branch.id == trans.destination_branch_id).first() if trans.destination_branch_id else None
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches 
WHERE branches.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 2, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 12:53:37,670] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.004s
[2026-01-08 12:53:37,728] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.061s
[2026-01-08 12:53:38,284] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches 
WHERE branches.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 1, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 797, in get_branch
    branch = db.query(Branch).filter(Branch.id == branch_id).first()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches 
WHERE branches.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 1, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 12:53:39,981] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches 
WHERE branches.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 2, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1091, in get_transactions
    destination_branch = db.query(Branch).filter(Branch.id == trans.destination_branch_id).first() if trans.destination_branch_id else None
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches 
WHERE branches.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 2, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 12:53:41,298] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 760, in get_branches
    branches = db.query(Branch).all()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 12:53:41,714] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 760, in get_branches
    branches = db.query(Branch).all()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column branches.status does not exist
LINE 1: ...d_amount, branches.tax_rate AS branches_tax_rate, branches.s...
                                                             ^

[SQL: SELECT branches.id AS branches_id, branches.branch_id AS branches_branch_id, branches.name AS branches_name, branches.location AS branches_location, branches.governorate AS branches_governorate, branches.phone_number AS branches_phone_number, branches.allocated_amount_syp AS branches_allocated_amount_syp, branches.allocated_amount_usd AS branches_allocated_amount_usd, branches.allocated_amount AS branches_allocated_amount, branches.tax_rate AS branches_tax_rate, branches.status AS branches_status, branches.created_at AS branches_created_at 
FROM branches]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 13:41:26,626] INFO in server_improved: Application shutdown
[2026-01-08 13:42:32,187] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:42:32,371] INFO in server_improved: Application startup
[2026-01-08 13:42:32,372] INFO in server_improved: Environment: development
[2026-01-08 13:42:32,375] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:43:33,146] INFO in server_improved: Application shutdown
[2026-01-08 13:44:18,671] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:44:19,126] INFO in server_improved: Application startup
[2026-01-08 13:44:19,126] INFO in server_improved: Environment: development
[2026-01-08 13:44:19,129] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:46:18,987] INFO in server_improved: Application shutdown
[2026-01-08 13:46:32,899] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:46:32,978] INFO in server_improved: Application startup
[2026-01-08 13:46:32,978] INFO in server_improved: Environment: development
[2026-01-08 13:46:32,978] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:46:32,999] INFO in server_improved: Application shutdown
[2026-01-08 13:46:48,348] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:46:48,583] INFO in server_improved: Application startup
[2026-01-08 13:46:48,584] INFO in server_improved: Environment: development
[2026-01-08 13:46:48,644] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:46:48,691] INFO in server_improved: Application shutdown
[2026-01-08 13:46:54,712] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:46:54,974] INFO in server_improved: Application startup
[2026-01-08 13:46:54,976] INFO in server_improved: Environment: development
[2026-01-08 13:46:54,976] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:47:53,763] INFO in server_improved: Application shutdown
[2026-01-08 13:48:08,331] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:48:08,504] INFO in server_improved: Application startup
[2026-01-08 13:48:08,509] INFO in server_improved: Environment: development
[2026-01-08 13:48:08,509] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:48:37,158] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.018s
[2026-01-08 13:48:37,160] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.008s
[2026-01-08 13:48:38,638] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.406s
[2026-01-08 13:48:38,943] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.009s
[2026-01-08 13:48:40,775] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.002s
[2026-01-08 13:48:40,877] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-08 13:48:41,036] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.256s
[2026-01-08 13:48:41,858] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.974s
[2026-01-08 13:48:43,482] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.291s
[2026-01-08 13:48:44,487] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.000s
[2026-01-08 13:48:44,714] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.030s
[2026-01-08 13:48:44,999] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.315s
[2026-01-08 13:48:45,159] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.304s
[2026-01-08 13:48:45,263] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.025s
[2026-01-08 13:48:51,432] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.000s
[2026-01-08 13:48:51,468] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.024s
[2026-01-08 13:49:44,055] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.332s
[2026-01-08 13:49:44,249] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.039s
[2026-01-08 13:49:44,289] INFO in middleware: GET /branches/1 - Status: 200 - Time: 1.494s
[2026-01-08 13:49:44,482] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.088s
[2026-01-08 13:49:44,482] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.079s
[2026-01-08 13:49:44,804] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.397s
[2026-01-08 13:49:44,812] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.929s
[2026-01-08 13:49:44,843] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.022s
[2026-01-08 13:49:44,879] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.031s
[2026-01-08 13:49:44,913] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.030s
[2026-01-08 13:49:45,479] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.033s
[2026-01-08 13:55:48,152] INFO in server_improved: Application shutdown
[2026-01-08 13:56:03,185] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:56:03,551] INFO in server_improved: Application startup
[2026-01-08 13:56:03,552] INFO in server_improved: Environment: development
[2026-01-08 13:56:03,552] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:56:38,474] INFO in server_improved: Application shutdown
[2026-01-08 13:56:44,201] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:56:44,354] INFO in server_improved: Application startup
[2026-01-08 13:56:44,354] INFO in server_improved: Environment: development
[2026-01-08 13:56:44,354] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:57:00,037] INFO in server_improved: Application shutdown
[2026-01-08 13:57:30,996] INFO in server_improved: Auth router loaded successfully
[2026-01-08 13:57:31,160] INFO in server_improved: Application startup
[2026-01-08 13:57:31,195] INFO in server_improved: Environment: development
[2026-01-08 13:57:31,196] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 13:57:32,035] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.714s
[2026-01-08 13:57:32,040] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.720s
[2026-01-08 13:57:32,059] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.016s
[2026-01-08 13:57:32,149] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.056s
[2026-01-08 13:57:32,193] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 13:57:32,612] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.525s
[2026-01-08 13:57:32,636] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 13:57:32,844] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 13:57:37,971] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 13:57:39,392] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 13:57:41,635] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 13:57:46,319] ERROR in server_improved: Unhandled exception: 'Transaction' object has no attribute 'receiver_location'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    |     "receiver_location": trans.receiver_location,
    |                          ^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1104, in get_transactions
    "receiver_location": trans.receiver_location,
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'receiver_location'. Did you mean: 'sender_location'?
[2026-01-08 15:30:17,695] INFO in server_improved: Application shutdown
[2026-01-08 15:31:41,503] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:31:41,659] INFO in server_improved: Application startup
[2026-01-08 15:31:41,659] INFO in server_improved: Environment: development
[2026-01-08 15:31:41,661] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:32:11,923] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.001s
[2026-01-08 15:32:11,941] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.018s
[2026-01-08 15:32:11,957] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.004s
[2026-01-08 15:32:11,957] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.000s
[2026-01-08 15:32:12,346] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.388s
[2026-01-08 15:32:12,361] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.012s
[2026-01-08 15:32:12,500] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.279s
[2026-01-08 15:32:12,515] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.002s
[2026-01-08 15:32:12,553] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.295s
[2026-01-08 15:32:12,620] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.076s
[2026-01-08 15:32:12,673] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.120s
[2026-01-08 15:32:12,697] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.087s
[2026-01-08 15:32:12,736] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.031s
[2026-01-08 15:32:12,772] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.034s
[2026-01-08 15:32:17,539] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.005s
[2026-01-08 15:32:17,573] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.022s
[2026-01-08 15:32:33,674] INFO in middleware: OPTIONS /branches/2 - Status: 200 - Time: 0.002s
[2026-01-08 15:32:33,680] INFO in middleware: OPTIONS /branches/2 - Status: 200 - Time: 0.007s
[2026-01-08 15:32:33,775] INFO in middleware: GET /branches/2 - Status: 200 - Time: 0.084s
[2026-01-08 15:32:33,805] INFO in middleware: GET /branches/2 - Status: 200 - Time: 0.024s
[2026-01-08 15:33:01,804] INFO in middleware: OPTIONS /update-transaction-status/ - Status: 200 - Time: 0.001s
[2026-01-08 15:33:01,890] INFO in middleware: POST /update-transaction-status/ - Status: 200 - Time: 0.077s
[2026-01-08 15:33:01,979] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.033s
[2026-01-08 15:33:05,834] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.026s
[2026-01-08 15:33:07,271] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.027s
[2026-01-08 15:33:14,934] INFO in middleware: POST /update-transaction-status/ - Status: 200 - Time: 0.123s
[2026-01-08 15:33:14,971] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.026s
[2026-01-08 15:33:17,210] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.051s
[2026-01-08 15:33:21,258] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.048s
[2026-01-08 15:33:21,346] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.071s
[2026-01-08 15:33:21,427] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.057s
[2026-01-08 15:33:37,022] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.027s
[2026-01-08 15:33:37,053] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.057s
[2026-01-08 15:33:37,053] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.057s
[2026-01-08 15:33:37,086] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.043s
[2026-01-08 15:33:37,190] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.041s
[2026-01-08 15:33:37,200] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.062s
[2026-01-08 15:33:37,206] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.055s
[2026-01-08 15:33:37,235] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.023s
[2026-01-08 15:33:37,270] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.029s
[2026-01-08 15:33:45,472] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.043s
[2026-01-08 15:33:45,492] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.061s
[2026-01-08 15:33:45,503] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.048s
[2026-01-08 15:33:45,535] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.045s
[2026-01-08 15:33:45,612] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.065s
[2026-01-08 15:33:45,616] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.071s
[2026-01-08 15:33:45,636] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.087s
[2026-01-08 15:33:45,688] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.052s
[2026-01-08 15:33:45,724] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.028s
[2026-01-08 15:36:22,226] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.006s
[2026-01-08 15:36:22,227] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.005s
[2026-01-08 15:36:22,681] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.195s
[2026-01-08 15:36:22,802] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.108s
[2026-01-08 15:36:32,367] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.078s
[2026-01-08 15:36:32,374] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.085s
[2026-01-08 15:36:32,374] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.085s
[2026-01-08 15:36:32,394] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.012s
[2026-01-08 15:36:32,486] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.082s
[2026-01-08 15:36:32,493] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.088s
[2026-01-08 15:36:32,502] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.050s
[2026-01-08 15:36:32,545] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.038s
[2026-01-08 15:36:32,585] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.035s
[2026-01-08 15:36:37,512] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.036s
[2026-01-08 15:36:40,100] INFO in middleware: GET /branches/2 - Status: 200 - Time: 0.022s
[2026-01-08 15:36:40,127] INFO in middleware: GET /branches/2 - Status: 200 - Time: 0.021s
[2026-01-08 15:38:37,695] INFO in server_improved: Application shutdown
[2026-01-08 15:39:00,746] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:39:01,495] INFO in server_improved: Application startup
[2026-01-08 15:39:01,495] INFO in server_improved: Environment: development
[2026-01-08 15:39:01,496] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:39:01,506] INFO in server_improved: Application shutdown
[2026-01-08 15:39:09,700] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:39:09,783] INFO in server_improved: Application startup
[2026-01-08 15:39:09,783] INFO in server_improved: Environment: development
[2026-01-08 15:39:09,784] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:39:09,787] INFO in server_improved: Application shutdown
[2026-01-08 15:39:15,450] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:39:15,619] INFO in server_improved: Application startup
[2026-01-08 15:39:15,620] INFO in server_improved: Environment: development
[2026-01-08 15:39:15,620] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:39:15,628] INFO in server_improved: Application shutdown
[2026-01-08 15:39:21,938] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:39:22,072] INFO in server_improved: Application startup
[2026-01-08 15:39:22,073] INFO in server_improved: Environment: development
[2026-01-08 15:39:22,074] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:39:22,076] INFO in server_improved: Application shutdown
[2026-01-08 15:39:27,831] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:39:28,215] INFO in server_improved: Application startup
[2026-01-08 15:39:28,216] INFO in server_improved: Environment: development
[2026-01-08 15:39:28,217] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:39:44,998] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.162s
[2026-01-08 15:39:45,552] INFO in middleware: GET /branches/1 - Status: 200 - Time: 1.715s
[2026-01-08 15:39:45,643] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:39:49,972] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:39:52,010] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.016s
[2026-01-08 15:39:52,017] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:39:52,228] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.114s
[2026-01-08 15:39:53,075] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:20,233] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.014s
[2026-01-08 15:40:20,270] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.011s
[2026-01-08 15:40:20,394] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:20,457] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.089s
[2026-01-08 15:40:20,700] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.050s
[2026-01-08 15:40:20,733] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:20,976] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:22,753] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:22,816] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.081s
[2026-01-08 15:40:22,820] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.075s
[2026-01-08 15:40:23,028] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:23,256] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:23,470] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.010s
[2026-01-08 15:40:23,513] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.020s
[2026-01-08 15:40:26,083] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:49,473] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:40:49,572] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.134s
[2026-01-08 15:40:49,581] INFO in middleware: GET /branches/1 - Status: 200 - Time: 0.142s
[2026-01-08 15:40:49,988] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:41:02,004] INFO in server_improved: Application shutdown
[2026-01-08 15:41:15,123] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:41:15,493] INFO in server_improved: Application startup
[2026-01-08 15:41:15,494] INFO in server_improved: Environment: development
[2026-01-08 15:41:15,495] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:41:15,543] INFO in server_improved: Application shutdown
[2026-01-08 15:41:22,291] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:41:22,470] INFO in server_improved: Application startup
[2026-01-08 15:41:22,470] INFO in server_improved: Environment: development
[2026-01-08 15:41:22,470] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:41:30,448] INFO in server_improved: Application shutdown
[2026-01-08 15:41:38,681] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:41:38,897] INFO in server_improved: Application startup
[2026-01-08 15:41:38,934] INFO in server_improved: Environment: development
[2026-01-08 15:41:38,935] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:41:48,342] INFO in server_improved: Application shutdown
[2026-01-08 15:41:55,898] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:41:56,141] INFO in server_improved: Application startup
[2026-01-08 15:41:56,141] INFO in server_improved: Environment: development
[2026-01-08 15:41:56,141] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:41:56,242] INFO in server_improved: Application shutdown
[2026-01-08 15:42:01,309] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:42:01,381] INFO in server_improved: Application startup
[2026-01-08 15:42:01,381] INFO in server_improved: Environment: development
[2026-01-08 15:42:01,384] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:42:38,167] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.003s
[2026-01-08 15:42:38,169] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.009s
[2026-01-08 15:42:38,306] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.003s
[2026-01-08 15:42:38,377] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.006s
[2026-01-08 15:42:40,008] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.800s
[2026-01-08 15:42:40,156] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.073s
[2026-01-08 15:42:40,465] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:42:41,992] INFO in middleware: GET /branches/1 - Status: 200 - Time: 3.616s
[2026-01-08 15:42:42,212] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-08 15:42:42,325] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.020s
[2026-01-08 15:42:42,413] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:42:42,560] ERROR in server_improved: Unhandled exception: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 54, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 80, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\middleware.py", line 62, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\starlette\concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\payment-system\payment-system-web\backend\server_improved.py", line 1089, in get_transactions
    total = query.count()
            ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 3147, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2836, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2809, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\AHMAD\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column transactions.pin_code does not exist
LINE 2: ...governorate AS transactions_receiver_governorate, transactio...
                                                             ^

[SQL: SELECT count(*) AS count_1 
FROM (SELECT transactions.id AS transactions_id, transactions.sender AS transactions_sender, transactions.sender_mobile AS transactions_sender_mobile, transactions.sender_governorate AS transactions_sender_governorate, transactions.sender_location AS transactions_sender_location, transactions.receiver AS transactions_receiver, transactions.receiver_mobile AS transactions_receiver_mobile, transactions.amount AS transactions_amount, transactions.base_amount AS transactions_base_amount, transactions.benefited_amount AS transactions_benefited_amount, transactions.currency AS transactions_currency, transactions.message AS transactions_message, transactions.branch_id AS transactions_branch_id, transactions.destination_branch_id AS transactions_destination_branch_id, transactions.tax_amount AS transactions_tax_amount, transactions.tax_rate AS transactions_tax_rate, transactions.employee_id AS transactions_employee_id, transactions.received_by AS transactions_received_by, transactions.employee_name AS transactions_employee_name, transactions.branch_governorate AS transactions_branch_governorate, transactions.status AS transactions_status, transactions.is_received AS transactions_is_received, transactions.received_at AS transactions_received_at, transactions.date AS transactions_date, transactions.receiver_governorate AS transactions_receiver_governorate, transactions.pin_code AS transactions_pin_code 
FROM transactions 
WHERE transactions.branch_id = %(branch_id_1)s AND transactions.destination_branch_id = %(destination_branch_id_1)s) AS anon_1]
[parameters: {'branch_id_1': 1, 'destination_branch_id_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2026-01-08 15:43:01,991] INFO in server_improved: Application shutdown
[2026-01-08 15:43:50,608] INFO in server_improved: Auth router loaded successfully
[2026-01-08 15:43:50,778] INFO in server_improved: Application startup
[2026-01-08 15:43:50,778] INFO in server_improved: Environment: development
[2026-01-08 15:43:50,778] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-08 15:43:53,617] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-08 15:43:53,830] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.023s
[2026-01-08 15:43:53,928] INFO in middleware: OPTIONS /branches/1 - Status: 200 - Time: 0.000s
[2026-01-08 15:43:53,951] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-08 15:43:55,275] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.191s
[2026-01-08 15:43:57,243] INFO in middleware: GET /branches/1 - Status: 200 - Time: 3.155s
[2026-01-08 15:43:57,275] INFO in middleware: GET /branches/ - Status: 200 - Time: 3.037s
[2026-01-08 15:43:57,362] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.004s
[2026-01-08 15:43:57,522] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.163s
[2026-01-08 15:43:57,702] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.225s
[2026-01-08 15:43:57,726] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.367s
[2026-01-08 15:43:57,985] INFO in middleware: GET /transactions/ - Status: 200 - Time: 3.747s
[2026-01-08 15:44:01,894] INFO in middleware: GET /transactions/ - Status: 200 - Time: 3.903s
[2026-01-08 15:44:02,899] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.864s
[2026-01-08 15:44:03,209] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.306s
[2026-01-08 15:44:03,435] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.061s
[2026-01-09 14:37:13,494] INFO in server_improved: Auth router loaded successfully
[2026-01-09 14:37:13,603] INFO in server_improved: ==================================================
[2026-01-09 14:37:13,603] INFO in server_improved: Payment System API - Starting up
[2026-01-09 14:37:13,603] INFO in server_improved: ==================================================
[2026-01-09 14:37:13,603] INFO in server_improved: Environment: development
[2026-01-09 14:37:13,603] INFO in server_improved: Debug Mode: False
[2026-01-09 14:37:13,603] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 14:37:13,603] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 14:37:13,603] INFO in server_improved: System initialization endpoints available:
[2026-01-09 14:37:13,603] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 14:37:13,603] INFO in server_improved:   POST /initialize-system/
[2026-01-09 14:37:13,603] INFO in server_improved: ==================================================
[2026-01-09 14:53:10,583] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.032s
[2026-01-09 14:53:10,631] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.073s
[2026-01-09 14:53:13,107] INFO in server_improved: System initialization check: False (director count: 0)
[2026-01-09 14:53:13,157] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 2.385s
[2026-01-09 14:53:13,221] INFO in server_improved: System initialization check: False (director count: 0)
[2026-01-09 14:53:13,236] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.040s
[2026-01-09 14:53:23,476] INFO in middleware: OPTIONS /initialize-system/ - Status: 200 - Time: 0.001s
[2026-01-09 14:53:24,160] INFO in server_improved: Initialization attempt with username: 
[2026-01-09 14:53:24,163] WARNING in server_improved: Initialization failed: Password too short
[2026-01-09 14:53:24,216] INFO in middleware: POST /initialize-system/ - Status: 400 - Time: 0.726s
[2026-01-09 14:53:51,644] INFO in server_improved: Initialization attempt with username: 
[2026-01-09 14:53:53,233] INFO in server_improved: System initialized successfully with user:  (ID: 1)
[2026-01-09 14:53:53,237] INFO in middleware: POST /initialize-system/ - Status: 200 - Time: 1.602s
[2026-01-09 14:54:03,962] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-09 14:54:03,966] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.023s
[2026-01-09 14:54:03,995] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-09 14:54:03,999] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.011s
[2026-01-09 14:54:21,519] INFO in middleware: OPTIONS /login/ - Status: 200 - Time: 0.009s
[2026-01-09 14:54:34,712] INFO in middleware: POST /login/ - Status: 200 - Time: 13.193s
[2026-01-09 14:55:21,307] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 14:55:21,307] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 14:55:22,660] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.256s
[2026-01-09 14:55:22,697] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.019s
[2026-01-09 15:21:56,727] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.400s
[2026-01-09 15:21:57,052] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.499s
[2026-01-09 15:21:57,068] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.516s
[2026-01-09 15:21:57,069] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.510s
[2026-01-09 15:22:04,347] INFO in middleware: GET /users/ - Status: 200 - Time: 7.071s
[2026-01-09 15:22:04,349] INFO in middleware: GET /branches/ - Status: 200 - Time: 7.074s
[2026-01-09 15:22:04,541] INFO in middleware: GET /users/ - Status: 200 - Time: 0.174s
[2026-01-09 15:22:04,596] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.224s
[2026-01-09 15:22:18,014] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.002s
[2026-01-09 15:22:18,138] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 15:22:18,587] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.264s
[2026-01-09 15:22:18,606] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.015s
[2026-01-09 15:22:55,044] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 15:22:56,378] INFO in middleware: POST /branches/ - Status: 200 - Time: 1.318s
[2026-01-09 15:22:56,507] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.106s
[2026-01-09 15:41:20,290] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.032s
[2026-01-09 15:41:22,933] INFO in middleware: POST /branches/ - Status: 200 - Time: 2.559s
[2026-01-09 15:41:22,965] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 15:41:23,235] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.201s
[2026-01-09 15:41:32,816] INFO in middleware: OPTIONS /branches/1/allocate-funds/ - Status: 200 - Time: 0.000s
[2026-01-09 15:41:35,821] INFO in middleware: POST /branches/1/allocate-funds/ - Status: 200 - Time: 2.984s
[2026-01-09 15:41:35,875] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.027s
[2026-01-09 15:43:28,049] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.244s
[2026-01-09 15:43:28,201] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.141s
[2026-01-09 15:43:33,628] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.090s
[2026-01-09 15:43:33,654] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.021s
[2026-01-09 15:43:33,812] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-09 15:43:35,394] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.573s
[2026-01-09 15:43:35,743] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.306s
[2026-01-09 15:43:57,811] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.000s
[2026-01-09 15:43:59,308] INFO in middleware: POST /transactions/ - Status: 404 - Time: 1.410s
[2026-01-09 15:47:54,501] INFO in server_improved: Application shutdown
[2026-01-09 15:48:50,620] INFO in server_improved: Auth router loaded successfully
[2026-01-09 15:48:50,919] INFO in server_improved: ==================================================
[2026-01-09 15:48:50,940] INFO in server_improved: Payment System API - Starting up
[2026-01-09 15:48:50,990] INFO in server_improved: ==================================================
[2026-01-09 15:48:51,228] INFO in server_improved: Environment: development
[2026-01-09 15:48:51,228] INFO in server_improved: Debug Mode: False
[2026-01-09 15:48:51,439] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 15:48:51,441] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 15:48:51,442] INFO in server_improved: System initialization endpoints available:
[2026-01-09 15:48:51,443] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 15:48:51,444] INFO in server_improved:   POST /initialize-system/
[2026-01-09 15:48:51,445] INFO in server_improved: ==================================================
[2026-01-09 15:48:51,624] INFO in server_improved: Application shutdown
[2026-01-09 15:49:13,513] INFO in server_improved: Auth router loaded successfully
[2026-01-09 15:49:13,881] INFO in server_improved: ==================================================
[2026-01-09 15:49:13,888] INFO in server_improved: Payment System API - Starting up
[2026-01-09 15:49:13,889] INFO in server_improved: ==================================================
[2026-01-09 15:49:13,901] INFO in server_improved: Environment: development
[2026-01-09 15:49:13,903] INFO in server_improved: Debug Mode: False
[2026-01-09 15:49:13,904] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 15:49:13,905] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 15:49:13,905] INFO in server_improved: System initialization endpoints available:
[2026-01-09 15:49:13,905] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 15:49:13,906] INFO in server_improved:   POST /initialize-system/
[2026-01-09 15:49:13,907] INFO in server_improved: ==================================================
[2026-01-09 15:49:23,667] INFO in server_improved: Application shutdown
[2026-01-09 15:49:38,285] INFO in server_improved: Auth router loaded successfully
[2026-01-09 15:49:38,352] INFO in server_improved: ==================================================
[2026-01-09 15:49:38,363] INFO in server_improved: Payment System API - Starting up
[2026-01-09 15:49:38,364] INFO in server_improved: ==================================================
[2026-01-09 15:49:38,364] INFO in server_improved: Environment: development
[2026-01-09 15:49:38,364] INFO in server_improved: Debug Mode: False
[2026-01-09 15:49:38,364] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 15:49:38,364] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 15:49:38,364] INFO in server_improved: System initialization endpoints available:
[2026-01-09 15:49:38,364] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 15:49:38,364] INFO in server_improved:   POST /initialize-system/
[2026-01-09 15:49:38,364] INFO in server_improved: ==================================================
[2026-01-09 15:49:43,159] INFO in middleware: POST /transactions/ - Status: 404 - Time: 2.048s
[2026-01-09 15:50:07,915] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.017s
[2026-01-09 15:50:07,933] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.011s
[2026-01-09 15:50:09,804] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.253s
[2026-01-09 15:50:09,837] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.017s
[2026-01-09 15:50:40,472] INFO in middleware: POST /transactions/ - Status: 404 - Time: 0.044s
[2026-01-09 16:31:22,773] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:31:23,009] INFO in server_improved: ==================================================
[2026-01-09 16:31:23,009] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:31:23,013] INFO in server_improved: ==================================================
[2026-01-09 16:31:23,013] INFO in server_improved: Environment: development
[2026-01-09 16:31:23,013] INFO in server_improved: Debug Mode: False
[2026-01-09 16:31:23,013] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:31:23,013] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:31:23,013] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:31:23,013] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:31:23,013] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:31:23,013] INFO in server_improved: ==================================================
[2026-01-09 16:32:05,819] INFO in server_improved: Application shutdown
[2026-01-09 16:32:31,540] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:32:31,957] INFO in server_improved: ==================================================
[2026-01-09 16:32:31,957] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:32:31,957] INFO in server_improved: ==================================================
[2026-01-09 16:32:31,957] INFO in server_improved: Environment: development
[2026-01-09 16:32:31,957] INFO in server_improved: Debug Mode: False
[2026-01-09 16:32:31,957] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:32:31,957] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:32:31,974] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:32:31,974] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:32:31,974] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:32:32,006] INFO in server_improved: ==================================================
[2026-01-09 16:32:32,123] INFO in server_improved: Application shutdown
[2026-01-09 16:33:08,026] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:33:09,905] INFO in server_improved: ==================================================
[2026-01-09 16:33:09,921] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:33:09,921] INFO in server_improved: ==================================================
[2026-01-09 16:33:09,921] INFO in server_improved: Environment: development
[2026-01-09 16:33:09,925] INFO in server_improved: Debug Mode: False
[2026-01-09 16:33:09,925] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:33:09,925] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:33:09,925] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:33:09,925] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:33:09,925] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:33:09,925] INFO in server_improved: ==================================================
[2026-01-09 16:34:30,774] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.019s
[2026-01-09 16:34:30,794] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.036s
[2026-01-09 16:34:32,099] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.063s
[2026-01-09 16:34:32,726] INFO in middleware: GET /branches/ - Status: 200 - Time: 1.815s
[2026-01-09 16:34:32,878] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.121s
[2026-01-09 16:34:33,775] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.539s
[2026-01-09 16:34:38,818] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.062s
[2026-01-09 16:35:00,259] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:35:42,847] INFO in server_improved: Application shutdown
[2026-01-09 16:35:56,704] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:35:56,899] INFO in server_improved: ==================================================
[2026-01-09 16:35:56,899] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:35:56,899] INFO in server_improved: ==================================================
[2026-01-09 16:35:56,899] INFO in server_improved: Environment: development
[2026-01-09 16:35:56,987] INFO in server_improved: Debug Mode: False
[2026-01-09 16:35:56,987] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:35:56,997] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:35:56,997] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:35:56,998] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:35:56,999] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:35:57,001] INFO in server_improved: ==================================================
[2026-01-09 16:36:00,593] INFO in server_improved: Application shutdown
[2026-01-09 16:36:07,012] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:36:07,110] INFO in server_improved: ==================================================
[2026-01-09 16:36:07,110] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:36:07,111] INFO in server_improved: ==================================================
[2026-01-09 16:36:07,111] INFO in server_improved: Environment: development
[2026-01-09 16:36:07,113] INFO in server_improved: Debug Mode: False
[2026-01-09 16:36:07,113] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:36:07,114] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:36:07,115] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:36:07,115] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:36:07,116] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:36:07,116] INFO in server_improved: ==================================================
[2026-01-09 16:37:32,582] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.000s
[2026-01-09 16:37:33,536] INFO in middleware: POST /transactions/ - Status: 404 - Time: 0.917s
[2026-01-09 16:40:12,137] INFO in server_improved: Application shutdown
[2026-01-09 16:40:22,931] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:40:23,085] INFO in server_improved: ==================================================
[2026-01-09 16:40:23,085] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:40:23,085] INFO in server_improved: ==================================================
[2026-01-09 16:40:23,085] INFO in server_improved: Environment: development
[2026-01-09 16:40:23,085] INFO in server_improved: Debug Mode: False
[2026-01-09 16:40:23,085] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:40:23,085] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:40:23,085] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:40:23,085] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:40:23,085] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:40:23,085] INFO in server_improved: ==================================================
[2026-01-09 16:40:25,315] INFO in server_improved: Application shutdown
[2026-01-09 16:40:32,421] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:40:32,603] INFO in server_improved: ==================================================
[2026-01-09 16:40:32,604] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:40:32,604] INFO in server_improved: ==================================================
[2026-01-09 16:40:32,605] INFO in server_improved: Environment: development
[2026-01-09 16:40:32,605] INFO in server_improved: Debug Mode: False
[2026-01-09 16:40:32,608] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:40:32,609] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:40:32,609] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:40:32,610] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:40:32,610] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:40:32,611] INFO in server_improved: ==================================================
[2026-01-09 16:40:39,507] INFO in server_improved: Application shutdown
[2026-01-09 16:40:45,435] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:40:45,573] INFO in server_improved: ==================================================
[2026-01-09 16:40:45,578] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:40:45,578] INFO in server_improved: ==================================================
[2026-01-09 16:40:45,578] INFO in server_improved: Environment: development
[2026-01-09 16:40:45,578] INFO in server_improved: Debug Mode: False
[2026-01-09 16:40:45,578] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:40:45,578] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:40:45,583] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:40:45,583] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:40:45,585] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:40:45,585] INFO in server_improved: ==================================================
[2026-01-09 16:40:53,359] INFO in server_improved: Application shutdown
[2026-01-09 16:40:58,263] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:40:58,343] INFO in server_improved: ==================================================
[2026-01-09 16:40:58,343] INFO in server_improved: Payment System API - Starting up
[2026-01-09 16:40:58,343] INFO in server_improved: ==================================================
[2026-01-09 16:40:58,343] INFO in server_improved: Environment: development
[2026-01-09 16:40:58,346] INFO in server_improved: Debug Mode: False
[2026-01-09 16:40:58,346] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:40:58,346] INFO in server_improved: Database URL: postgresql+psycopg2:...
[2026-01-09 16:40:58,346] INFO in server_improved: System initialization endpoints available:
[2026-01-09 16:40:58,346] INFO in server_improved:   GET  /check-initialization/
[2026-01-09 16:40:58,346] INFO in server_improved:   POST /initialize-system/
[2026-01-09 16:40:58,346] INFO in server_improved: ==================================================
[2026-01-09 16:41:36,373] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.763s
[2026-01-09 16:41:36,604] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.112s
[2026-01-09 16:41:36,725] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.963s
[2026-01-09 16:41:36,771] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.026s
[2026-01-09 16:42:16,500] INFO in middleware: POST /transactions/ - Status: 404 - Time: 0.164s
[2026-01-09 16:46:48,410] INFO in server_improved: Application shutdown
[2026-01-09 16:47:36,740] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-09 16:47:38,950] INFO in server_improved: Auth router loaded successfully
[2026-01-09 16:47:39,102] INFO in server_improved: Application startup
[2026-01-09 16:47:39,102] INFO in server_improved: Environment: development
[2026-01-09 16:47:39,102] INFO in server_improved: CORS Origins: ['http://localhost:3000', 'http://localhost:3001']
[2026-01-09 16:47:44,222] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 16:47:44,996] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.738s
[2026-01-09 16:48:22,585] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.036s
[2026-01-09 16:48:22,671] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.001s
[2026-01-09 16:48:22,727] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.132s
[2026-01-09 16:48:22,976] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.301s
[2026-01-09 16:48:23,005] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.016s
[2026-01-09 16:49:09,195] INFO in middleware: OPTIONS /transactions/ - Status: 200 - Time: 0.000s
[2026-01-09 16:49:15,205] INFO in middleware: POST /transactions/ - Status: 404 - Time: 6.004s
[2026-01-09 16:51:12,459] INFO in middleware: GET /branches/ - Status: 200 - Time: 7.381s
[2026-01-09 16:51:13,426] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.068s
[2026-01-09 16:51:21,777] INFO in middleware: GET /transactions/ - Status: 200 - Time: 16.565s
[2026-01-09 16:51:36,115] INFO in middleware: GET /transactions/ - Status: 200 - Time: 1.416s
[2026-01-09 16:52:22,860] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.007s
[2026-01-09 16:52:22,874] INFO in middleware: OPTIONS /check-initialization/ - Status: 200 - Time: 0.014s
[2026-01-09 16:52:23,789] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-09 16:52:23,811] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.923s
[2026-01-09 16:52:24,126] INFO in server_improved: System initialization check: True (director count: 1)
[2026-01-09 16:52:24,138] INFO in middleware: GET /check-initialization/ - Status: 200 - Time: 0.322s
[2026-01-09 16:52:40,261] INFO in middleware: OPTIONS /login/ - Status: 200 - Time: 0.007s
[2026-01-09 16:52:44,241] INFO in middleware: POST /login/ - Status: 200 - Time: 3.973s
[2026-01-09 16:53:08,851] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.045s
[2026-01-09 16:53:08,853] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.046s
[2026-01-09 16:53:08,856] INFO in middleware: OPTIONS /users/ - Status: 200 - Time: 0.026s
[2026-01-09 16:53:08,863] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.032s
[2026-01-09 16:53:08,866] INFO in middleware: OPTIONS /financial/total/ - Status: 200 - Time: 0.033s
[2026-01-09 16:53:08,873] INFO in middleware: OPTIONS /activity/ - Status: 200 - Time: 0.040s
[2026-01-09 16:53:09,119] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.232s
[2026-01-09 16:53:09,180] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.275s
[2026-01-09 16:53:09,254] INFO in middleware: GET /users/ - Status: 200 - Time: 0.293s
[2026-01-09 16:53:09,257] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.297s
[2026-01-09 16:53:09,373] INFO in middleware: GET /activity/ - Status: 200 - Time: 0.042s
[2026-01-09 16:53:09,374] INFO in middleware: GET /financial/total/ - Status: 200 - Time: 0.039s
[2026-01-09 16:53:09,781] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.452s
[2026-01-09 16:53:10,732] INFO in middleware: GET /users/ - Status: 200 - Time: 1.397s
[2026-01-09 16:53:26,089] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 16:53:26,089] INFO in middleware: OPTIONS /branches/ - Status: 200 - Time: 0.000s
[2026-01-09 16:53:26,335] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.120s
[2026-01-09 16:53:26,515] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.037s
[2026-01-09 16:53:28,923] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.024s
[2026-01-09 16:53:29,005] INFO in middleware: GET /branches/ - Status: 200 - Time: 0.032s
[2026-01-09 16:53:29,432] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.533s
[2026-01-09 16:53:29,600] INFO in middleware: GET /transactions/ - Status: 200 - Time: 0.115s
[2026-01-09 16:54:04,903] INFO in middleware: POST /transactions/ - Status: 404 - Time: 5.833s
[2026-01-09 17:06:10,621] INFO in server_improved: Application shutdown
[2026-01-09 17:06:36,512] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-09 17:06:54,958] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2026-01-09 17:06:54,962] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2026-01-09 17:06:55,260] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-09 17:06:55,280] INFO in server_improved: GET /branches/ - 200 - 0.308s
[2026-01-09 17:06:55,550] INFO in server_improved: GET /branches/ - 200 - 0.264s
[2026-01-09 17:06:55,685] INFO in server_improved: GET /transactions/ - 200 - 0.410s
[2026-01-09 17:06:57,777] INFO in server_improved: GET /transactions/ - 200 - 0.077s
[2026-01-09 17:07:41,278] INFO in server_improved: GET /branches/ - 200 - 0.103s
[2026-01-09 17:07:41,348] INFO in server_improved: GET /transactions/ - 401 - 0.007s
[2026-01-09 17:07:41,378] INFO in server_improved: GET /branches/ - 200 - 0.036s
[2026-01-09 17:07:55,291] INFO in server_improved: GET /check-initialization/ - 200 - 0.072s
[2026-01-09 17:07:55,311] INFO in server_improved: GET /check-initialization/ - 200 - 0.016s
[2026-01-09 17:08:16,081] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2026-01-09 17:08:18,422] INFO in server_improved: POST /login/ - 200 - 2.337s
[2026-01-09 17:08:20,415] INFO in server_improved: OPTIONS /users/ - 200 - 0.002s
[2026-01-09 17:08:20,428] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.001s
[2026-01-09 17:08:20,522] INFO in server_improved: OPTIONS /activity/ - 200 - 0.027s
[2026-01-09 17:08:20,531] INFO in server_improved: OPTIONS /activity/ - 200 - 0.015s
[2026-01-09 17:08:20,549] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.032s
[2026-01-09 17:08:20,601] INFO in server_improved: OPTIONS /users/ - 200 - 0.084s
[2026-01-09 17:08:20,837] INFO in server_improved: GET /branches/ - 200 - 0.320s
[2026-01-09 17:08:20,925] INFO in server_improved: GET /branches/ - 200 - 0.038s
[2026-01-09 17:08:20,952] INFO in server_improved: GET /users/ - 200 - 0.430s
[2026-01-09 17:08:21,068] INFO in server_improved: GET /users/ - 200 - 0.035s
[2026-01-09 17:08:27,614] INFO in server_improved: GET /financial/total/ - 200 - 6.943s
[2026-01-09 17:08:27,679] INFO in server_improved: GET /financial/total/ - 200 - 0.017s
[2026-01-09 17:08:27,870] INFO in server_improved: GET /activity/ - 200 - 7.200s
[2026-01-09 17:08:27,955] INFO in server_improved: GET /activity/ - 200 - 0.043s
[2026-01-09 17:08:38,736] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2026-01-09 17:08:38,743] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2026-01-09 17:08:39,722] INFO in server_improved: GET /branches/ - 200 - 0.788s
[2026-01-09 17:08:40,891] INFO in server_improved: GET /branches/ - 200 - 0.805s
[2026-01-11 11:42:17,513] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:22:48,512] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:23:01,679] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:23:16,516] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:23:42,220] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:24:16,660] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:24:38,346] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:26:06,341] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:27:06,364] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:35:28,347] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:44:02,559] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:44:13,297] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 12:44:31,376] INFO in server_improved: OPTIONS /initialize-system/ - 200 - 0.000s
[2026-01-11 12:44:33,358] INFO in server_improved: POST /initialize-system/ - 200 - 1.936s
[2026-01-11 12:44:43,884] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.001s
[2026-01-11 12:44:43,913] INFO in server_improved: OPTIONS /check-initialization/ - 200 - 0.000s
[2026-01-11 12:44:44,036] INFO in server_improved: GET /check-initialization/ - 200 - 0.043s
[2026-01-11 12:44:44,164] INFO in server_improved: GET /check-initialization/ - 200 - 0.012s
[2026-01-11 12:44:47,749] INFO in server_improved: OPTIONS /login/ - 200 - 0.000s
[2026-01-11 12:44:50,294] INFO in server_improved: POST /login/ - 200 - 2.542s
[2026-01-11 12:45:04,036] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2026-01-11 12:45:04,052] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2026-01-11 12:45:04,060] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2026-01-11 12:45:04,129] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.069s
[2026-01-11 12:45:04,473] INFO in server_improved: GET /branches/ - 200 - 0.250s
[2026-01-11 12:45:04,488] INFO in server_improved: GET /branches/ - 200 - 0.010s
[2026-01-11 12:45:06,197] INFO in server_improved: GET /transactions/ - 200 - 1.801s
[2026-01-11 12:45:06,263] INFO in server_improved: GET /transactions/ - 200 - 0.060s
[2026-01-11 12:45:10,130] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 12:45:14,444] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 12:45:14,445] INFO in server_improved: GET /branches/1 - 200 - 10.222s
[2026-01-11 12:45:14,465] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.001s
[2026-01-11 12:45:14,541] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2026-01-11 12:45:14,551] INFO in server_improved: GET /branches/ - 200 - 0.080s
[2026-01-11 12:45:14,652] INFO in server_improved: GET /transactions/ - 200 - 0.083s
[2026-01-11 12:45:15,145] INFO in server_improved: GET /transactions/ - 200 - 0.674s
[2026-01-11 12:45:27,446] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2026-01-11 12:45:27,462] INFO in server_improved: OPTIONS /branches/ - 200 - 0.017s
[2026-01-11 12:45:27,487] INFO in server_improved: GET /branches/ - 200 - 0.017s
[2026-01-11 12:45:27,549] INFO in server_improved: GET /branches/ - 200 - 0.061s
[2026-01-11 12:45:53,195] INFO in server_improved: OPTIONS /branches/ - 200 - 0.000s
[2026-01-11 12:45:53,310] INFO in server_improved: POST /branches/ - 200 - 0.094s
[2026-01-11 12:45:53,406] INFO in server_improved: GET /branches/ - 200 - 0.077s
[2026-01-11 12:45:56,853] INFO in server_improved: GET /branches/ - 200 - 0.045s
[2026-01-11 12:45:56,866] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2026-01-11 12:45:56,883] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2026-01-11 12:45:56,946] INFO in server_improved: GET /transactions/ - 200 - 0.047s
[2026-01-11 12:46:01,201] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 12:46:05,771] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 12:46:05,777] INFO in server_improved: GET /branches/1 - 200 - 8.951s
[2026-01-11 12:46:05,837] INFO in server_improved: GET /branches/ - 200 - 0.039s
[2026-01-11 12:46:05,849] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2026-01-11 12:46:05,959] INFO in server_improved: GET /transactions/ - 200 - 0.161s
[2026-01-11 12:46:06,276] INFO in server_improved: GET /transactions/ - 200 - 0.135s
[2026-01-11 12:46:10,527] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 12:46:14,931] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 12:46:14,934] INFO in server_improved: GET /branches/1 - 200 - 9.143s
[2026-01-11 12:47:54,998] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 14:53:30,977] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.036s
[2026-01-11 14:53:31,125] INFO in server_improved: OPTIONS /branches/ - 200 - 0.224s
[2026-01-11 14:53:31,129] INFO in server_improved: OPTIONS /branches/ - 200 - 0.226s
[2026-01-11 14:53:31,137] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.234s
[2026-01-11 14:53:35,177] INFO in server_improved: GET /branches/ - 200 - 4.002s
[2026-01-11 14:53:35,177] INFO in server_improved: GET /branches/ - 200 - 4.003s
[2026-01-11 14:53:35,186] INFO in server_improved: GET /transactions/ - 200 - 4.011s
[2026-01-11 14:53:35,296] INFO in server_improved: GET /transactions/ - 200 - 0.081s
[2026-01-11 14:53:37,768] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:53:41,895] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:53:41,905] INFO in server_improved: GET /branches/1 - 200 - 10.729s
[2026-01-11 14:53:41,945] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 14:53:42,095] INFO in server_improved: GET /branches/ - 200 - 0.116s
[2026-01-11 14:53:42,257] INFO in server_improved: GET /transactions/ - 200 - 0.274s
[2026-01-11 14:53:42,304] INFO in server_improved: GET /transactions/ - 200 - 0.327s
[2026-01-11 14:53:42,791] INFO in server_improved: GET /transactions/ - 200 - 0.016s
[2026-01-11 14:53:46,166] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:53:48,451] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 14:53:50,561] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:53:53,095] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:53:57,253] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:01,579] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:06,477] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:06,491] INFO in server_improved: POST /transactions/ - 201 - 18.034s
[2026-01-11 14:54:06,502] INFO in server_improved: GET /branches/1 - 200 - 24.545s
[2026-01-11 14:54:06,518] INFO in server_improved: OPTIONS /transactions/321e63ee-48cd-4f78-af81-60b803dc4f7f/ - 200 - 0.000s
[2026-01-11 14:54:06,634] INFO in server_improved: GET /transactions/321e63ee-48cd-4f78-af81-60b803dc4f7f/ - 200 - 0.063s
[2026-01-11 14:54:06,745] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 14:54:06,783] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2026-01-11 14:54:06,829] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2026-01-11 14:54:07,399] INFO in server_improved: GET /transactions/ - 200 - 0.455s
[2026-01-11 14:54:11,287] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:11,780] INFO in server_improved: GET /branches/ - 200 - 0.059s
[2026-01-11 14:54:11,793] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2026-01-11 14:54:11,845] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:11,872] INFO in server_improved: GET /branches/ - 200 - 0.082s
[2026-01-11 14:54:12,101] INFO in server_improved: GET /transactions/ - 200 - 0.071s
[2026-01-11 14:54:13,638] INFO in server_improved: GET /transactions/ - 200 - 0.022s
[2026-01-11 14:54:16,159] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:16,162] INFO in server_improved: GET /branches/1 - 200 - 9.590s
[2026-01-11 14:54:16,351] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:16,354] INFO in server_improved: GET /branches/2 - 200 - 9.409s
[2026-01-11 14:54:16,384] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:21,048] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:21,057] INFO in server_improved: GET /branches/1 - 200 - 9.327s
[2026-01-11 14:54:21,205] INFO in server_improved: GET /transactions/ - 200 - 0.089s
[2026-01-11 14:54:21,317] INFO in server_improved: GET /transactions/ - 200 - 0.206s
[2026-01-11 14:54:21,368] INFO in server_improved: GET /transactions/ - 200 - 0.103s
[2026-01-11 14:54:21,392] INFO in server_improved: GET /transactions/ - 200 - 0.285s
[2026-01-11 14:54:22,142] INFO in server_improved: GET /branches/ - 200 - 1.029s
[2026-01-11 14:54:26,173] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:30,229] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:30,232] INFO in server_improved: GET /branches/1 - 200 - 8.661s
[2026-01-11 14:54:34,280] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:38,363] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:38,368] INFO in server_improved: GET /branches/1 - 200 - 8.134s
[2026-01-11 14:54:43,118] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:47,164] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 14:54:47,165] INFO in server_improved: GET /branches/1 - 200 - 8.791s
[2026-01-11 14:58:34,166] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 15:01:12,048] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 15:01:15,029] INFO in server_improved: GET /branches/ - 200 - 1.842s
[2026-01-11 15:01:15,074] INFO in server_improved: GET /branches/ - 200 - 0.010s
[2026-01-11 15:01:17,119] INFO in server_improved: GET /transactions/ - 200 - 3.941s
[2026-01-11 15:01:17,638] INFO in server_improved: GET /transactions/ - 200 - 0.332s
[2026-01-11 15:01:19,328] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:24,153] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:27,238] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:32,069] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:36,388] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:41,263] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:41,265] INFO in server_improved: POST /transactions/ - 201 - 18.931s
[2026-01-11 15:01:41,268] INFO in server_improved: GET /branches/1 - 200 - 28.090s
[2026-01-11 15:01:41,309] INFO in server_improved: OPTIONS /transactions/7273cf29-d3c2-4448-b2dd-4f8f48237733/ - 200 - 0.000s
[2026-01-11 15:01:41,646] INFO in server_improved: GET /transactions/ - 200 - 0.325s
[2026-01-11 15:01:41,942] INFO in server_improved: GET /transactions/ - 200 - 0.620s
[2026-01-11 15:01:42,291] INFO in server_improved: GET /transactions/7273cf29-d3c2-4448-b2dd-4f8f48237733/ - 200 - 0.353s
[2026-01-11 15:01:42,430] INFO in server_improved: GET /transactions/ - 200 - 0.494s
[2026-01-11 15:01:42,498] INFO in server_improved: GET /transactions/ - 200 - 0.045s
[2026-01-11 15:01:42,543] INFO in server_improved: GET /transactions/ - 200 - 0.090s
[2026-01-11 15:01:43,849] INFO in server_improved: GET /branches/ - 200 - 2.527s
[2026-01-11 15:01:48,959] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:53,253] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:01:53,257] INFO in server_improved: GET /branches/2 - 200 - 8.371s
[2026-01-11 15:01:57,301] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:02:01,357] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:02:01,362] INFO in server_improved: GET /branches/2 - 200 - 8.102s
[2026-01-11 15:04:03,402] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 15:05:42,611] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 15:06:16,444] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 15:06:17,184] INFO in server_improved: OPTIONS /branches/ - 200 - 0.007s
[2026-01-11 15:06:17,188] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.022s
[2026-01-11 15:06:17,193] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.024s
[2026-01-11 15:06:17,194] INFO in server_improved: OPTIONS /branches/ - 200 - 0.028s
[2026-01-11 15:06:17,775] INFO in server_improved: GET /branches/ - 200 - 0.554s
[2026-01-11 15:06:17,796] INFO in server_improved: GET /branches/ - 200 - 0.018s
[2026-01-11 15:06:17,973] INFO in server_improved: GET /transactions/ - 200 - 0.753s
[2026-01-11 15:06:18,022] INFO in server_improved: GET /transactions/ - 200 - 0.034s
[2026-01-11 15:06:22,298] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:06:26,792] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:06:26,795] INFO in server_improved: GET /branches/1 - 200 - 9.574s
[2026-01-11 15:06:26,809] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 15:06:26,873] INFO in server_improved: GET /branches/ - 200 - 0.056s
[2026-01-11 15:06:26,875] INFO in server_improved: GET /transactions/ - 200 - 0.058s
[2026-01-11 15:06:26,937] INFO in server_improved: GET /transactions/ - 200 - 0.095s
[2026-01-11 15:06:27,011] INFO in server_improved: GET /transactions/ - 200 - 0.023s
[2026-01-11 15:06:31,079] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:06:35,406] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:06:35,409] INFO in server_improved: GET /branches/1 - 200 - 8.592s
[2026-01-11 15:06:40,021] INFO in server_improved: GET /branches/ - 200 - 0.025s
[2026-01-11 15:06:40,043] INFO in server_improved: GET /branches/ - 200 - 0.015s
[2026-01-11 15:06:40,064] INFO in server_improved: GET /transactions/ - 200 - 0.064s
[2026-01-11 15:06:40,263] INFO in server_improved: GET /transactions/ - 200 - 0.050s
[2026-01-11 15:06:44,660] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:06:47,554] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2026-01-11 15:06:47,554] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2026-01-11 15:06:47,599] INFO in server_improved: GET /users/ - 200 - 0.028s
[2026-01-11 15:06:47,657] INFO in server_improved: GET /branches/ - 200 - 0.061s
[2026-01-11 15:06:47,820] INFO in server_improved: GET /users/ - 200 - 0.030s
[2026-01-11 15:06:47,830] INFO in server_improved: GET /branches/ - 200 - 0.037s
[2026-01-11 15:06:49,449] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:06:49,454] INFO in server_improved: GET /branches/1 - 200 - 9.454s
[2026-01-11 15:06:56,385] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.003s
[2026-01-11 15:06:56,385] INFO in server_improved: OPTIONS /activity/ - 200 - 0.002s
[2026-01-11 15:06:56,388] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2026-01-11 15:06:56,391] INFO in server_improved: OPTIONS /activity/ - 200 - 0.002s
[2026-01-11 15:06:56,439] INFO in server_improved: GET /activity/ - 200 - 0.038s
[2026-01-11 15:06:56,440] INFO in server_improved: GET /financial/total/ - 200 - 0.039s
[2026-01-11 15:06:56,753] INFO in server_improved: GET /activity/ - 200 - 0.159s
[2026-01-11 15:06:56,837] INFO in server_improved: GET /financial/total/ - 200 - 0.235s
[2026-01-11 15:06:57,946] INFO in server_improved: GET /branches/ - 200 - 1.544s
[2026-01-11 15:06:58,167] INFO in server_improved: GET /branches/ - 200 - 0.016s
[2026-01-11 15:06:58,187] INFO in server_improved: GET /users/ - 200 - 1.785s
[2026-01-11 15:06:58,301] INFO in server_improved: GET /users/ - 200 - 0.017s
[2026-01-11 15:07:32,612] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 15:07:32,630] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2026-01-11 15:07:32,805] INFO in server_improved: GET /branches/ - 200 - 0.117s
[2026-01-11 15:07:33,083] INFO in server_improved: GET /branches/ - 200 - 0.009s
[2026-01-11 15:07:33,374] INFO in server_improved: GET /transactions/ - 200 - 0.685s
[2026-01-11 15:07:34,447] INFO in server_improved: GET /transactions/ - 200 - 0.686s
[2026-01-11 15:07:37,379] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2026-01-11 15:07:41,900] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:07:46,098] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 15:07:46,104] INFO in server_improved: GET /branches/2 - 200 - 8.719s
[2026-01-11 15:09:36,702] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 17:07:28,343] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 17:08:11,178] INFO in cache: Successfully connected to Redis at localhost:6379
[2026-01-11 17:08:12,467] INFO in server_improved: OPTIONS /branches/ - 200 - 0.019s
[2026-01-11 17:08:12,522] INFO in server_improved: OPTIONS /branches/ - 200 - 0.094s
[2026-01-11 17:08:12,557] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.129s
[2026-01-11 17:08:12,587] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.159s
[2026-01-11 17:08:14,101] INFO in server_improved: GET /branches/ - 200 - 1.468s
[2026-01-11 17:08:14,251] INFO in server_improved: GET /transactions/ - 200 - 1.618s
[2026-01-11 17:08:14,499] INFO in server_improved: GET /transactions/ - 200 - 1.866s
[2026-01-11 17:08:14,512] INFO in server_improved: GET /branches/ - 200 - 1.879s
[2026-01-11 17:08:15,742] INFO in server_improved: GET /check-initialization/ - 200 - 0.209s
[2026-01-11 17:08:15,907] INFO in server_improved: GET /check-initialization/ - 200 - 0.027s
[2026-01-11 17:08:21,073] INFO in server_improved: OPTIONS /login/ - 200 - 0.001s
[2026-01-11 17:08:23,454] INFO in server_improved: POST /login/ - 200 - 2.375s
[2026-01-11 17:08:28,300] INFO in server_improved: OPTIONS /users/ - 200 - 0.000s
[2026-01-11 17:08:28,304] INFO in server_improved: OPTIONS /financial/total/ - 200 - 0.000s
[2026-01-11 17:08:28,304] INFO in server_improved: OPTIONS /activity/ - 200 - 0.000s
[2026-01-11 17:08:28,724] INFO in server_improved: GET /branches/ - 200 - 0.186s
[2026-01-11 17:08:28,724] INFO in server_improved: GET /users/ - 200 - 0.182s
[2026-01-11 17:08:28,814] INFO in server_improved: GET /activity/ - 200 - 0.173s
[2026-01-11 17:08:28,924] INFO in server_improved: GET /financial/total/ - 200 - 0.288s
[2026-01-11 17:08:28,929] INFO in server_improved: GET /branches/ - 200 - 0.103s
[2026-01-11 17:08:28,936] INFO in server_improved: GET /activity/ - 200 - 0.110s
[2026-01-11 17:08:28,966] INFO in server_improved: GET /financial/total/ - 200 - 0.019s
[2026-01-11 17:08:29,035] INFO in server_improved: GET /users/ - 200 - 0.209s
[2026-01-11 17:08:39,063] INFO in server_improved: GET /branches/ - 200 - 0.023s
[2026-01-11 17:08:39,134] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2026-01-11 17:08:39,294] INFO in server_improved: OPTIONS /branches/1 - 200 - 0.001s
[2026-01-11 17:08:39,304] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.003s
[2026-01-11 17:08:39,534] INFO in server_improved: GET /transactions/ - 200 - 0.148s
[2026-01-11 17:08:39,650] INFO in server_improved: GET /transactions/ - 200 - 0.053s
[2026-01-11 17:08:44,371] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:08:49,134] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:08:49,146] INFO in server_improved: GET /branches/1 - 200 - 9.761s
[2026-01-11 17:08:49,158] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 17:08:49,228] INFO in server_improved: GET /branches/ - 200 - 0.048s
[2026-01-11 17:08:49,231] INFO in server_improved: GET /transactions/ - 200 - 0.051s
[2026-01-11 17:08:49,277] INFO in server_improved: GET /transactions/ - 200 - 0.032s
[2026-01-11 17:08:49,418] INFO in server_improved: GET /transactions/ - 200 - 0.232s
[2026-01-11 17:08:54,232] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:08:58,302] INFO in server_improved: OPTIONS /transactions/ - 200 - 0.000s
[2026-01-11 17:08:59,062] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:03,246] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:07,837] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:11,869] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:16,110] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:16,111] INFO in server_improved: POST /transactions/ - 201 - 17.804s
[2026-01-11 17:09:16,114] INFO in server_improved: GET /branches/1 - 200 - 26.935s
[2026-01-11 17:09:16,121] INFO in server_improved: OPTIONS /transactions/50ea4781-64e3-47e8-be94-d6929d11b4df/ - 200 - 0.000s
[2026-01-11 17:09:16,243] INFO in server_improved: GET /transactions/50ea4781-64e3-47e8-be94-d6929d11b4df/ - 200 - 0.020s
[2026-01-11 17:09:16,611] INFO in server_improved: GET /transactions/ - 200 - 0.021s
[2026-01-11 17:09:16,761] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2026-01-11 17:09:20,839] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:24,906] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:24,907] INFO in server_improved: GET /branches/2 - 200 - 8.125s
[2026-01-11 17:09:28,975] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:33,029] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:09:33,030] INFO in server_improved: GET /branches/2 - 200 - 8.124s
[2026-01-11 17:10:57,070] INFO in server_improved: OPTIONS /branches/ - 200 - 0.001s
[2026-01-11 17:10:57,072] INFO in server_improved: OPTIONS /branches/ - 200 - 0.002s
[2026-01-11 17:10:57,961] INFO in server_improved: GET /branches/ - 200 - 0.602s
[2026-01-11 17:10:58,271] INFO in server_improved: GET /branches/ - 200 - 0.031s
[2026-01-11 17:11:16,411] INFO in server_improved: OPTIONS /branches/2 - 200 - 0.000s
[2026-01-11 17:11:20,797] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:11:20,801] INFO in server_improved: PUT /branches/2 - 200 - 4.383s
[2026-01-11 17:11:20,839] INFO in server_improved: GET /branches/ - 200 - 0.027s
[2026-01-11 17:13:53,043] INFO in server_improved: GET /branches/ - 200 - 0.086s
[2026-01-11 17:13:53,177] INFO in server_improved: GET /branches/ - 200 - 0.024s
[2026-01-11 17:13:53,227] INFO in server_improved: GET /transactions/ - 200 - 0.486s
[2026-01-11 17:13:53,483] INFO in server_improved: GET /transactions/ - 200 - 0.055s
[2026-01-11 17:13:57,140] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:13:59,413] INFO in server_improved: GET /transactions/ - 200 - 0.379s
[2026-01-11 17:14:01,990] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:01,999] INFO in server_improved: GET /branches/1 - 200 - 9.258s
[2026-01-11 17:14:02,174] INFO in server_improved: GET /branches/ - 200 - 0.111s
[2026-01-11 17:14:02,179] INFO in server_improved: GET /transactions/ - 200 - 0.115s
[2026-01-11 17:14:02,220] INFO in server_improved: GET /transactions/ - 200 - 0.165s
[2026-01-11 17:14:02,244] INFO in server_improved: GET /transactions/ - 200 - 0.196s
[2026-01-11 17:14:02,275] INFO in server_improved: GET /transactions/ - 200 - 0.070s
[2026-01-11 17:14:23,935] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:27,998] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:28,003] INFO in server_improved: GET /branches/2 - 200 - 8.151s
[2026-01-11 17:14:32,068] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:36,185] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:36,195] INFO in server_improved: GET /branches/2 - 200 - 8.184s
[2026-01-11 17:14:42,993] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:47,741] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:47,745] INFO in server_improved: GET /branches/1 - 200 - 9.241s
[2026-01-11 17:14:51,815] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:56,629] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:14:59,152] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:03,209] ERROR in cache: Cache clear pattern error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:07,260] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:11,310] ERROR in cache: Cache delete error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:11,311] INFO in server_improved: POST /transactions/ - 201 - 17.010s
[2026-01-11 17:15:11,316] INFO in server_improved: GET /branches/1 - 200 - 23.567s
[2026-01-11 17:15:11,349] INFO in server_improved: OPTIONS /transactions/9b25af6f-af80-4e50-8e46-6627cd261539/ - 200 - 0.001s
[2026-01-11 17:15:12,264] INFO in server_improved: GET /transactions/9b25af6f-af80-4e50-8e46-6627cd261539/ - 200 - 0.889s
[2026-01-11 17:15:12,313] INFO in server_improved: GET /transactions/ - 200 - 0.038s
[2026-01-11 17:15:15,387] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:15,387] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:16,421] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:19,449] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:19,449] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:19,453] INFO in server_improved: GET /branches/1 - 200 - 8.142s
[2026-01-11 17:15:19,453] INFO in server_improved: GET /branches/1 - 200 - 8.142s
[2026-01-11 17:15:20,473] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:20,475] INFO in server_improved: GET /branches/2 - 200 - 8.116s
[2026-01-11 17:15:24,545] ERROR in cache: Cache get error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:29,027] ERROR in cache: Cache set error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
[2026-01-11 17:15:29,031] INFO in server_improved: GET /branches/2 - 200 - 8.551s
